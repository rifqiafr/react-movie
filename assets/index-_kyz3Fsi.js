(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&s(d)}).observe(document,{childList:!0,subtree:!0});function i(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function s(o){if(o.ep)return;o.ep=!0;const c=i(o);fetch(o.href,c)}})();var Xf={exports:{}},Gl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gy;function FT(){if(Gy)return Gl;Gy=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(s,o,c){var d=null;if(c!==void 0&&(d=""+c),o.key!==void 0&&(d=""+o.key),"key"in o){c={};for(var g in o)g!=="key"&&(c[g]=o[g])}else c=o;return o=c.ref,{$$typeof:r,type:s,key:d,ref:o!==void 0?o:null,props:c}}return Gl.Fragment=e,Gl.jsx=i,Gl.jsxs=i,Gl}var Fy;function QT(){return Fy||(Fy=1,Xf.exports=FT()),Xf.exports}var Q=QT(),$f={exports:{}},St={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qy;function YT(){if(Qy)return St;Qy=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),b=Symbol.for("react.activity"),x=Symbol.iterator;function P(I){return I===null||typeof I!="object"?null:(I=x&&I[x]||I["@@iterator"],typeof I=="function"?I:null)}var K={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},F=Object.assign,k={};function et(I,J,ot){this.props=I,this.context=J,this.refs=k,this.updater=ot||K}et.prototype.isReactComponent={},et.prototype.setState=function(I,J){if(typeof I!="object"&&typeof I!="function"&&I!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,I,J,"setState")},et.prototype.forceUpdate=function(I){this.updater.enqueueForceUpdate(this,I,"forceUpdate")};function nt(){}nt.prototype=et.prototype;function st(I,J,ot){this.props=I,this.context=J,this.refs=k,this.updater=ot||K}var at=st.prototype=new nt;at.constructor=st,F(at,et.prototype),at.isPureReactComponent=!0;var vt=Array.isArray;function it(){}var R={H:null,A:null,T:null,S:null},A=Object.prototype.hasOwnProperty;function w(I,J,ot){var ct=ot.ref;return{$$typeof:r,type:I,key:J,ref:ct!==void 0?ct:null,props:ot}}function M(I,J){return w(I.type,J,I.props)}function N(I){return typeof I=="object"&&I!==null&&I.$$typeof===r}function U(I){var J={"=":"=0",":":"=2"};return"$"+I.replace(/[=:]/g,function(ot){return J[ot]})}var C=/\/+/g;function ie(I,J){return typeof I=="object"&&I!==null&&I.key!=null?U(""+I.key):J.toString(36)}function Ce(I){switch(I.status){case"fulfilled":return I.value;case"rejected":throw I.reason;default:switch(typeof I.status=="string"?I.then(it,it):(I.status="pending",I.then(function(J){I.status==="pending"&&(I.status="fulfilled",I.value=J)},function(J){I.status==="pending"&&(I.status="rejected",I.reason=J)})),I.status){case"fulfilled":return I.value;case"rejected":throw I.reason}}throw I}function X(I,J,ot,ct,Et){var wt=typeof I;(wt==="undefined"||wt==="boolean")&&(I=null);var Ut=!1;if(I===null)Ut=!0;else switch(wt){case"bigint":case"string":case"number":Ut=!0;break;case"object":switch(I.$$typeof){case r:case e:Ut=!0;break;case T:return Ut=I._init,X(Ut(I._payload),J,ot,ct,Et)}}if(Ut)return Et=Et(I),Ut=ct===""?"."+ie(I,0):ct,vt(Et)?(ot="",Ut!=null&&(ot=Ut.replace(C,"$&/")+"/"),X(Et,J,ot,"",function(Ha){return Ha})):Et!=null&&(N(Et)&&(Et=M(Et,ot+(Et.key==null||I&&I.key===Et.key?"":(""+Et.key).replace(C,"$&/")+"/")+Ut)),J.push(Et)),1;Ut=0;var De=ct===""?".":ct+":";if(vt(I))for(var ae=0;ae<I.length;ae++)ct=I[ae],wt=De+ie(ct,ae),Ut+=X(ct,J,ot,wt,Et);else if(ae=P(I),typeof ae=="function")for(I=ae.call(I),ae=0;!(ct=I.next()).done;)ct=ct.value,wt=De+ie(ct,ae++),Ut+=X(ct,J,ot,wt,Et);else if(wt==="object"){if(typeof I.then=="function")return X(Ce(I),J,ot,ct,Et);throw J=String(I),Error("Objects are not valid as a React child (found: "+(J==="[object Object]"?"object with keys {"+Object.keys(I).join(", ")+"}":J)+"). If you meant to render a collection of children, use an array instead.")}return Ut}function lt(I,J,ot){if(I==null)return I;var ct=[],Et=0;return X(I,ct,"","",function(wt){return J.call(ot,wt,Et++)}),ct}function gt(I){if(I._status===-1){var J=I._result;J=J(),J.then(function(ot){(I._status===0||I._status===-1)&&(I._status=1,I._result=ot)},function(ot){(I._status===0||I._status===-1)&&(I._status=2,I._result=ot)}),I._status===-1&&(I._status=0,I._result=J)}if(I._status===1)return I._result.default;throw I._result}var Bt=typeof reportError=="function"?reportError:function(I){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var J=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof I=="object"&&I!==null&&typeof I.message=="string"?String(I.message):String(I),error:I});if(!window.dispatchEvent(J))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",I);return}console.error(I)},Gt={map:lt,forEach:function(I,J,ot){lt(I,function(){J.apply(this,arguments)},ot)},count:function(I){var J=0;return lt(I,function(){J++}),J},toArray:function(I){return lt(I,function(J){return J})||[]},only:function(I){if(!N(I))throw Error("React.Children.only expected to receive a single React element child.");return I}};return St.Activity=b,St.Children=Gt,St.Component=et,St.Fragment=i,St.Profiler=o,St.PureComponent=st,St.StrictMode=s,St.Suspense=_,St.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=R,St.__COMPILER_RUNTIME={__proto__:null,c:function(I){return R.H.useMemoCache(I)}},St.cache=function(I){return function(){return I.apply(null,arguments)}},St.cacheSignal=function(){return null},St.cloneElement=function(I,J,ot){if(I==null)throw Error("The argument must be a React element, but you passed "+I+".");var ct=F({},I.props),Et=I.key;if(J!=null)for(wt in J.key!==void 0&&(Et=""+J.key),J)!A.call(J,wt)||wt==="key"||wt==="__self"||wt==="__source"||wt==="ref"&&J.ref===void 0||(ct[wt]=J[wt]);var wt=arguments.length-2;if(wt===1)ct.children=ot;else if(1<wt){for(var Ut=Array(wt),De=0;De<wt;De++)Ut[De]=arguments[De+2];ct.children=Ut}return w(I.type,Et,ct)},St.createContext=function(I){return I={$$typeof:d,_currentValue:I,_currentValue2:I,_threadCount:0,Provider:null,Consumer:null},I.Provider=I,I.Consumer={$$typeof:c,_context:I},I},St.createElement=function(I,J,ot){var ct,Et={},wt=null;if(J!=null)for(ct in J.key!==void 0&&(wt=""+J.key),J)A.call(J,ct)&&ct!=="key"&&ct!=="__self"&&ct!=="__source"&&(Et[ct]=J[ct]);var Ut=arguments.length-2;if(Ut===1)Et.children=ot;else if(1<Ut){for(var De=Array(Ut),ae=0;ae<Ut;ae++)De[ae]=arguments[ae+2];Et.children=De}if(I&&I.defaultProps)for(ct in Ut=I.defaultProps,Ut)Et[ct]===void 0&&(Et[ct]=Ut[ct]);return w(I,wt,Et)},St.createRef=function(){return{current:null}},St.forwardRef=function(I){return{$$typeof:g,render:I}},St.isValidElement=N,St.lazy=function(I){return{$$typeof:T,_payload:{_status:-1,_result:I},_init:gt}},St.memo=function(I,J){return{$$typeof:p,type:I,compare:J===void 0?null:J}},St.startTransition=function(I){var J=R.T,ot={};R.T=ot;try{var ct=I(),Et=R.S;Et!==null&&Et(ot,ct),typeof ct=="object"&&ct!==null&&typeof ct.then=="function"&&ct.then(it,Bt)}catch(wt){Bt(wt)}finally{J!==null&&ot.types!==null&&(J.types=ot.types),R.T=J}},St.unstable_useCacheRefresh=function(){return R.H.useCacheRefresh()},St.use=function(I){return R.H.use(I)},St.useActionState=function(I,J,ot){return R.H.useActionState(I,J,ot)},St.useCallback=function(I,J){return R.H.useCallback(I,J)},St.useContext=function(I){return R.H.useContext(I)},St.useDebugValue=function(){},St.useDeferredValue=function(I,J){return R.H.useDeferredValue(I,J)},St.useEffect=function(I,J){return R.H.useEffect(I,J)},St.useEffectEvent=function(I){return R.H.useEffectEvent(I)},St.useId=function(){return R.H.useId()},St.useImperativeHandle=function(I,J,ot){return R.H.useImperativeHandle(I,J,ot)},St.useInsertionEffect=function(I,J){return R.H.useInsertionEffect(I,J)},St.useLayoutEffect=function(I,J){return R.H.useLayoutEffect(I,J)},St.useMemo=function(I,J){return R.H.useMemo(I,J)},St.useOptimistic=function(I,J){return R.H.useOptimistic(I,J)},St.useReducer=function(I,J,ot){return R.H.useReducer(I,J,ot)},St.useRef=function(I){return R.H.useRef(I)},St.useState=function(I){return R.H.useState(I)},St.useSyncExternalStore=function(I,J,ot){return R.H.useSyncExternalStore(I,J,ot)},St.useTransition=function(){return R.H.useTransition()},St.version="19.2.0",St}var Yy;function Bd(){return Yy||(Yy=1,$f.exports=YT()),$f.exports}var G=Bd(),Zf={exports:{}},Fl={},Jf={exports:{}},Wf={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ky;function KT(){return Ky||(Ky=1,(function(r){function e(X,lt){var gt=X.length;X.push(lt);t:for(;0<gt;){var Bt=gt-1>>>1,Gt=X[Bt];if(0<o(Gt,lt))X[Bt]=lt,X[gt]=Gt,gt=Bt;else break t}}function i(X){return X.length===0?null:X[0]}function s(X){if(X.length===0)return null;var lt=X[0],gt=X.pop();if(gt!==lt){X[0]=gt;t:for(var Bt=0,Gt=X.length,I=Gt>>>1;Bt<I;){var J=2*(Bt+1)-1,ot=X[J],ct=J+1,Et=X[ct];if(0>o(ot,gt))ct<Gt&&0>o(Et,ot)?(X[Bt]=Et,X[ct]=gt,Bt=ct):(X[Bt]=ot,X[J]=gt,Bt=J);else if(ct<Gt&&0>o(Et,gt))X[Bt]=Et,X[ct]=gt,Bt=ct;else break t}}return lt}function o(X,lt){var gt=X.sortIndex-lt.sortIndex;return gt!==0?gt:X.id-lt.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;r.unstable_now=function(){return c.now()}}else{var d=Date,g=d.now();r.unstable_now=function(){return d.now()-g}}var _=[],p=[],T=1,b=null,x=3,P=!1,K=!1,F=!1,k=!1,et=typeof setTimeout=="function"?setTimeout:null,nt=typeof clearTimeout=="function"?clearTimeout:null,st=typeof setImmediate<"u"?setImmediate:null;function at(X){for(var lt=i(p);lt!==null;){if(lt.callback===null)s(p);else if(lt.startTime<=X)s(p),lt.sortIndex=lt.expirationTime,e(_,lt);else break;lt=i(p)}}function vt(X){if(F=!1,at(X),!K)if(i(_)!==null)K=!0,it||(it=!0,U());else{var lt=i(p);lt!==null&&Ce(vt,lt.startTime-X)}}var it=!1,R=-1,A=5,w=-1;function M(){return k?!0:!(r.unstable_now()-w<A)}function N(){if(k=!1,it){var X=r.unstable_now();w=X;var lt=!0;try{t:{K=!1,F&&(F=!1,nt(R),R=-1),P=!0;var gt=x;try{e:{for(at(X),b=i(_);b!==null&&!(b.expirationTime>X&&M());){var Bt=b.callback;if(typeof Bt=="function"){b.callback=null,x=b.priorityLevel;var Gt=Bt(b.expirationTime<=X);if(X=r.unstable_now(),typeof Gt=="function"){b.callback=Gt,at(X),lt=!0;break e}b===i(_)&&s(_),at(X)}else s(_);b=i(_)}if(b!==null)lt=!0;else{var I=i(p);I!==null&&Ce(vt,I.startTime-X),lt=!1}}break t}finally{b=null,x=gt,P=!1}lt=void 0}}finally{lt?U():it=!1}}}var U;if(typeof st=="function")U=function(){st(N)};else if(typeof MessageChannel<"u"){var C=new MessageChannel,ie=C.port2;C.port1.onmessage=N,U=function(){ie.postMessage(null)}}else U=function(){et(N,0)};function Ce(X,lt){R=et(function(){X(r.unstable_now())},lt)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(X){X.callback=null},r.unstable_forceFrameRate=function(X){0>X||125<X?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<X?Math.floor(1e3/X):5},r.unstable_getCurrentPriorityLevel=function(){return x},r.unstable_next=function(X){switch(x){case 1:case 2:case 3:var lt=3;break;default:lt=x}var gt=x;x=lt;try{return X()}finally{x=gt}},r.unstable_requestPaint=function(){k=!0},r.unstable_runWithPriority=function(X,lt){switch(X){case 1:case 2:case 3:case 4:case 5:break;default:X=3}var gt=x;x=X;try{return lt()}finally{x=gt}},r.unstable_scheduleCallback=function(X,lt,gt){var Bt=r.unstable_now();switch(typeof gt=="object"&&gt!==null?(gt=gt.delay,gt=typeof gt=="number"&&0<gt?Bt+gt:Bt):gt=Bt,X){case 1:var Gt=-1;break;case 2:Gt=250;break;case 5:Gt=1073741823;break;case 4:Gt=1e4;break;default:Gt=5e3}return Gt=gt+Gt,X={id:T++,callback:lt,priorityLevel:X,startTime:gt,expirationTime:Gt,sortIndex:-1},gt>Bt?(X.sortIndex=gt,e(p,X),i(_)===null&&X===i(p)&&(F?(nt(R),R=-1):F=!0,Ce(vt,gt-Bt))):(X.sortIndex=Gt,e(_,X),K||P||(K=!0,it||(it=!0,U()))),X},r.unstable_shouldYield=M,r.unstable_wrapCallback=function(X){var lt=x;return function(){var gt=x;x=lt;try{return X.apply(this,arguments)}finally{x=gt}}}})(Wf)),Wf}var Xy;function XT(){return Xy||(Xy=1,Jf.exports=KT()),Jf.exports}var td={exports:{}},Ye={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $y;function $T(){if($y)return Ye;$y=1;var r=Bd();function e(_){var p="https://react.dev/errors/"+_;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var T=2;T<arguments.length;T++)p+="&args[]="+encodeURIComponent(arguments[T])}return"Minified React error #"+_+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var s={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function c(_,p,T){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:b==null?null:""+b,children:_,containerInfo:p,implementation:T}}var d=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(_,p){if(_==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return Ye.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Ye.createPortal=function(_,p){var T=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return c(_,p,null,T)},Ye.flushSync=function(_){var p=d.T,T=s.p;try{if(d.T=null,s.p=2,_)return _()}finally{d.T=p,s.p=T,s.d.f()}},Ye.preconnect=function(_,p){typeof _=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,s.d.C(_,p))},Ye.prefetchDNS=function(_){typeof _=="string"&&s.d.D(_)},Ye.preinit=function(_,p){if(typeof _=="string"&&p&&typeof p.as=="string"){var T=p.as,b=g(T,p.crossOrigin),x=typeof p.integrity=="string"?p.integrity:void 0,P=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;T==="style"?s.d.S(_,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:b,integrity:x,fetchPriority:P}):T==="script"&&s.d.X(_,{crossOrigin:b,integrity:x,fetchPriority:P,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},Ye.preinitModule=function(_,p){if(typeof _=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var T=g(p.as,p.crossOrigin);s.d.M(_,{crossOrigin:T,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&s.d.M(_)},Ye.preload=function(_,p){if(typeof _=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var T=p.as,b=g(T,p.crossOrigin);s.d.L(_,T,{crossOrigin:b,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},Ye.preloadModule=function(_,p){if(typeof _=="string")if(p){var T=g(p.as,p.crossOrigin);s.d.m(_,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:T,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else s.d.m(_)},Ye.requestFormReset=function(_){s.d.r(_)},Ye.unstable_batchedUpdates=function(_,p){return _(p)},Ye.useFormState=function(_,p,T){return d.H.useFormState(_,p,T)},Ye.useFormStatus=function(){return d.H.useHostTransitionStatus()},Ye.version="19.2.0",Ye}var Zy;function ZT(){if(Zy)return td.exports;Zy=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),td.exports=$T(),td.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jy;function JT(){if(Jy)return Fl;Jy=1;var r=XT(),e=Bd(),i=ZT();function s(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)n+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function c(t){var n=t,a=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(a=n.return),t=n.return;while(t)}return n.tag===3?a:null}function d(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function g(t){if(t.tag===31){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function _(t){if(c(t)!==t)throw Error(s(188))}function p(t){var n=t.alternate;if(!n){if(n=c(t),n===null)throw Error(s(188));return n!==t?null:t}for(var a=t,l=n;;){var h=a.return;if(h===null)break;var f=h.alternate;if(f===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===a)return _(h),t;if(f===l)return _(h),n;f=f.sibling}throw Error(s(188))}if(a.return!==l.return)a=h,l=f;else{for(var y=!1,E=h.child;E;){if(E===a){y=!0,a=h,l=f;break}if(E===l){y=!0,l=h,a=f;break}E=E.sibling}if(!y){for(E=f.child;E;){if(E===a){y=!0,a=f,l=h;break}if(E===l){y=!0,l=f,a=h;break}E=E.sibling}if(!y)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:n}function T(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=T(t),n!==null)return n;t=t.sibling}return null}var b=Object.assign,x=Symbol.for("react.element"),P=Symbol.for("react.transitional.element"),K=Symbol.for("react.portal"),F=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),et=Symbol.for("react.profiler"),nt=Symbol.for("react.consumer"),st=Symbol.for("react.context"),at=Symbol.for("react.forward_ref"),vt=Symbol.for("react.suspense"),it=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),w=Symbol.for("react.activity"),M=Symbol.for("react.memo_cache_sentinel"),N=Symbol.iterator;function U(t){return t===null||typeof t!="object"?null:(t=N&&t[N]||t["@@iterator"],typeof t=="function"?t:null)}var C=Symbol.for("react.client.reference");function ie(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===C?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case F:return"Fragment";case et:return"Profiler";case k:return"StrictMode";case vt:return"Suspense";case it:return"SuspenseList";case w:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case K:return"Portal";case st:return t.displayName||"Context";case nt:return(t._context.displayName||"Context")+".Consumer";case at:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case R:return n=t.displayName||null,n!==null?n:ie(t.type)||"Memo";case A:n=t._payload,t=t._init;try{return ie(t(n))}catch{}}return null}var Ce=Array.isArray,X=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,lt=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,gt={pending:!1,data:null,method:null,action:null},Bt=[],Gt=-1;function I(t){return{current:t}}function J(t){0>Gt||(t.current=Bt[Gt],Bt[Gt]=null,Gt--)}function ot(t,n){Gt++,Bt[Gt]=t.current,t.current=n}var ct=I(null),Et=I(null),wt=I(null),Ut=I(null);function De(t,n){switch(ot(wt,n),ot(Et,t),ot(ct,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?dy(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=dy(n),t=my(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}J(ct),ot(ct,t)}function ae(){J(ct),J(Et),J(wt)}function Ha(t){t.memoizedState!==null&&ot(Ut,t);var n=ct.current,a=my(n,t.type);n!==a&&(ot(Et,t),ot(ct,a))}function Dr(t){Et.current===t&&(J(ct),J(Et)),Ut.current===t&&(J(Ut),jl._currentValue=gt)}var xr,Nr;function Yn(t){if(xr===void 0)try{throw Error()}catch(a){var n=a.stack.trim().match(/\n( *(at )?)/);xr=n&&n[1]||"",Nr=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+xr+t+Nr}var js=!1;function Ga(t,n){if(!t||js)return"";js=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var Z=function(){throw Error()};if(Object.defineProperty(Z.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Z,[])}catch(H){var j=H}Reflect.construct(t,[],Z)}else{try{Z.call()}catch(H){j=H}t.call(Z.prototype)}}else{try{throw Error()}catch(H){j=H}(Z=t())&&typeof Z.catch=="function"&&Z.catch(function(){})}}catch(H){if(H&&j&&typeof H.stack=="string")return[H.stack,j.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),y=f[0],E=f[1];if(y&&E){var D=y.split(`
`),B=E.split(`
`);for(h=l=0;l<D.length&&!D[l].includes("DetermineComponentFrameRoot");)l++;for(;h<B.length&&!B[h].includes("DetermineComponentFrameRoot");)h++;if(l===D.length||h===B.length)for(l=D.length-1,h=B.length-1;1<=l&&0<=h&&D[l]!==B[h];)h--;for(;1<=l&&0<=h;l--,h--)if(D[l]!==B[h]){if(l!==1||h!==1)do if(l--,h--,0>h||D[l]!==B[h]){var Y=`
`+D[l].replace(" at new "," at ");return t.displayName&&Y.includes("<anonymous>")&&(Y=Y.replace("<anonymous>",t.displayName)),Y}while(1<=l&&0<=h);break}}}finally{js=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?Yn(a):""}function ks(t,n){switch(t.tag){case 26:case 27:case 5:return Yn(t.type);case 16:return Yn("Lazy");case 13:return t.child!==n&&n!==null?Yn("Suspense Fallback"):Yn("Suspense");case 19:return Yn("SuspenseList");case 0:case 15:return Ga(t.type,!1);case 11:return Ga(t.type.render,!1);case 1:return Ga(t.type,!0);case 31:return Yn("Activity");default:return""}}function qs(t){try{var n="",a=null;do n+=ks(t,a),a=t,t=t.return;while(t);return n}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var pe=Object.prototype.hasOwnProperty,xe=r.unstable_scheduleCallback,Xi=r.unstable_cancelCallback,$c=r.unstable_shouldYield,Eo=r.unstable_requestPaint,Ze=r.unstable_now,Fa=r.unstable_getCurrentPriorityLevel,Hs=r.unstable_ImmediatePriority,Gs=r.unstable_UserBlockingPriority,$i=r.unstable_NormalPriority,Zc=r.unstable_LowPriority,To=r.unstable_IdlePriority,So=r.log,bo=r.unstable_setDisableYieldValue,On=null,Be=null;function En(t){if(typeof So=="function"&&bo(t),Be&&typeof Be.setStrictMode=="function")try{Be.setStrictMode(On,t)}catch{}}var he=Math.clz32?Math.clz32:Ro,Ao=Math.log,Vr=Math.LN2;function Ro(t){return t>>>=0,t===0?32:31-(Ao(t)/Vr|0)|0}var Kn=256,Qa=262144,ye=4194304;function Xn(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function $n(t,n,a){var l=t.pendingLanes;if(l===0)return 0;var h=0,f=t.suspendedLanes,y=t.pingedLanes;t=t.warmLanes;var E=l&134217727;return E!==0?(l=E&~f,l!==0?h=Xn(l):(y&=E,y!==0?h=Xn(y):a||(a=E&~t,a!==0&&(h=Xn(a))))):(E=l&~f,E!==0?h=Xn(E):y!==0?h=Xn(y):a||(a=l&~t,a!==0&&(h=Xn(a)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,a=n&-n,f>=a||f===32&&(a&4194048)!==0)?n:h}function Un(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function Jc(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wo(){var t=ye;return ye<<=1,(ye&62914560)===0&&(ye=4194304),t}function Zn(t){for(var n=[],a=0;31>a;a++)n.push(t);return n}function Ya(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Wc(t,n,a,l,h,f){var y=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var E=t.entanglements,D=t.expirationTimes,B=t.hiddenUpdates;for(a=y&~a;0<a;){var Y=31-he(a),Z=1<<Y;E[Y]=0,D[Y]=-1;var j=B[Y];if(j!==null)for(B[Y]=null,Y=0;Y<j.length;Y++){var H=j[Y];H!==null&&(H.lane&=-536870913)}a&=~Z}l!==0&&Ka(t,l,0),f!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=f&~(y&~n))}function Ka(t,n,a){t.pendingLanes|=n,t.suspendedLanes&=~n;var l=31-he(n);t.entangledLanes|=n,t.entanglements[l]=t.entanglements[l]|1073741824|a&261930}function Fs(t,n){var a=t.entangledLanes|=n;for(t=t.entanglements;a;){var l=31-he(a),h=1<<l;h&n|t[l]&n&&(t[l]|=n),a&=~h}}function Qs(t,n){var a=n&-n;return a=(a&42)!==0?1:Xa(a),(a&(t.suspendedLanes|n))!==0?0:a}function Xa(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Ri(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Co(){var t=lt.p;return t!==0?t:(t=window.event,t===void 0?32:zy(t.type))}function Ln(t,n){var a=lt.p;try{return lt.p=t,n()}finally{lt.p=a}}var zn=Math.random().toString(36).slice(2),_e="__reactFiber$"+zn,Me="__reactProps$"+zn,Jn="__reactContainer$"+zn,Ir="__reactEvents$"+zn,th="__reactListeners$"+zn,Do="__reactHandles$"+zn,xo="__reactResources$"+zn,Wn="__reactMarker$"+zn;function Mr(t){delete t[_e],delete t[Me],delete t[Ir],delete t[th],delete t[Do]}function ti(t){var n=t[_e];if(n)return n;for(var a=t.parentNode;a;){if(n=a[Jn]||a[_e]){if(a=n.alternate,n.child!==null||a!==null&&a.child!==null)for(t=Ty(t);t!==null;){if(a=t[_e])return a;t=Ty(t)}return n}t=a,a=t.parentNode}return null}function Tn(t){if(t=t[_e]||t[Jn]){var n=t.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return t}return null}function cn(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(s(33))}function ei(t){var n=t[xo];return n||(n=t[xo]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function ve(t){t[Wn]=!0}var Ys=new Set,Ks={};function ni(t,n){ii(t,n),ii(t+"Capture",n)}function ii(t,n){for(Ks[t]=n,t=0;t<n.length;t++)Ys.add(n[t])}var Xs=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),$s={},Zs={};function No(t){return pe.call(Zs,t)?!0:pe.call($s,t)?!1:Xs.test(t)?Zs[t]=!0:($s[t]=!0,!1)}function Or(t,n,a){if(No(n))if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+a)}}function hn(t,n,a){if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+a)}}function Ee(t,n,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(n,a,""+l)}}function Oe(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Zi(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Js(t,n,a){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,n);if(!t.hasOwnProperty(n)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var h=l.get,f=l.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return h.call(this)},set:function(y){a=""+y,f.call(this,y)}}),Object.defineProperty(t,n,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(y){a=""+y},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function Ft(t){if(!t._valueTracker){var n=Zi(t)?"checked":"value";t._valueTracker=Js(t,n,""+t[n])}}function $a(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var a=n.getValue(),l="";return t&&(l=Zi(t)?t.checked?"true":"false":t.value),t=l,t!==a?(n.setValue(t),!0):!1}function ai(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Za=/[\n"\\]/g;function tn(t){return t.replace(Za,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function Ur(t,n,a,l,h,f,y,E){t.name="",y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"?t.type=y:t.removeAttribute("type"),n!=null?y==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+Oe(n)):t.value!==""+Oe(n)&&(t.value=""+Oe(n)):y!=="submit"&&y!=="reset"||t.removeAttribute("value"),n!=null?Ws(t,y,Oe(n)):a!=null?Ws(t,y,Oe(a)):l!=null&&t.removeAttribute("value"),h==null&&f!=null&&(t.defaultChecked=!!f),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.name=""+Oe(E):t.removeAttribute("name")}function Vo(t,n,a,l,h,f,y,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),n!=null||a!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){Ft(t);return}a=a!=null?""+Oe(a):"",n=n!=null?""+Oe(n):a,E||n===t.value||(t.value=n),t.defaultValue=n}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=E?t.checked:!!l,t.defaultChecked=!!l,y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(t.name=y),Ft(t)}function Ws(t,n,a){n==="number"&&ai(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function Ji(t,n,a,l){if(t=t.options,n){n={};for(var h=0;h<a.length;h++)n["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=n.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&l&&(t[a].defaultSelected=!0)}else{for(a=""+Oe(a),n=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}n!==null||t[h].disabled||(n=t[h])}n!==null&&(n.selected=!0)}}function Io(t,n,a){if(n!=null&&(n=""+Oe(n),n!==t.value&&(t.value=n),a==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=a!=null?""+Oe(a):""}function Wi(t,n,a,l){if(n==null){if(l!=null){if(a!=null)throw Error(s(92));if(Ce(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),n=a}a=Oe(n),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l),Ft(t)}function en(t,n){if(n){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=n;return}}t.textContent=n}var Mo=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function tl(t,n,a){var l=n.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":l?t.setProperty(n,a):typeof a!="number"||a===0||Mo.has(n)?n==="float"?t.cssFloat=a:t[n]=(""+a).trim():t[n]=a+"px"}function el(t,n,a){if(n!=null&&typeof n!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in n)l=n[h],n.hasOwnProperty(h)&&a[h]!==l&&tl(t,h,l)}else for(var f in n)n.hasOwnProperty(f)&&tl(t,f,n[f])}function Lr(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Oo=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ta=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function zr(t){return ta.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function Bn(){}var nl=null;function Sn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var ea=null,ri=null;function Ja(t){var n=Tn(t);if(n&&(t=n.stateNode)){var a=t[Me]||null;t:switch(t=n.stateNode,n.type){case"input":if(Ur(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),n=a.name,a.type==="radio"&&n!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+tn(""+n)+'"][type="radio"]'),n=0;n<a.length;n++){var l=a[n];if(l!==t&&l.form===t.form){var h=l[Me]||null;if(!h)throw Error(s(90));Ur(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<a.length;n++)l=a[n],l.form===t.form&&$a(l)}break t;case"textarea":Io(t,a.value,a.defaultValue);break t;case"select":n=a.value,n!=null&&Ji(t,!!a.multiple,n,!1)}}}var Br=!1;function na(t,n,a){if(Br)return t(n,a);Br=!0;try{var l=t(n);return l}finally{if(Br=!1,(ea!==null||ri!==null)&&(Cu(),ea&&(n=ea,t=ri,ri=ea=null,Ja(n),t)))for(n=0;n<t.length;n++)Ja(t[n])}}function Pn(t,n){var a=t.stateNode;if(a===null)return null;var l=a[Me]||null;if(l===null)return null;a=l[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break t;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,n,typeof a));return a}var bn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Wa=!1;if(bn)try{var Kt={};Object.defineProperty(Kt,"passive",{get:function(){Wa=!0}}),window.addEventListener("test",Kt,Kt),window.removeEventListener("test",Kt,Kt)}catch{Wa=!1}var si=null,il=null,tr=null;function al(){if(tr)return tr;var t,n=il,a=n.length,l,h="value"in si?si.value:si.textContent,f=h.length;for(t=0;t<a&&n[t]===h[t];t++);var y=a-t;for(l=1;l<=y&&n[a-l]===h[f-l];l++);return tr=h.slice(t,1<l?1-l:void 0)}function er(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function wi(){return!0}function jn(){return!1}function Pe(t){function n(a,l,h,f,y){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=f,this.target=y,this.currentTarget=null;for(var E in t)t.hasOwnProperty(E)&&(a=t[E],this[E]=a?a(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?wi:jn,this.isPropagationStopped=jn,this}return b(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=wi)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=wi)},persist:function(){},isPersistent:wi}),n}var Ci={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},li=Pe(Ci),ia=b({},Ci,{view:0,detail:0}),rl=Pe(ia),aa,Pr,oi,jr=b({},ia,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ra,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==oi&&(oi&&t.type==="mousemove"?(aa=t.screenX-oi.screenX,Pr=t.screenY-oi.screenY):Pr=aa=0,oi=t),aa)},movementY:function(t){return"movementY"in t?t.movementY:Pr}}),sl=Pe(jr),nr=b({},jr,{dataTransfer:0}),Uo=Pe(nr),Lo=b({},ia,{relatedTarget:0}),ir=Pe(Lo),ll=b({},Ci,{animationName:0,elapsedTime:0,pseudoElement:0}),zo=Pe(ll),kr=b({},Ci,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Bo=Pe(kr),Po=b({},Ci,{data:0}),ui=Pe(Po),jo={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ko={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},qo={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ho(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=qo[t])?!!n[t]:!1}function ra(){return Ho}var Je=b({},ia,{key:function(t){if(t.key){var n=jo[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=er(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?ko[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ra,charCode:function(t){return t.type==="keypress"?er(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?er(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Go=Pe(Je),Fo=b({},jr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Di=Pe(Fo),u=b({},ia,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ra}),m=Pe(u),v=b({},Ci,{propertyName:0,elapsedTime:0,pseudoElement:0}),S=Pe(v),L=b({},jr,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),q=Pe(L),rt=b({},Ci,{newState:0,oldState:0}),At=Pe(rt),fe=[9,13,27,32],kt=bn&&"CompositionEvent"in window,re=null;bn&&"documentMode"in document&&(re=document.documentMode);var An=bn&&"TextEvent"in window&&!re,ci=bn&&(!kt||re&&8<re&&11>=re),kn=" ",qn=!1;function ar(t,n){switch(t){case"keyup":return fe.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function qr(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Hr=!1;function gE(t,n){switch(t){case"compositionend":return qr(n);case"keypress":return n.which!==32?null:(qn=!0,kn);case"textInput":return t=n.data,t===kn&&qn?null:t;default:return null}}function pE(t,n){if(Hr)return t==="compositionend"||!kt&&ar(t,n)?(t=al(),tr=il=si=null,Hr=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return ci&&n.locale!=="ko"?null:n.data;default:return null}}var yE={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Am(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!yE[t.type]:n==="textarea"}function Rm(t,n,a,l){ea?ri?ri.push(l):ri=[l]:ea=l,n=Ou(n,"onChange"),0<n.length&&(a=new li("onChange","change",null,a,l),t.push({event:a,listeners:n}))}var ol=null,ul=null;function _E(t){ly(t,0)}function Qo(t){var n=cn(t);if($a(n))return t}function wm(t,n){if(t==="change")return n}var Cm=!1;if(bn){var eh;if(bn){var nh="oninput"in document;if(!nh){var Dm=document.createElement("div");Dm.setAttribute("oninput","return;"),nh=typeof Dm.oninput=="function"}eh=nh}else eh=!1;Cm=eh&&(!document.documentMode||9<document.documentMode)}function xm(){ol&&(ol.detachEvent("onpropertychange",Nm),ul=ol=null)}function Nm(t){if(t.propertyName==="value"&&Qo(ul)){var n=[];Rm(n,ul,t,Sn(t)),na(_E,n)}}function vE(t,n,a){t==="focusin"?(xm(),ol=n,ul=a,ol.attachEvent("onpropertychange",Nm)):t==="focusout"&&xm()}function EE(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Qo(ul)}function TE(t,n){if(t==="click")return Qo(n)}function SE(t,n){if(t==="input"||t==="change")return Qo(n)}function bE(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var fn=typeof Object.is=="function"?Object.is:bE;function cl(t,n){if(fn(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var a=Object.keys(t),l=Object.keys(n);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!pe.call(n,h)||!fn(t[h],n[h]))return!1}return!0}function Vm(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Im(t,n){var a=Vm(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=n&&l>=n)return{node:a,offset:n-t};t=l}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=Vm(a)}}function Mm(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?Mm(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function Om(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=ai(t.document);n instanceof t.HTMLIFrameElement;){try{var a=typeof n.contentWindow.location.href=="string"}catch{a=!1}if(a)t=n.contentWindow;else break;n=ai(t.document)}return n}function ih(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var AE=bn&&"documentMode"in document&&11>=document.documentMode,Gr=null,ah=null,hl=null,rh=!1;function Um(t,n,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;rh||Gr==null||Gr!==ai(l)||(l=Gr,"selectionStart"in l&&ih(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),hl&&cl(hl,l)||(hl=l,l=Ou(ah,"onSelect"),0<l.length&&(n=new li("onSelect","select",null,n,a),t.push({event:n,listeners:l}),n.target=Gr)))}function rr(t,n){var a={};return a[t.toLowerCase()]=n.toLowerCase(),a["Webkit"+t]="webkit"+n,a["Moz"+t]="moz"+n,a}var Fr={animationend:rr("Animation","AnimationEnd"),animationiteration:rr("Animation","AnimationIteration"),animationstart:rr("Animation","AnimationStart"),transitionrun:rr("Transition","TransitionRun"),transitionstart:rr("Transition","TransitionStart"),transitioncancel:rr("Transition","TransitionCancel"),transitionend:rr("Transition","TransitionEnd")},sh={},Lm={};bn&&(Lm=document.createElement("div").style,"AnimationEvent"in window||(delete Fr.animationend.animation,delete Fr.animationiteration.animation,delete Fr.animationstart.animation),"TransitionEvent"in window||delete Fr.transitionend.transition);function sr(t){if(sh[t])return sh[t];if(!Fr[t])return t;var n=Fr[t],a;for(a in n)if(n.hasOwnProperty(a)&&a in Lm)return sh[t]=n[a];return t}var zm=sr("animationend"),Bm=sr("animationiteration"),Pm=sr("animationstart"),RE=sr("transitionrun"),wE=sr("transitionstart"),CE=sr("transitioncancel"),jm=sr("transitionend"),km=new Map,lh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");lh.push("scrollEnd");function Hn(t,n){km.set(t,n),ni(n,[t])}var Yo=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Rn=[],Qr=0,oh=0;function Ko(){for(var t=Qr,n=oh=Qr=0;n<t;){var a=Rn[n];Rn[n++]=null;var l=Rn[n];Rn[n++]=null;var h=Rn[n];Rn[n++]=null;var f=Rn[n];if(Rn[n++]=null,l!==null&&h!==null){var y=l.pending;y===null?h.next=h:(h.next=y.next,y.next=h),l.pending=h}f!==0&&qm(a,h,f)}}function Xo(t,n,a,l){Rn[Qr++]=t,Rn[Qr++]=n,Rn[Qr++]=a,Rn[Qr++]=l,oh|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function uh(t,n,a,l){return Xo(t,n,a,l),$o(t)}function lr(t,n){return Xo(t,null,null,n),$o(t)}function qm(t,n,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var h=!1,f=t.return;f!==null;)f.childLanes|=a,l=f.alternate,l!==null&&(l.childLanes|=a),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(h=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,h&&n!==null&&(h=31-he(a),t=f.hiddenUpdates,l=t[h],l===null?t[h]=[n]:l.push(n),n.lane=a|536870912),f):null}function $o(t){if(50<Ml)throw Ml=0,vf=null,Error(s(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var Yr={};function DE(t,n,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function dn(t,n,a,l){return new DE(t,n,a,l)}function ch(t){return t=t.prototype,!(!t||!t.isReactComponent)}function xi(t,n){var a=t.alternate;return a===null?(a=dn(t.tag,n,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=n,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,n=t.dependencies,a.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function Hm(t,n){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,n=a.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function Zo(t,n,a,l,h,f){var y=0;if(l=t,typeof t=="function")ch(t)&&(y=1);else if(typeof t=="string")y=MT(t,a,ct.current)?26:t==="html"||t==="head"||t==="body"?27:5;else t:switch(t){case w:return t=dn(31,a,n,h),t.elementType=w,t.lanes=f,t;case F:return or(a.children,h,f,n);case k:y=8,h|=24;break;case et:return t=dn(12,a,n,h|2),t.elementType=et,t.lanes=f,t;case vt:return t=dn(13,a,n,h),t.elementType=vt,t.lanes=f,t;case it:return t=dn(19,a,n,h),t.elementType=it,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case st:y=10;break t;case nt:y=9;break t;case at:y=11;break t;case R:y=14;break t;case A:y=16,l=null;break t}y=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return n=dn(y,a,n,h),n.elementType=t,n.type=l,n.lanes=f,n}function or(t,n,a,l){return t=dn(7,t,l,n),t.lanes=a,t}function hh(t,n,a){return t=dn(6,t,null,n),t.lanes=a,t}function Gm(t){var n=dn(18,null,null,0);return n.stateNode=t,n}function fh(t,n,a){return n=dn(4,t.children!==null?t.children:[],t.key,n),n.lanes=a,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var Fm=new WeakMap;function wn(t,n){if(typeof t=="object"&&t!==null){var a=Fm.get(t);return a!==void 0?a:(n={value:t,source:n,stack:qs(n)},Fm.set(t,n),n)}return{value:t,source:n,stack:qs(n)}}var Kr=[],Xr=0,Jo=null,fl=0,Cn=[],Dn=0,sa=null,hi=1,fi="";function Ni(t,n){Kr[Xr++]=fl,Kr[Xr++]=Jo,Jo=t,fl=n}function Qm(t,n,a){Cn[Dn++]=hi,Cn[Dn++]=fi,Cn[Dn++]=sa,sa=t;var l=hi;t=fi;var h=32-he(l)-1;l&=~(1<<h),a+=1;var f=32-he(n)+h;if(30<f){var y=h-h%5;f=(l&(1<<y)-1).toString(32),l>>=y,h-=y,hi=1<<32-he(n)+h|a<<h|l,fi=f+t}else hi=1<<f|a<<h|l,fi=t}function dh(t){t.return!==null&&(Ni(t,1),Qm(t,1,0))}function mh(t){for(;t===Jo;)Jo=Kr[--Xr],Kr[Xr]=null,fl=Kr[--Xr],Kr[Xr]=null;for(;t===sa;)sa=Cn[--Dn],Cn[Dn]=null,fi=Cn[--Dn],Cn[Dn]=null,hi=Cn[--Dn],Cn[Dn]=null}function Ym(t,n){Cn[Dn++]=hi,Cn[Dn++]=fi,Cn[Dn++]=sa,hi=n.id,fi=n.overflow,sa=t}var je=null,Wt=null,Ot=!1,la=null,xn=!1,gh=Error(s(519));function oa(t){var n=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw dl(wn(n,t)),gh}function Km(t){var n=t.stateNode,a=t.type,l=t.memoizedProps;switch(n[_e]=t,n[Me]=l,a){case"dialog":xt("cancel",n),xt("close",n);break;case"iframe":case"object":case"embed":xt("load",n);break;case"video":case"audio":for(a=0;a<Ul.length;a++)xt(Ul[a],n);break;case"source":xt("error",n);break;case"img":case"image":case"link":xt("error",n),xt("load",n);break;case"details":xt("toggle",n);break;case"input":xt("invalid",n),Vo(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":xt("invalid",n);break;case"textarea":xt("invalid",n),Wi(n,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||n.textContent===""+a||l.suppressHydrationWarning===!0||hy(n.textContent,a)?(l.popover!=null&&(xt("beforetoggle",n),xt("toggle",n)),l.onScroll!=null&&xt("scroll",n),l.onScrollEnd!=null&&xt("scrollend",n),l.onClick!=null&&(n.onclick=Bn),n=!0):n=!1,n||oa(t,!0)}function Xm(t){for(je=t.return;je;)switch(je.tag){case 5:case 31:case 13:xn=!1;return;case 27:case 3:xn=!0;return;default:je=je.return}}function $r(t){if(t!==je)return!1;if(!Ot)return Xm(t),Ot=!0,!1;var n=t.tag,a;if((a=n!==3&&n!==27)&&((a=n===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||Of(t.type,t.memoizedProps)),a=!a),a&&Wt&&oa(t),Xm(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));Wt=Ey(t)}else if(n===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));Wt=Ey(t)}else n===27?(n=Wt,Sa(t.type)?(t=Pf,Pf=null,Wt=t):Wt=n):Wt=je?Vn(t.stateNode.nextSibling):null;return!0}function ur(){Wt=je=null,Ot=!1}function ph(){var t=la;return t!==null&&(sn===null?sn=t:sn.push.apply(sn,t),la=null),t}function dl(t){la===null?la=[t]:la.push(t)}var yh=I(null),cr=null,Vi=null;function ua(t,n,a){ot(yh,n._currentValue),n._currentValue=a}function Ii(t){t._currentValue=yh.current,J(yh)}function _h(t,n,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),t===a)break;t=t.return}}function vh(t,n,a,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var f=h.dependencies;if(f!==null){var y=h.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=h;for(var D=0;D<n.length;D++)if(E.context===n[D]){f.lanes|=a,E=f.alternate,E!==null&&(E.lanes|=a),_h(f.return,a,t),l||(y=null);break t}f=E.next}}else if(h.tag===18){if(y=h.return,y===null)throw Error(s(341));y.lanes|=a,f=y.alternate,f!==null&&(f.lanes|=a),_h(y,a,t),y=null}else y=h.child;if(y!==null)y.return=h;else for(y=h;y!==null;){if(y===t){y=null;break}if(h=y.sibling,h!==null){h.return=y.return,y=h;break}y=y.return}h=y}}function Zr(t,n,a,l){t=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var y=h.alternate;if(y===null)throw Error(s(387));if(y=y.memoizedProps,y!==null){var E=h.type;fn(h.pendingProps.value,y.value)||(t!==null?t.push(E):t=[E])}}else if(h===Ut.current){if(y=h.alternate,y===null)throw Error(s(387));y.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(jl):t=[jl])}h=h.return}t!==null&&vh(n,t,a,l),n.flags|=262144}function Wo(t){for(t=t.firstContext;t!==null;){if(!fn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function hr(t){cr=t,Vi=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function ke(t){return $m(cr,t)}function tu(t,n){return cr===null&&hr(t),$m(t,n)}function $m(t,n){var a=n._currentValue;if(n={context:n,memoizedValue:a,next:null},Vi===null){if(t===null)throw Error(s(308));Vi=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else Vi=Vi.next=n;return a}var xE=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){n.aborted=!0,t.forEach(function(a){return a()})}},NE=r.unstable_scheduleCallback,VE=r.unstable_NormalPriority,Te={$$typeof:st,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Eh(){return{controller:new xE,data:new Map,refCount:0}}function ml(t){t.refCount--,t.refCount===0&&NE(VE,function(){t.controller.abort()})}var gl=null,Th=0,Jr=0,Wr=null;function IE(t,n){if(gl===null){var a=gl=[];Th=0,Jr=Rf(),Wr={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Th++,n.then(Zm,Zm),n}function Zm(){if(--Th===0&&gl!==null){Wr!==null&&(Wr.status="fulfilled");var t=gl;gl=null,Jr=0,Wr=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function ME(t,n){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){l.status="fulfilled",l.value=n;for(var h=0;h<a.length;h++)(0,a[h])(n)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var Jm=X.S;X.S=function(t,n){Up=Ze(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&IE(t,n),Jm!==null&&Jm(t,n)};var fr=I(null);function Sh(){var t=fr.current;return t!==null?t:Jt.pooledCache}function eu(t,n){n===null?ot(fr,fr.current):ot(fr,n.pool)}function Wm(){var t=Sh();return t===null?null:{parent:Te._currentValue,pool:t}}var ts=Error(s(460)),bh=Error(s(474)),nu=Error(s(542)),iu={then:function(){}};function tg(t){return t=t.status,t==="fulfilled"||t==="rejected"}function eg(t,n,a){switch(a=t[a],a===void 0?t.push(n):a!==n&&(n.then(Bn,Bn),n=a),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,ig(t),t;default:if(typeof n.status=="string")n.then(Bn,Bn);else{if(t=Jt,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=n,t.status="pending",t.then(function(l){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=l}},function(l){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,ig(t),t}throw mr=n,ts}}function dr(t){try{var n=t._init;return n(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(mr=a,ts):a}}var mr=null;function ng(){if(mr===null)throw Error(s(459));var t=mr;return mr=null,t}function ig(t){if(t===ts||t===nu)throw Error(s(483))}var es=null,pl=0;function au(t){var n=pl;return pl+=1,es===null&&(es=[]),eg(es,t,n)}function yl(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function ru(t,n){throw n.$$typeof===x?Error(s(525)):(t=Object.prototype.toString.call(n),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function ag(t){function n(O,V){if(t){var z=O.deletions;z===null?(O.deletions=[V],O.flags|=16):z.push(V)}}function a(O,V){if(!t)return null;for(;V!==null;)n(O,V),V=V.sibling;return null}function l(O){for(var V=new Map;O!==null;)O.key!==null?V.set(O.key,O):V.set(O.index,O),O=O.sibling;return V}function h(O,V){return O=xi(O,V),O.index=0,O.sibling=null,O}function f(O,V,z){return O.index=z,t?(z=O.alternate,z!==null?(z=z.index,z<V?(O.flags|=67108866,V):z):(O.flags|=67108866,V)):(O.flags|=1048576,V)}function y(O){return t&&O.alternate===null&&(O.flags|=67108866),O}function E(O,V,z,$){return V===null||V.tag!==6?(V=hh(z,O.mode,$),V.return=O,V):(V=h(V,z),V.return=O,V)}function D(O,V,z,$){var mt=z.type;return mt===F?Y(O,V,z.props.children,$,z.key):V!==null&&(V.elementType===mt||typeof mt=="object"&&mt!==null&&mt.$$typeof===A&&dr(mt)===V.type)?(V=h(V,z.props),yl(V,z),V.return=O,V):(V=Zo(z.type,z.key,z.props,null,O.mode,$),yl(V,z),V.return=O,V)}function B(O,V,z,$){return V===null||V.tag!==4||V.stateNode.containerInfo!==z.containerInfo||V.stateNode.implementation!==z.implementation?(V=fh(z,O.mode,$),V.return=O,V):(V=h(V,z.children||[]),V.return=O,V)}function Y(O,V,z,$,mt){return V===null||V.tag!==7?(V=or(z,O.mode,$,mt),V.return=O,V):(V=h(V,z),V.return=O,V)}function Z(O,V,z){if(typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint")return V=hh(""+V,O.mode,z),V.return=O,V;if(typeof V=="object"&&V!==null){switch(V.$$typeof){case P:return z=Zo(V.type,V.key,V.props,null,O.mode,z),yl(z,V),z.return=O,z;case K:return V=fh(V,O.mode,z),V.return=O,V;case A:return V=dr(V),Z(O,V,z)}if(Ce(V)||U(V))return V=or(V,O.mode,z,null),V.return=O,V;if(typeof V.then=="function")return Z(O,au(V),z);if(V.$$typeof===st)return Z(O,tu(O,V),z);ru(O,V)}return null}function j(O,V,z,$){var mt=V!==null?V.key:null;if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return mt!==null?null:E(O,V,""+z,$);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case P:return z.key===mt?D(O,V,z,$):null;case K:return z.key===mt?B(O,V,z,$):null;case A:return z=dr(z),j(O,V,z,$)}if(Ce(z)||U(z))return mt!==null?null:Y(O,V,z,$,null);if(typeof z.then=="function")return j(O,V,au(z),$);if(z.$$typeof===st)return j(O,V,tu(O,z),$);ru(O,z)}return null}function H(O,V,z,$,mt){if(typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint")return O=O.get(z)||null,E(V,O,""+$,mt);if(typeof $=="object"&&$!==null){switch($.$$typeof){case P:return O=O.get($.key===null?z:$.key)||null,D(V,O,$,mt);case K:return O=O.get($.key===null?z:$.key)||null,B(V,O,$,mt);case A:return $=dr($),H(O,V,z,$,mt)}if(Ce($)||U($))return O=O.get(z)||null,Y(V,O,$,mt,null);if(typeof $.then=="function")return H(O,V,z,au($),mt);if($.$$typeof===st)return H(O,V,z,tu(V,$),mt);ru(V,$)}return null}function ht(O,V,z,$){for(var mt=null,Pt=null,ft=V,Ct=V=0,Vt=null;ft!==null&&Ct<z.length;Ct++){ft.index>Ct?(Vt=ft,ft=null):Vt=ft.sibling;var jt=j(O,ft,z[Ct],$);if(jt===null){ft===null&&(ft=Vt);break}t&&ft&&jt.alternate===null&&n(O,ft),V=f(jt,V,Ct),Pt===null?mt=jt:Pt.sibling=jt,Pt=jt,ft=Vt}if(Ct===z.length)return a(O,ft),Ot&&Ni(O,Ct),mt;if(ft===null){for(;Ct<z.length;Ct++)ft=Z(O,z[Ct],$),ft!==null&&(V=f(ft,V,Ct),Pt===null?mt=ft:Pt.sibling=ft,Pt=ft);return Ot&&Ni(O,Ct),mt}for(ft=l(ft);Ct<z.length;Ct++)Vt=H(ft,O,Ct,z[Ct],$),Vt!==null&&(t&&Vt.alternate!==null&&ft.delete(Vt.key===null?Ct:Vt.key),V=f(Vt,V,Ct),Pt===null?mt=Vt:Pt.sibling=Vt,Pt=Vt);return t&&ft.forEach(function(Ca){return n(O,Ca)}),Ot&&Ni(O,Ct),mt}function yt(O,V,z,$){if(z==null)throw Error(s(151));for(var mt=null,Pt=null,ft=V,Ct=V=0,Vt=null,jt=z.next();ft!==null&&!jt.done;Ct++,jt=z.next()){ft.index>Ct?(Vt=ft,ft=null):Vt=ft.sibling;var Ca=j(O,ft,jt.value,$);if(Ca===null){ft===null&&(ft=Vt);break}t&&ft&&Ca.alternate===null&&n(O,ft),V=f(Ca,V,Ct),Pt===null?mt=Ca:Pt.sibling=Ca,Pt=Ca,ft=Vt}if(jt.done)return a(O,ft),Ot&&Ni(O,Ct),mt;if(ft===null){for(;!jt.done;Ct++,jt=z.next())jt=Z(O,jt.value,$),jt!==null&&(V=f(jt,V,Ct),Pt===null?mt=jt:Pt.sibling=jt,Pt=jt);return Ot&&Ni(O,Ct),mt}for(ft=l(ft);!jt.done;Ct++,jt=z.next())jt=H(ft,O,Ct,jt.value,$),jt!==null&&(t&&jt.alternate!==null&&ft.delete(jt.key===null?Ct:jt.key),V=f(jt,V,Ct),Pt===null?mt=jt:Pt.sibling=jt,Pt=jt);return t&&ft.forEach(function(GT){return n(O,GT)}),Ot&&Ni(O,Ct),mt}function Zt(O,V,z,$){if(typeof z=="object"&&z!==null&&z.type===F&&z.key===null&&(z=z.props.children),typeof z=="object"&&z!==null){switch(z.$$typeof){case P:t:{for(var mt=z.key;V!==null;){if(V.key===mt){if(mt=z.type,mt===F){if(V.tag===7){a(O,V.sibling),$=h(V,z.props.children),$.return=O,O=$;break t}}else if(V.elementType===mt||typeof mt=="object"&&mt!==null&&mt.$$typeof===A&&dr(mt)===V.type){a(O,V.sibling),$=h(V,z.props),yl($,z),$.return=O,O=$;break t}a(O,V);break}else n(O,V);V=V.sibling}z.type===F?($=or(z.props.children,O.mode,$,z.key),$.return=O,O=$):($=Zo(z.type,z.key,z.props,null,O.mode,$),yl($,z),$.return=O,O=$)}return y(O);case K:t:{for(mt=z.key;V!==null;){if(V.key===mt)if(V.tag===4&&V.stateNode.containerInfo===z.containerInfo&&V.stateNode.implementation===z.implementation){a(O,V.sibling),$=h(V,z.children||[]),$.return=O,O=$;break t}else{a(O,V);break}else n(O,V);V=V.sibling}$=fh(z,O.mode,$),$.return=O,O=$}return y(O);case A:return z=dr(z),Zt(O,V,z,$)}if(Ce(z))return ht(O,V,z,$);if(U(z)){if(mt=U(z),typeof mt!="function")throw Error(s(150));return z=mt.call(z),yt(O,V,z,$)}if(typeof z.then=="function")return Zt(O,V,au(z),$);if(z.$$typeof===st)return Zt(O,V,tu(O,z),$);ru(O,z)}return typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint"?(z=""+z,V!==null&&V.tag===6?(a(O,V.sibling),$=h(V,z),$.return=O,O=$):(a(O,V),$=hh(z,O.mode,$),$.return=O,O=$),y(O)):a(O,V)}return function(O,V,z,$){try{pl=0;var mt=Zt(O,V,z,$);return es=null,mt}catch(ft){if(ft===ts||ft===nu)throw ft;var Pt=dn(29,ft,null,O.mode);return Pt.lanes=$,Pt.return=O,Pt}finally{}}}var gr=ag(!0),rg=ag(!1),ca=!1;function Ah(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Rh(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function ha(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function fa(t,n,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(qt&2)!==0){var h=l.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),l.pending=n,n=$o(t),qm(t,null,a),n}return Xo(t,l,n,a),$o(t)}function _l(t,n,a){if(n=n.updateQueue,n!==null&&(n=n.shared,(a&4194048)!==0)){var l=n.lanes;l&=t.pendingLanes,a|=l,n.lanes=a,Fs(t,a)}}function wh(t,n){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,f=null;if(a=a.firstBaseUpdate,a!==null){do{var y={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};f===null?h=f=y:f=f.next=y,a=a.next}while(a!==null);f===null?h=f=n:f=f.next=n}else h=f=n;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=n:t.next=n,a.lastBaseUpdate=n}var Ch=!1;function vl(){if(Ch){var t=Wr;if(t!==null)throw t}}function El(t,n,a,l){Ch=!1;var h=t.updateQueue;ca=!1;var f=h.firstBaseUpdate,y=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var D=E,B=D.next;D.next=null,y===null?f=B:y.next=B,y=D;var Y=t.alternate;Y!==null&&(Y=Y.updateQueue,E=Y.lastBaseUpdate,E!==y&&(E===null?Y.firstBaseUpdate=B:E.next=B,Y.lastBaseUpdate=D))}if(f!==null){var Z=h.baseState;y=0,Y=B=D=null,E=f;do{var j=E.lane&-536870913,H=j!==E.lane;if(H?(Nt&j)===j:(l&j)===j){j!==0&&j===Jr&&(Ch=!0),Y!==null&&(Y=Y.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var ht=t,yt=E;j=n;var Zt=a;switch(yt.tag){case 1:if(ht=yt.payload,typeof ht=="function"){Z=ht.call(Zt,Z,j);break t}Z=ht;break t;case 3:ht.flags=ht.flags&-65537|128;case 0:if(ht=yt.payload,j=typeof ht=="function"?ht.call(Zt,Z,j):ht,j==null)break t;Z=b({},Z,j);break t;case 2:ca=!0}}j=E.callback,j!==null&&(t.flags|=64,H&&(t.flags|=8192),H=h.callbacks,H===null?h.callbacks=[j]:H.push(j))}else H={lane:j,tag:E.tag,payload:E.payload,callback:E.callback,next:null},Y===null?(B=Y=H,D=Z):Y=Y.next=H,y|=j;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;H=E,E=H.next,H.next=null,h.lastBaseUpdate=H,h.shared.pending=null}}while(!0);Y===null&&(D=Z),h.baseState=D,h.firstBaseUpdate=B,h.lastBaseUpdate=Y,f===null&&(h.shared.lanes=0),ya|=y,t.lanes=y,t.memoizedState=Z}}function sg(t,n){if(typeof t!="function")throw Error(s(191,t));t.call(n)}function lg(t,n){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)sg(a[t],n)}var ns=I(null),su=I(0);function og(t,n){t=ki,ot(su,t),ot(ns,n),ki=t|n.baseLanes}function Dh(){ot(su,ki),ot(ns,ns.current)}function xh(){ki=su.current,J(ns),J(su)}var mn=I(null),Nn=null;function da(t){var n=t.alternate;ot(de,de.current&1),ot(mn,t),Nn===null&&(n===null||ns.current!==null||n.memoizedState!==null)&&(Nn=t)}function Nh(t){ot(de,de.current),ot(mn,t),Nn===null&&(Nn=t)}function ug(t){t.tag===22?(ot(de,de.current),ot(mn,t),Nn===null&&(Nn=t)):ma()}function ma(){ot(de,de.current),ot(mn,mn.current)}function gn(t){J(mn),Nn===t&&(Nn=null),J(de)}var de=I(0);function lu(t){for(var n=t;n!==null;){if(n.tag===13){var a=n.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||zf(a)||Bf(a)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Mi=0,Rt=null,Xt=null,Se=null,ou=!1,is=!1,pr=!1,uu=0,Tl=0,as=null,OE=0;function ue(){throw Error(s(321))}function Vh(t,n){if(n===null)return!1;for(var a=0;a<n.length&&a<t.length;a++)if(!fn(t[a],n[a]))return!1;return!0}function Ih(t,n,a,l,h,f){return Mi=f,Rt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,X.H=t===null||t.memoizedState===null?Qg:Yh,pr=!1,f=a(l,h),pr=!1,is&&(f=hg(n,a,l,h)),cg(t),f}function cg(t){X.H=Al;var n=Xt!==null&&Xt.next!==null;if(Mi=0,Se=Xt=Rt=null,ou=!1,Tl=0,as=null,n)throw Error(s(300));t===null||be||(t=t.dependencies,t!==null&&Wo(t)&&(be=!0))}function hg(t,n,a,l){Rt=t;var h=0;do{if(is&&(as=null),Tl=0,is=!1,25<=h)throw Error(s(301));if(h+=1,Se=Xt=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}X.H=Yg,f=n(a,l)}while(is);return f}function UE(){var t=X.H,n=t.useState()[0];return n=typeof n.then=="function"?Sl(n):n,t=t.useState()[0],(Xt!==null?Xt.memoizedState:null)!==t&&(Rt.flags|=1024),n}function Mh(){var t=uu!==0;return uu=0,t}function Oh(t,n,a){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~a}function Uh(t){if(ou){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}ou=!1}Mi=0,Se=Xt=Rt=null,is=!1,Tl=uu=0,as=null}function We(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Se===null?Rt.memoizedState=Se=t:Se=Se.next=t,Se}function me(){if(Xt===null){var t=Rt.alternate;t=t!==null?t.memoizedState:null}else t=Xt.next;var n=Se===null?Rt.memoizedState:Se.next;if(n!==null)Se=n,Xt=t;else{if(t===null)throw Rt.alternate===null?Error(s(467)):Error(s(310));Xt=t,t={memoizedState:Xt.memoizedState,baseState:Xt.baseState,baseQueue:Xt.baseQueue,queue:Xt.queue,next:null},Se===null?Rt.memoizedState=Se=t:Se=Se.next=t}return Se}function cu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Sl(t){var n=Tl;return Tl+=1,as===null&&(as=[]),t=eg(as,t,n),n=Rt,(Se===null?n.memoizedState:Se.next)===null&&(n=n.alternate,X.H=n===null||n.memoizedState===null?Qg:Yh),t}function hu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Sl(t);if(t.$$typeof===st)return ke(t)}throw Error(s(438,String(t)))}function Lh(t){var n=null,a=Rt.updateQueue;if(a!==null&&(n=a.memoCache),n==null){var l=Rt.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),a===null&&(a=cu(),Rt.updateQueue=a),a.memoCache=n,a=n.data[n.index],a===void 0)for(a=n.data[n.index]=Array(t),l=0;l<t;l++)a[l]=M;return n.index++,a}function Oi(t,n){return typeof n=="function"?n(t):n}function fu(t){var n=me();return zh(n,Xt,t)}function zh(t,n,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var h=t.baseQueue,f=l.pending;if(f!==null){if(h!==null){var y=h.next;h.next=f.next,f.next=y}n.baseQueue=h=f,l.pending=null}if(f=t.baseState,h===null)t.memoizedState=f;else{n=h.next;var E=y=null,D=null,B=n,Y=!1;do{var Z=B.lane&-536870913;if(Z!==B.lane?(Nt&Z)===Z:(Mi&Z)===Z){var j=B.revertLane;if(j===0)D!==null&&(D=D.next={lane:0,revertLane:0,gesture:null,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null}),Z===Jr&&(Y=!0);else if((Mi&j)===j){B=B.next,j===Jr&&(Y=!0);continue}else Z={lane:0,revertLane:B.revertLane,gesture:null,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},D===null?(E=D=Z,y=f):D=D.next=Z,Rt.lanes|=j,ya|=j;Z=B.action,pr&&a(f,Z),f=B.hasEagerState?B.eagerState:a(f,Z)}else j={lane:Z,revertLane:B.revertLane,gesture:B.gesture,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},D===null?(E=D=j,y=f):D=D.next=j,Rt.lanes|=Z,ya|=Z;B=B.next}while(B!==null&&B!==n);if(D===null?y=f:D.next=E,!fn(f,t.memoizedState)&&(be=!0,Y&&(a=Wr,a!==null)))throw a;t.memoizedState=f,t.baseState=y,t.baseQueue=D,l.lastRenderedState=f}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Bh(t){var n=me(),a=n.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,h=a.pending,f=n.memoizedState;if(h!==null){a.pending=null;var y=h=h.next;do f=t(f,y.action),y=y.next;while(y!==h);fn(f,n.memoizedState)||(be=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),a.lastRenderedState=f}return[f,l]}function fg(t,n,a){var l=Rt,h=me(),f=Ot;if(f){if(a===void 0)throw Error(s(407));a=a()}else a=n();var y=!fn((Xt||h).memoizedState,a);if(y&&(h.memoizedState=a,be=!0),h=h.queue,kh(gg.bind(null,l,h,t),[t]),h.getSnapshot!==n||y||Se!==null&&Se.memoizedState.tag&1){if(l.flags|=2048,rs(9,{destroy:void 0},mg.bind(null,l,h,a,n),null),Jt===null)throw Error(s(349));f||(Mi&127)!==0||dg(l,n,a)}return a}function dg(t,n,a){t.flags|=16384,t={getSnapshot:n,value:a},n=Rt.updateQueue,n===null?(n=cu(),Rt.updateQueue=n,n.stores=[t]):(a=n.stores,a===null?n.stores=[t]:a.push(t))}function mg(t,n,a,l){n.value=a,n.getSnapshot=l,pg(n)&&yg(t)}function gg(t,n,a){return a(function(){pg(n)&&yg(t)})}function pg(t){var n=t.getSnapshot;t=t.value;try{var a=n();return!fn(t,a)}catch{return!0}}function yg(t){var n=lr(t,2);n!==null&&ln(n,t,2)}function Ph(t){var n=We();if(typeof t=="function"){var a=t;if(t=a(),pr){En(!0);try{a()}finally{En(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Oi,lastRenderedState:t},n}function _g(t,n,a,l){return t.baseState=a,zh(t,Xt,typeof l=="function"?l:Oi)}function LE(t,n,a,l,h){if(gu(t))throw Error(s(485));if(t=n.action,t!==null){var f={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(y){f.listeners.push(y)}};X.T!==null?a(!0):f.isTransition=!1,l(f),a=n.pending,a===null?(f.next=n.pending=f,vg(n,f)):(f.next=a.next,n.pending=a.next=f)}}function vg(t,n){var a=n.action,l=n.payload,h=t.state;if(n.isTransition){var f=X.T,y={};X.T=y;try{var E=a(h,l),D=X.S;D!==null&&D(y,E),Eg(t,n,E)}catch(B){jh(t,n,B)}finally{f!==null&&y.types!==null&&(f.types=y.types),X.T=f}}else try{f=a(h,l),Eg(t,n,f)}catch(B){jh(t,n,B)}}function Eg(t,n,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Tg(t,n,l)},function(l){return jh(t,n,l)}):Tg(t,n,a)}function Tg(t,n,a){n.status="fulfilled",n.value=a,Sg(n),t.state=a,n=t.pending,n!==null&&(a=n.next,a===n?t.pending=null:(a=a.next,n.next=a,vg(t,a)))}function jh(t,n,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=a,Sg(n),n=n.next;while(n!==l)}t.action=null}function Sg(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function bg(t,n){return n}function Ag(t,n){if(Ot){var a=Jt.formState;if(a!==null){t:{var l=Rt;if(Ot){if(Wt){e:{for(var h=Wt,f=xn;h.nodeType!==8;){if(!f){h=null;break e}if(h=Vn(h.nextSibling),h===null){h=null;break e}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){Wt=Vn(h.nextSibling),l=h.data==="F!";break t}}oa(l)}l=!1}l&&(n=a[0])}}return a=We(),a.memoizedState=a.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:bg,lastRenderedState:n},a.queue=l,a=Hg.bind(null,Rt,l),l.dispatch=a,l=Ph(!1),f=Qh.bind(null,Rt,!1,l.queue),l=We(),h={state:n,dispatch:null,action:t,pending:null},l.queue=h,a=LE.bind(null,Rt,h,f,a),h.dispatch=a,l.memoizedState=t,[n,a,!1]}function Rg(t){var n=me();return wg(n,Xt,t)}function wg(t,n,a){if(n=zh(t,n,bg)[0],t=fu(Oi)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=Sl(n)}catch(y){throw y===ts?nu:y}else l=n;n=me();var h=n.queue,f=h.dispatch;return a!==n.memoizedState&&(Rt.flags|=2048,rs(9,{destroy:void 0},zE.bind(null,h,a),null)),[l,f,t]}function zE(t,n){t.action=n}function Cg(t){var n=me(),a=Xt;if(a!==null)return wg(n,a,t);me(),n=n.memoizedState,a=me();var l=a.queue.dispatch;return a.memoizedState=t,[n,l,!1]}function rs(t,n,a,l){return t={tag:t,create:a,deps:l,inst:n,next:null},n=Rt.updateQueue,n===null&&(n=cu(),Rt.updateQueue=n),a=n.lastEffect,a===null?n.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,n.lastEffect=t),t}function Dg(){return me().memoizedState}function du(t,n,a,l){var h=We();Rt.flags|=t,h.memoizedState=rs(1|n,{destroy:void 0},a,l===void 0?null:l)}function mu(t,n,a,l){var h=me();l=l===void 0?null:l;var f=h.memoizedState.inst;Xt!==null&&l!==null&&Vh(l,Xt.memoizedState.deps)?h.memoizedState=rs(n,f,a,l):(Rt.flags|=t,h.memoizedState=rs(1|n,f,a,l))}function xg(t,n){du(8390656,8,t,n)}function kh(t,n){mu(2048,8,t,n)}function BE(t){Rt.flags|=4;var n=Rt.updateQueue;if(n===null)n=cu(),Rt.updateQueue=n,n.events=[t];else{var a=n.events;a===null?n.events=[t]:a.push(t)}}function Ng(t){var n=me().memoizedState;return BE({ref:n,nextImpl:t}),function(){if((qt&2)!==0)throw Error(s(440));return n.impl.apply(void 0,arguments)}}function Vg(t,n){return mu(4,2,t,n)}function Ig(t,n){return mu(4,4,t,n)}function Mg(t,n){if(typeof n=="function"){t=t();var a=n(t);return function(){typeof a=="function"?a():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function Og(t,n,a){a=a!=null?a.concat([t]):null,mu(4,4,Mg.bind(null,n,t),a)}function qh(){}function Ug(t,n){var a=me();n=n===void 0?null:n;var l=a.memoizedState;return n!==null&&Vh(n,l[1])?l[0]:(a.memoizedState=[t,n],t)}function Lg(t,n){var a=me();n=n===void 0?null:n;var l=a.memoizedState;if(n!==null&&Vh(n,l[1]))return l[0];if(l=t(),pr){En(!0);try{t()}finally{En(!1)}}return a.memoizedState=[l,n],l}function Hh(t,n,a){return a===void 0||(Mi&1073741824)!==0&&(Nt&261930)===0?t.memoizedState=n:(t.memoizedState=a,t=zp(),Rt.lanes|=t,ya|=t,a)}function zg(t,n,a,l){return fn(a,n)?a:ns.current!==null?(t=Hh(t,a,l),fn(t,n)||(be=!0),t):(Mi&42)===0||(Mi&1073741824)!==0&&(Nt&261930)===0?(be=!0,t.memoizedState=a):(t=zp(),Rt.lanes|=t,ya|=t,n)}function Bg(t,n,a,l,h){var f=lt.p;lt.p=f!==0&&8>f?f:8;var y=X.T,E={};X.T=E,Qh(t,!1,n,a);try{var D=h(),B=X.S;if(B!==null&&B(E,D),D!==null&&typeof D=="object"&&typeof D.then=="function"){var Y=ME(D,l);bl(t,n,Y,_n(t))}else bl(t,n,l,_n(t))}catch(Z){bl(t,n,{then:function(){},status:"rejected",reason:Z},_n())}finally{lt.p=f,y!==null&&E.types!==null&&(y.types=E.types),X.T=y}}function PE(){}function Gh(t,n,a,l){if(t.tag!==5)throw Error(s(476));var h=Pg(t).queue;Bg(t,h,n,gt,a===null?PE:function(){return jg(t),a(l)})}function Pg(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:gt,baseState:gt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Oi,lastRenderedState:gt},next:null};var a={};return n.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Oi,lastRenderedState:a},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function jg(t){var n=Pg(t);n.next===null&&(n=t.alternate.memoizedState),bl(t,n.next.queue,{},_n())}function Fh(){return ke(jl)}function kg(){return me().memoizedState}function qg(){return me().memoizedState}function jE(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var a=_n();t=ha(a);var l=fa(n,t,a);l!==null&&(ln(l,n,a),_l(l,n,a)),n={cache:Eh()},t.payload=n;return}n=n.return}}function kE(t,n,a){var l=_n();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},gu(t)?Gg(n,a):(a=uh(t,n,a,l),a!==null&&(ln(a,t,l),Fg(a,n,l)))}function Hg(t,n,a){var l=_n();bl(t,n,a,l)}function bl(t,n,a,l){var h={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(gu(t))Gg(n,h);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var y=n.lastRenderedState,E=f(y,a);if(h.hasEagerState=!0,h.eagerState=E,fn(E,y))return Xo(t,n,h,0),Jt===null&&Ko(),!1}catch{}finally{}if(a=uh(t,n,h,l),a!==null)return ln(a,t,l),Fg(a,n,l),!0}return!1}function Qh(t,n,a,l){if(l={lane:2,revertLane:Rf(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},gu(t)){if(n)throw Error(s(479))}else n=uh(t,a,l,2),n!==null&&ln(n,t,2)}function gu(t){var n=t.alternate;return t===Rt||n!==null&&n===Rt}function Gg(t,n){is=ou=!0;var a=t.pending;a===null?n.next=n:(n.next=a.next,a.next=n),t.pending=n}function Fg(t,n,a){if((a&4194048)!==0){var l=n.lanes;l&=t.pendingLanes,a|=l,n.lanes=a,Fs(t,a)}}var Al={readContext:ke,use:hu,useCallback:ue,useContext:ue,useEffect:ue,useImperativeHandle:ue,useLayoutEffect:ue,useInsertionEffect:ue,useMemo:ue,useReducer:ue,useRef:ue,useState:ue,useDebugValue:ue,useDeferredValue:ue,useTransition:ue,useSyncExternalStore:ue,useId:ue,useHostTransitionStatus:ue,useFormState:ue,useActionState:ue,useOptimistic:ue,useMemoCache:ue,useCacheRefresh:ue};Al.useEffectEvent=ue;var Qg={readContext:ke,use:hu,useCallback:function(t,n){return We().memoizedState=[t,n===void 0?null:n],t},useContext:ke,useEffect:xg,useImperativeHandle:function(t,n,a){a=a!=null?a.concat([t]):null,du(4194308,4,Mg.bind(null,n,t),a)},useLayoutEffect:function(t,n){return du(4194308,4,t,n)},useInsertionEffect:function(t,n){du(4,2,t,n)},useMemo:function(t,n){var a=We();n=n===void 0?null:n;var l=t();if(pr){En(!0);try{t()}finally{En(!1)}}return a.memoizedState=[l,n],l},useReducer:function(t,n,a){var l=We();if(a!==void 0){var h=a(n);if(pr){En(!0);try{a(n)}finally{En(!1)}}}else h=n;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=kE.bind(null,Rt,t),[l.memoizedState,t]},useRef:function(t){var n=We();return t={current:t},n.memoizedState=t},useState:function(t){t=Ph(t);var n=t.queue,a=Hg.bind(null,Rt,n);return n.dispatch=a,[t.memoizedState,a]},useDebugValue:qh,useDeferredValue:function(t,n){var a=We();return Hh(a,t,n)},useTransition:function(){var t=Ph(!1);return t=Bg.bind(null,Rt,t.queue,!0,!1),We().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,a){var l=Rt,h=We();if(Ot){if(a===void 0)throw Error(s(407));a=a()}else{if(a=n(),Jt===null)throw Error(s(349));(Nt&127)!==0||dg(l,n,a)}h.memoizedState=a;var f={value:a,getSnapshot:n};return h.queue=f,xg(gg.bind(null,l,f,t),[t]),l.flags|=2048,rs(9,{destroy:void 0},mg.bind(null,l,f,a,n),null),a},useId:function(){var t=We(),n=Jt.identifierPrefix;if(Ot){var a=fi,l=hi;a=(l&~(1<<32-he(l)-1)).toString(32)+a,n="_"+n+"R_"+a,a=uu++,0<a&&(n+="H"+a.toString(32)),n+="_"}else a=OE++,n="_"+n+"r_"+a.toString(32)+"_";return t.memoizedState=n},useHostTransitionStatus:Fh,useFormState:Ag,useActionState:Ag,useOptimistic:function(t){var n=We();n.memoizedState=n.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=a,n=Qh.bind(null,Rt,!0,a),a.dispatch=n,[t,n]},useMemoCache:Lh,useCacheRefresh:function(){return We().memoizedState=jE.bind(null,Rt)},useEffectEvent:function(t){var n=We(),a={impl:t};return n.memoizedState=a,function(){if((qt&2)!==0)throw Error(s(440));return a.impl.apply(void 0,arguments)}}},Yh={readContext:ke,use:hu,useCallback:Ug,useContext:ke,useEffect:kh,useImperativeHandle:Og,useInsertionEffect:Vg,useLayoutEffect:Ig,useMemo:Lg,useReducer:fu,useRef:Dg,useState:function(){return fu(Oi)},useDebugValue:qh,useDeferredValue:function(t,n){var a=me();return zg(a,Xt.memoizedState,t,n)},useTransition:function(){var t=fu(Oi)[0],n=me().memoizedState;return[typeof t=="boolean"?t:Sl(t),n]},useSyncExternalStore:fg,useId:kg,useHostTransitionStatus:Fh,useFormState:Rg,useActionState:Rg,useOptimistic:function(t,n){var a=me();return _g(a,Xt,t,n)},useMemoCache:Lh,useCacheRefresh:qg};Yh.useEffectEvent=Ng;var Yg={readContext:ke,use:hu,useCallback:Ug,useContext:ke,useEffect:kh,useImperativeHandle:Og,useInsertionEffect:Vg,useLayoutEffect:Ig,useMemo:Lg,useReducer:Bh,useRef:Dg,useState:function(){return Bh(Oi)},useDebugValue:qh,useDeferredValue:function(t,n){var a=me();return Xt===null?Hh(a,t,n):zg(a,Xt.memoizedState,t,n)},useTransition:function(){var t=Bh(Oi)[0],n=me().memoizedState;return[typeof t=="boolean"?t:Sl(t),n]},useSyncExternalStore:fg,useId:kg,useHostTransitionStatus:Fh,useFormState:Cg,useActionState:Cg,useOptimistic:function(t,n){var a=me();return Xt!==null?_g(a,Xt,t,n):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:Lh,useCacheRefresh:qg};Yg.useEffectEvent=Ng;function Kh(t,n,a,l){n=t.memoizedState,a=a(l,n),a=a==null?n:b({},n,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var Xh={enqueueSetState:function(t,n,a){t=t._reactInternals;var l=_n(),h=ha(l);h.payload=n,a!=null&&(h.callback=a),n=fa(t,h,l),n!==null&&(ln(n,t,l),_l(n,t,l))},enqueueReplaceState:function(t,n,a){t=t._reactInternals;var l=_n(),h=ha(l);h.tag=1,h.payload=n,a!=null&&(h.callback=a),n=fa(t,h,l),n!==null&&(ln(n,t,l),_l(n,t,l))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var a=_n(),l=ha(a);l.tag=2,n!=null&&(l.callback=n),n=fa(t,l,a),n!==null&&(ln(n,t,a),_l(n,t,a))}};function Kg(t,n,a,l,h,f,y){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,f,y):n.prototype&&n.prototype.isPureReactComponent?!cl(a,l)||!cl(h,f):!0}function Xg(t,n,a,l){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(a,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(a,l),n.state!==t&&Xh.enqueueReplaceState(n,n.state,null)}function yr(t,n){var a=n;if("ref"in n){a={};for(var l in n)l!=="ref"&&(a[l]=n[l])}if(t=t.defaultProps){a===n&&(a=b({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}function $g(t){Yo(t)}function Zg(t){console.error(t)}function Jg(t){Yo(t)}function pu(t,n){try{var a=t.onUncaughtError;a(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function Wg(t,n,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function $h(t,n,a){return a=ha(a),a.tag=3,a.payload={element:null},a.callback=function(){pu(t,n)},a}function tp(t){return t=ha(t),t.tag=3,t}function ep(t,n,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var f=l.value;t.payload=function(){return h(f)},t.callback=function(){Wg(n,a,l)}}var y=a.stateNode;y!==null&&typeof y.componentDidCatch=="function"&&(t.callback=function(){Wg(n,a,l),typeof h!="function"&&(_a===null?_a=new Set([this]):_a.add(this));var E=l.stack;this.componentDidCatch(l.value,{componentStack:E!==null?E:""})})}function qE(t,n,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=a.alternate,n!==null&&Zr(n,a,h,!0),a=mn.current,a!==null){switch(a.tag){case 31:case 13:return Nn===null?Du():a.alternate===null&&ce===0&&(ce=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===iu?a.flags|=16384:(n=a.updateQueue,n===null?a.updateQueue=new Set([l]):n.add(l),Sf(t,l,h)),!1;case 22:return a.flags|=65536,l===iu?a.flags|=16384:(n=a.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=n):(a=n.retryQueue,a===null?n.retryQueue=new Set([l]):a.add(l)),Sf(t,l,h)),!1}throw Error(s(435,a.tag))}return Sf(t,l,h),Du(),!1}if(Ot)return n=mn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,l!==gh&&(t=Error(s(422),{cause:l}),dl(wn(t,a)))):(l!==gh&&(n=Error(s(423),{cause:l}),dl(wn(n,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=wn(l,a),h=$h(t.stateNode,l,h),wh(t,h),ce!==4&&(ce=2)),!1;var f=Error(s(520),{cause:l});if(f=wn(f,a),Il===null?Il=[f]:Il.push(f),ce!==4&&(ce=2),n===null)return!0;l=wn(l,a),a=n;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=$h(a.stateNode,l,t),wh(a,t),!1;case 1:if(n=a.type,f=a.stateNode,(a.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(_a===null||!_a.has(f))))return a.flags|=65536,h&=-h,a.lanes|=h,h=tp(h),ep(h,t,a,l),wh(a,h),!1}a=a.return}while(a!==null);return!1}var Zh=Error(s(461)),be=!1;function qe(t,n,a,l){n.child=t===null?rg(n,null,a,l):gr(n,t.child,a,l)}function np(t,n,a,l,h){a=a.render;var f=n.ref;if("ref"in l){var y={};for(var E in l)E!=="ref"&&(y[E]=l[E])}else y=l;return hr(n),l=Ih(t,n,a,y,f,h),E=Mh(),t!==null&&!be?(Oh(t,n,h),Ui(t,n,h)):(Ot&&E&&dh(n),n.flags|=1,qe(t,n,l,h),n.child)}function ip(t,n,a,l,h){if(t===null){var f=a.type;return typeof f=="function"&&!ch(f)&&f.defaultProps===void 0&&a.compare===null?(n.tag=15,n.type=f,ap(t,n,f,l,h)):(t=Zo(a.type,null,l,n,n.mode,h),t.ref=n.ref,t.return=n,n.child=t)}if(f=t.child,!sf(t,h)){var y=f.memoizedProps;if(a=a.compare,a=a!==null?a:cl,a(y,l)&&t.ref===n.ref)return Ui(t,n,h)}return n.flags|=1,t=xi(f,l),t.ref=n.ref,t.return=n,n.child=t}function ap(t,n,a,l,h){if(t!==null){var f=t.memoizedProps;if(cl(f,l)&&t.ref===n.ref)if(be=!1,n.pendingProps=l=f,sf(t,h))(t.flags&131072)!==0&&(be=!0);else return n.lanes=t.lanes,Ui(t,n,h)}return Jh(t,n,a,l,h)}function rp(t,n,a,l){var h=l.children,f=t!==null?t.memoizedState:null;if(t===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|a:a,t!==null){for(l=n.child=t.child,h=0;l!==null;)h=h|l.lanes|l.childLanes,l=l.sibling;l=h&~f}else l=0,n.child=null;return sp(t,n,f,a,l)}if((a&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&eu(n,f!==null?f.cachePool:null),f!==null?og(n,f):Dh(),ug(n);else return l=n.lanes=536870912,sp(t,n,f!==null?f.baseLanes|a:a,a,l)}else f!==null?(eu(n,f.cachePool),og(n,f),ma(),n.memoizedState=null):(t!==null&&eu(n,null),Dh(),ma());return qe(t,n,h,a),n.child}function Rl(t,n){return t!==null&&t.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function sp(t,n,a,l,h){var f=Sh();return f=f===null?null:{parent:Te._currentValue,pool:f},n.memoizedState={baseLanes:a,cachePool:f},t!==null&&eu(n,null),Dh(),ug(n),t!==null&&Zr(t,n,l,!0),n.childLanes=h,null}function yu(t,n){return n=vu({mode:n.mode,children:n.children},t.mode),n.ref=t.ref,t.child=n,n.return=t,n}function lp(t,n,a){return gr(n,t.child,null,a),t=yu(n,n.pendingProps),t.flags|=2,gn(n),n.memoizedState=null,t}function HE(t,n,a){var l=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,t===null){if(Ot){if(l.mode==="hidden")return t=yu(n,l),n.lanes=536870912,Rl(null,t);if(Nh(n),(t=Wt)?(t=vy(t,xn),t=t!==null&&t.data==="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:sa!==null?{id:hi,overflow:fi}:null,retryLane:536870912,hydrationErrors:null},a=Gm(t),a.return=n,n.child=a,je=n,Wt=null)):t=null,t===null)throw oa(n);return n.lanes=536870912,null}return yu(n,l)}var f=t.memoizedState;if(f!==null){var y=f.dehydrated;if(Nh(n),h)if(n.flags&256)n.flags&=-257,n=lp(t,n,a);else if(n.memoizedState!==null)n.child=t.child,n.flags|=128,n=null;else throw Error(s(558));else if(be||Zr(t,n,a,!1),h=(a&t.childLanes)!==0,be||h){if(l=Jt,l!==null&&(y=Qs(l,a),y!==0&&y!==f.retryLane))throw f.retryLane=y,lr(t,y),ln(l,t,y),Zh;Du(),n=lp(t,n,a)}else t=f.treeContext,Wt=Vn(y.nextSibling),je=n,Ot=!0,la=null,xn=!1,t!==null&&Ym(n,t),n=yu(n,l),n.flags|=4096;return n}return t=xi(t.child,{mode:l.mode,children:l.children}),t.ref=n.ref,n.child=t,t.return=n,t}function _u(t,n){var a=n.ref;if(a===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(n.flags|=4194816)}}function Jh(t,n,a,l,h){return hr(n),a=Ih(t,n,a,l,void 0,h),l=Mh(),t!==null&&!be?(Oh(t,n,h),Ui(t,n,h)):(Ot&&l&&dh(n),n.flags|=1,qe(t,n,a,h),n.child)}function op(t,n,a,l,h,f){return hr(n),n.updateQueue=null,a=hg(n,l,a,h),cg(t),l=Mh(),t!==null&&!be?(Oh(t,n,f),Ui(t,n,f)):(Ot&&l&&dh(n),n.flags|=1,qe(t,n,a,f),n.child)}function up(t,n,a,l,h){if(hr(n),n.stateNode===null){var f=Yr,y=a.contextType;typeof y=="object"&&y!==null&&(f=ke(y)),f=new a(l,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Xh,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=l,f.state=n.memoizedState,f.refs={},Ah(n),y=a.contextType,f.context=typeof y=="object"&&y!==null?ke(y):Yr,f.state=n.memoizedState,y=a.getDerivedStateFromProps,typeof y=="function"&&(Kh(n,a,y,l),f.state=n.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(y=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),y!==f.state&&Xh.enqueueReplaceState(f,f.state,null),El(n,l,f,h),vl(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(t===null){f=n.stateNode;var E=n.memoizedProps,D=yr(a,E);f.props=D;var B=f.context,Y=a.contextType;y=Yr,typeof Y=="object"&&Y!==null&&(y=ke(Y));var Z=a.getDerivedStateFromProps;Y=typeof Z=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,Y||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||B!==y)&&Xg(n,f,l,y),ca=!1;var j=n.memoizedState;f.state=j,El(n,l,f,h),vl(),B=n.memoizedState,E||j!==B||ca?(typeof Z=="function"&&(Kh(n,a,Z,l),B=n.memoizedState),(D=ca||Kg(n,a,D,l,j,B,y))?(Y||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=B),f.props=l,f.state=B,f.context=y,l=D):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{f=n.stateNode,Rh(t,n),y=n.memoizedProps,Y=yr(a,y),f.props=Y,Z=n.pendingProps,j=f.context,B=a.contextType,D=Yr,typeof B=="object"&&B!==null&&(D=ke(B)),E=a.getDerivedStateFromProps,(B=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(y!==Z||j!==D)&&Xg(n,f,l,D),ca=!1,j=n.memoizedState,f.state=j,El(n,l,f,h),vl();var H=n.memoizedState;y!==Z||j!==H||ca||t!==null&&t.dependencies!==null&&Wo(t.dependencies)?(typeof E=="function"&&(Kh(n,a,E,l),H=n.memoizedState),(Y=ca||Kg(n,a,Y,l,j,H,D)||t!==null&&t.dependencies!==null&&Wo(t.dependencies))?(B||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,H,D),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,H,D)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||y===t.memoizedProps&&j===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||y===t.memoizedProps&&j===t.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=H),f.props=l,f.state=H,f.context=D,l=Y):(typeof f.componentDidUpdate!="function"||y===t.memoizedProps&&j===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||y===t.memoizedProps&&j===t.memoizedState||(n.flags|=1024),l=!1)}return f=l,_u(t,n),l=(n.flags&128)!==0,f||l?(f=n.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,t!==null&&l?(n.child=gr(n,t.child,null,h),n.child=gr(n,null,a,h)):qe(t,n,a,h),n.memoizedState=f.state,t=n.child):t=Ui(t,n,h),t}function cp(t,n,a,l){return ur(),n.flags|=256,qe(t,n,a,l),n.child}var Wh={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function tf(t){return{baseLanes:t,cachePool:Wm()}}function ef(t,n,a){return t=t!==null?t.childLanes&~a:0,n&&(t|=yn),t}function hp(t,n,a){var l=n.pendingProps,h=!1,f=(n.flags&128)!==0,y;if((y=f)||(y=t!==null&&t.memoizedState===null?!1:(de.current&2)!==0),y&&(h=!0,n.flags&=-129),y=(n.flags&32)!==0,n.flags&=-33,t===null){if(Ot){if(h?da(n):ma(),(t=Wt)?(t=vy(t,xn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:sa!==null?{id:hi,overflow:fi}:null,retryLane:536870912,hydrationErrors:null},a=Gm(t),a.return=n,n.child=a,je=n,Wt=null)):t=null,t===null)throw oa(n);return Bf(t)?n.lanes=32:n.lanes=536870912,null}var E=l.children;return l=l.fallback,h?(ma(),h=n.mode,E=vu({mode:"hidden",children:E},h),l=or(l,h,a,null),E.return=n,l.return=n,E.sibling=l,n.child=E,l=n.child,l.memoizedState=tf(a),l.childLanes=ef(t,y,a),n.memoizedState=Wh,Rl(null,l)):(da(n),nf(n,E))}var D=t.memoizedState;if(D!==null&&(E=D.dehydrated,E!==null)){if(f)n.flags&256?(da(n),n.flags&=-257,n=af(t,n,a)):n.memoizedState!==null?(ma(),n.child=t.child,n.flags|=128,n=null):(ma(),E=l.fallback,h=n.mode,l=vu({mode:"visible",children:l.children},h),E=or(E,h,a,null),E.flags|=2,l.return=n,E.return=n,l.sibling=E,n.child=l,gr(n,t.child,null,a),l=n.child,l.memoizedState=tf(a),l.childLanes=ef(t,y,a),n.memoizedState=Wh,n=Rl(null,l));else if(da(n),Bf(E)){if(y=E.nextSibling&&E.nextSibling.dataset,y)var B=y.dgst;y=B,l=Error(s(419)),l.stack="",l.digest=y,dl({value:l,source:null,stack:null}),n=af(t,n,a)}else if(be||Zr(t,n,a,!1),y=(a&t.childLanes)!==0,be||y){if(y=Jt,y!==null&&(l=Qs(y,a),l!==0&&l!==D.retryLane))throw D.retryLane=l,lr(t,l),ln(y,t,l),Zh;zf(E)||Du(),n=af(t,n,a)}else zf(E)?(n.flags|=192,n.child=t.child,n=null):(t=D.treeContext,Wt=Vn(E.nextSibling),je=n,Ot=!0,la=null,xn=!1,t!==null&&Ym(n,t),n=nf(n,l.children),n.flags|=4096);return n}return h?(ma(),E=l.fallback,h=n.mode,D=t.child,B=D.sibling,l=xi(D,{mode:"hidden",children:l.children}),l.subtreeFlags=D.subtreeFlags&65011712,B!==null?E=xi(B,E):(E=or(E,h,a,null),E.flags|=2),E.return=n,l.return=n,l.sibling=E,n.child=l,Rl(null,l),l=n.child,E=t.child.memoizedState,E===null?E=tf(a):(h=E.cachePool,h!==null?(D=Te._currentValue,h=h.parent!==D?{parent:D,pool:D}:h):h=Wm(),E={baseLanes:E.baseLanes|a,cachePool:h}),l.memoizedState=E,l.childLanes=ef(t,y,a),n.memoizedState=Wh,Rl(t.child,l)):(da(n),a=t.child,t=a.sibling,a=xi(a,{mode:"visible",children:l.children}),a.return=n,a.sibling=null,t!==null&&(y=n.deletions,y===null?(n.deletions=[t],n.flags|=16):y.push(t)),n.child=a,n.memoizedState=null,a)}function nf(t,n){return n=vu({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function vu(t,n){return t=dn(22,t,null,n),t.lanes=0,t}function af(t,n,a){return gr(n,t.child,null,a),t=nf(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function fp(t,n,a){t.lanes|=n;var l=t.alternate;l!==null&&(l.lanes|=n),_h(t.return,n,a)}function rf(t,n,a,l,h,f){var y=t.memoizedState;y===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h,treeForkCount:f}:(y.isBackwards=n,y.rendering=null,y.renderingStartTime=0,y.last=l,y.tail=a,y.tailMode=h,y.treeForkCount=f)}function dp(t,n,a){var l=n.pendingProps,h=l.revealOrder,f=l.tail;l=l.children;var y=de.current,E=(y&2)!==0;if(E?(y=y&1|2,n.flags|=128):y&=1,ot(de,y),qe(t,n,l,a),l=Ot?fl:0,!E&&t!==null&&(t.flags&128)!==0)t:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&fp(t,a,n);else if(t.tag===19)fp(t,a,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break t;for(;t.sibling===null;){if(t.return===null||t.return===n)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(a=n.child,h=null;a!==null;)t=a.alternate,t!==null&&lu(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=n.child,n.child=null):(h=a.sibling,a.sibling=null),rf(n,!1,h,a,f,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,h=n.child,n.child=null;h!==null;){if(t=h.alternate,t!==null&&lu(t)===null){n.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}rf(n,!0,a,null,f,l);break;case"together":rf(n,!1,null,null,void 0,l);break;default:n.memoizedState=null}return n.child}function Ui(t,n,a){if(t!==null&&(n.dependencies=t.dependencies),ya|=n.lanes,(a&n.childLanes)===0)if(t!==null){if(Zr(t,n,a,!1),(a&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(s(153));if(n.child!==null){for(t=n.child,a=xi(t,t.pendingProps),n.child=a,a.return=n;t.sibling!==null;)t=t.sibling,a=a.sibling=xi(t,t.pendingProps),a.return=n;a.sibling=null}return n.child}function sf(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&Wo(t)))}function GE(t,n,a){switch(n.tag){case 3:De(n,n.stateNode.containerInfo),ua(n,Te,t.memoizedState.cache),ur();break;case 27:case 5:Ha(n);break;case 4:De(n,n.stateNode.containerInfo);break;case 10:ua(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,Nh(n),null;break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(da(n),n.flags|=128,null):(a&n.child.childLanes)!==0?hp(t,n,a):(da(n),t=Ui(t,n,a),t!==null?t.sibling:null);da(n);break;case 19:var h=(t.flags&128)!==0;if(l=(a&n.childLanes)!==0,l||(Zr(t,n,a,!1),l=(a&n.childLanes)!==0),h){if(l)return dp(t,n,a);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),ot(de,de.current),l)break;return null;case 22:return n.lanes=0,rp(t,n,a,n.pendingProps);case 24:ua(n,Te,t.memoizedState.cache)}return Ui(t,n,a)}function mp(t,n,a){if(t!==null)if(t.memoizedProps!==n.pendingProps)be=!0;else{if(!sf(t,a)&&(n.flags&128)===0)return be=!1,GE(t,n,a);be=(t.flags&131072)!==0}else be=!1,Ot&&(n.flags&1048576)!==0&&Qm(n,fl,n.index);switch(n.lanes=0,n.tag){case 16:t:{var l=n.pendingProps;if(t=dr(n.elementType),n.type=t,typeof t=="function")ch(t)?(l=yr(t,l),n.tag=1,n=up(null,n,t,l,a)):(n.tag=0,n=Jh(null,n,t,l,a));else{if(t!=null){var h=t.$$typeof;if(h===at){n.tag=11,n=np(null,n,t,l,a);break t}else if(h===R){n.tag=14,n=ip(null,n,t,l,a);break t}}throw n=ie(t)||t,Error(s(306,n,""))}}return n;case 0:return Jh(t,n,n.type,n.pendingProps,a);case 1:return l=n.type,h=yr(l,n.pendingProps),up(t,n,l,h,a);case 3:t:{if(De(n,n.stateNode.containerInfo),t===null)throw Error(s(387));l=n.pendingProps;var f=n.memoizedState;h=f.element,Rh(t,n),El(n,l,null,a);var y=n.memoizedState;if(l=y.cache,ua(n,Te,l),l!==f.cache&&vh(n,[Te],a,!0),vl(),l=y.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:y.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=cp(t,n,l,a);break t}else if(l!==h){h=wn(Error(s(424)),n),dl(h),n=cp(t,n,l,a);break t}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(Wt=Vn(t.firstChild),je=n,Ot=!0,la=null,xn=!0,a=rg(n,null,l,a),n.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(ur(),l===h){n=Ui(t,n,a);break t}qe(t,n,l,a)}n=n.child}return n;case 26:return _u(t,n),t===null?(a=Ry(n.type,null,n.pendingProps,null))?n.memoizedState=a:Ot||(a=n.type,t=n.pendingProps,l=Uu(wt.current).createElement(a),l[_e]=n,l[Me]=t,He(l,a,t),ve(l),n.stateNode=l):n.memoizedState=Ry(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return Ha(n),t===null&&Ot&&(l=n.stateNode=Sy(n.type,n.pendingProps,wt.current),je=n,xn=!0,h=Wt,Sa(n.type)?(Pf=h,Wt=Vn(l.firstChild)):Wt=h),qe(t,n,n.pendingProps.children,a),_u(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&Ot&&((h=l=Wt)&&(l=ET(l,n.type,n.pendingProps,xn),l!==null?(n.stateNode=l,je=n,Wt=Vn(l.firstChild),xn=!1,h=!0):h=!1),h||oa(n)),Ha(n),h=n.type,f=n.pendingProps,y=t!==null?t.memoizedProps:null,l=f.children,Of(h,f)?l=null:y!==null&&Of(h,y)&&(n.flags|=32),n.memoizedState!==null&&(h=Ih(t,n,UE,null,null,a),jl._currentValue=h),_u(t,n),qe(t,n,l,a),n.child;case 6:return t===null&&Ot&&((t=a=Wt)&&(a=TT(a,n.pendingProps,xn),a!==null?(n.stateNode=a,je=n,Wt=null,t=!0):t=!1),t||oa(n)),null;case 13:return hp(t,n,a);case 4:return De(n,n.stateNode.containerInfo),l=n.pendingProps,t===null?n.child=gr(n,null,l,a):qe(t,n,l,a),n.child;case 11:return np(t,n,n.type,n.pendingProps,a);case 7:return qe(t,n,n.pendingProps,a),n.child;case 8:return qe(t,n,n.pendingProps.children,a),n.child;case 12:return qe(t,n,n.pendingProps.children,a),n.child;case 10:return l=n.pendingProps,ua(n,n.type,l.value),qe(t,n,l.children,a),n.child;case 9:return h=n.type._context,l=n.pendingProps.children,hr(n),h=ke(h),l=l(h),n.flags|=1,qe(t,n,l,a),n.child;case 14:return ip(t,n,n.type,n.pendingProps,a);case 15:return ap(t,n,n.type,n.pendingProps,a);case 19:return dp(t,n,a);case 31:return HE(t,n,a);case 22:return rp(t,n,a,n.pendingProps);case 24:return hr(n),l=ke(Te),t===null?(h=Sh(),h===null&&(h=Jt,f=Eh(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=a),h=f),n.memoizedState={parent:l,cache:h},Ah(n),ua(n,Te,h)):((t.lanes&a)!==0&&(Rh(t,n),El(n,null,null,a),vl()),h=t.memoizedState,f=n.memoizedState,h.parent!==l?(h={parent:l,cache:l},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),ua(n,Te,l)):(l=f.cache,ua(n,Te,l),l!==h.cache&&vh(n,[Te],a,!0))),qe(t,n,n.pendingProps.children,a),n.child;case 29:throw n.pendingProps}throw Error(s(156,n.tag))}function Li(t){t.flags|=4}function lf(t,n,a,l,h){if((n=(t.mode&32)!==0)&&(n=!1),n){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(kp())t.flags|=8192;else throw mr=iu,bh}else t.flags&=-16777217}function gp(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Ny(n))if(kp())t.flags|=8192;else throw mr=iu,bh}function Eu(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?wo():536870912,t.lanes|=n,us|=n)}function wl(t,n){if(!Ot)switch(t.tailMode){case"hidden":n=t.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function te(t){var n=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(n)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=a,n}function FE(t,n,a){var l=n.pendingProps;switch(mh(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return te(n),null;case 1:return te(n),null;case 3:return a=n.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),Ii(Te),ae(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&($r(n)?Li(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,ph())),te(n),null;case 26:var h=n.type,f=n.memoizedState;return t===null?(Li(n),f!==null?(te(n),gp(n,f)):(te(n),lf(n,h,null,l,a))):f?f!==t.memoizedState?(Li(n),te(n),gp(n,f)):(te(n),n.flags&=-16777217):(t=t.memoizedProps,t!==l&&Li(n),te(n),lf(n,h,t,l,a)),null;case 27:if(Dr(n),a=wt.current,h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Li(n);else{if(!l){if(n.stateNode===null)throw Error(s(166));return te(n),null}t=ct.current,$r(n)?Km(n):(t=Sy(h,l,a),n.stateNode=t,Li(n))}return te(n),null;case 5:if(Dr(n),h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Li(n);else{if(!l){if(n.stateNode===null)throw Error(s(166));return te(n),null}if(f=ct.current,$r(n))Km(n);else{var y=Uu(wt.current);switch(f){case 1:f=y.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=y.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=y.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=y.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=y.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof l.is=="string"?y.createElement("select",{is:l.is}):y.createElement("select"),l.multiple?f.multiple=!0:l.size&&(f.size=l.size);break;default:f=typeof l.is=="string"?y.createElement(h,{is:l.is}):y.createElement(h)}}f[_e]=n,f[Me]=l;t:for(y=n.child;y!==null;){if(y.tag===5||y.tag===6)f.appendChild(y.stateNode);else if(y.tag!==4&&y.tag!==27&&y.child!==null){y.child.return=y,y=y.child;continue}if(y===n)break t;for(;y.sibling===null;){if(y.return===null||y.return===n)break t;y=y.return}y.sibling.return=y.return,y=y.sibling}n.stateNode=f;t:switch(He(f,h,l),h){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break t;case"img":l=!0;break t;default:l=!1}l&&Li(n)}}return te(n),lf(n,n.type,t===null?null:t.memoizedProps,n.pendingProps,a),null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==l&&Li(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(s(166));if(t=wt.current,$r(n)){if(t=n.stateNode,a=n.memoizedProps,l=null,h=je,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[_e]=n,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||hy(t.nodeValue,a)),t||oa(n,!0)}else t=Uu(t).createTextNode(l),t[_e]=n,n.stateNode=t}return te(n),null;case 31:if(a=n.memoizedState,t===null||t.memoizedState!==null){if(l=$r(n),a!==null){if(t===null){if(!l)throw Error(s(318));if(t=n.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(557));t[_e]=n}else ur(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;te(n),t=!1}else a=ph(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return n.flags&256?(gn(n),n):(gn(n),null);if((n.flags&128)!==0)throw Error(s(558))}return te(n),null;case 13:if(l=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=$r(n),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(s(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[_e]=n}else ur(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;te(n),h=!1}else h=ph(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(gn(n),n):(gn(n),null)}return gn(n),(n.flags&128)!==0?(n.lanes=a,n):(a=l!==null,t=t!==null&&t.memoizedState!==null,a&&(l=n.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool),f=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==h&&(l.flags|=2048)),a!==t&&a&&(n.child.flags|=8192),Eu(n,n.updateQueue),te(n),null);case 4:return ae(),t===null&&xf(n.stateNode.containerInfo),te(n),null;case 10:return Ii(n.type),te(n),null;case 19:if(J(de),l=n.memoizedState,l===null)return te(n),null;if(h=(n.flags&128)!==0,f=l.rendering,f===null)if(h)wl(l,!1);else{if(ce!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(f=lu(t),f!==null){for(n.flags|=128,wl(l,!1),t=f.updateQueue,n.updateQueue=t,Eu(n,t),n.subtreeFlags=0,t=a,a=n.child;a!==null;)Hm(a,t),a=a.sibling;return ot(de,de.current&1|2),Ot&&Ni(n,l.treeForkCount),n.child}t=t.sibling}l.tail!==null&&Ze()>Ru&&(n.flags|=128,h=!0,wl(l,!1),n.lanes=4194304)}else{if(!h)if(t=lu(f),t!==null){if(n.flags|=128,h=!0,t=t.updateQueue,n.updateQueue=t,Eu(n,t),wl(l,!0),l.tail===null&&l.tailMode==="hidden"&&!f.alternate&&!Ot)return te(n),null}else 2*Ze()-l.renderingStartTime>Ru&&a!==536870912&&(n.flags|=128,h=!0,wl(l,!1),n.lanes=4194304);l.isBackwards?(f.sibling=n.child,n.child=f):(t=l.last,t!==null?t.sibling=f:n.child=f,l.last=f)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=Ze(),t.sibling=null,a=de.current,ot(de,h?a&1|2:a&1),Ot&&Ni(n,l.treeForkCount),t):(te(n),null);case 22:case 23:return gn(n),xh(),l=n.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(a&536870912)!==0&&(n.flags&128)===0&&(te(n),n.subtreeFlags&6&&(n.flags|=8192)):te(n),a=n.updateQueue,a!==null&&Eu(n,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==a&&(n.flags|=2048),t!==null&&J(fr),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),n.memoizedState.cache!==a&&(n.flags|=2048),Ii(Te),te(n),null;case 25:return null;case 30:return null}throw Error(s(156,n.tag))}function QE(t,n){switch(mh(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return Ii(Te),ae(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return Dr(n),null;case 31:if(n.memoizedState!==null){if(gn(n),n.alternate===null)throw Error(s(340));ur()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 13:if(gn(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(s(340));ur()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return J(de),null;case 4:return ae(),null;case 10:return Ii(n.type),null;case 22:case 23:return gn(n),xh(),t!==null&&J(fr),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return Ii(Te),null;case 25:return null;default:return null}}function pp(t,n){switch(mh(n),n.tag){case 3:Ii(Te),ae();break;case 26:case 27:case 5:Dr(n);break;case 4:ae();break;case 31:n.memoizedState!==null&&gn(n);break;case 13:gn(n);break;case 19:J(de);break;case 10:Ii(n.type);break;case 22:case 23:gn(n),xh(),t!==null&&J(fr);break;case 24:Ii(Te)}}function Cl(t,n){try{var a=n.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&t)===t){l=void 0;var f=a.create,y=a.inst;l=f(),y.destroy=l}a=a.next}while(a!==h)}}catch(E){Yt(n,n.return,E)}}function ga(t,n,a){try{var l=n.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var f=h.next;l=f;do{if((l.tag&t)===t){var y=l.inst,E=y.destroy;if(E!==void 0){y.destroy=void 0,h=n;var D=a,B=E;try{B()}catch(Y){Yt(h,D,Y)}}}l=l.next}while(l!==f)}}catch(Y){Yt(n,n.return,Y)}}function yp(t){var n=t.updateQueue;if(n!==null){var a=t.stateNode;try{lg(n,a)}catch(l){Yt(t,t.return,l)}}}function _p(t,n,a){a.props=yr(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){Yt(t,n,l)}}function Dl(t,n){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(h){Yt(t,n,h)}}function di(t,n){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){Yt(t,n,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){Yt(t,n,h)}else a.current=null}function vp(t){var n=t.type,a=t.memoizedProps,l=t.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break t;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){Yt(t,t.return,h)}}function of(t,n,a){try{var l=t.stateNode;mT(l,t.type,a,n),l[Me]=n}catch(h){Yt(t,t.return,h)}}function Ep(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Sa(t.type)||t.tag===4}function uf(t){t:for(;;){for(;t.sibling===null;){if(t.return===null||Ep(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Sa(t.type)||t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function cf(t,n,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,n):(n=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,n.appendChild(t),a=a._reactRootContainer,a!=null||n.onclick!==null||(n.onclick=Bn));else if(l!==4&&(l===27&&Sa(t.type)&&(a=t.stateNode,n=null),t=t.child,t!==null))for(cf(t,n,a),t=t.sibling;t!==null;)cf(t,n,a),t=t.sibling}function Tu(t,n,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?a.insertBefore(t,n):a.appendChild(t);else if(l!==4&&(l===27&&Sa(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(Tu(t,n,a),t=t.sibling;t!==null;)Tu(t,n,a),t=t.sibling}function Tp(t){var n=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);He(n,l,a),n[_e]=t,n[Me]=a}catch(f){Yt(t,t.return,f)}}var zi=!1,Ae=!1,hf=!1,Sp=typeof WeakSet=="function"?WeakSet:Set,Ue=null;function YE(t,n){if(t=t.containerInfo,If=qu,t=Om(t),ih(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else t:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{a.nodeType,f.nodeType}catch{a=null;break t}var y=0,E=-1,D=-1,B=0,Y=0,Z=t,j=null;e:for(;;){for(var H;Z!==a||h!==0&&Z.nodeType!==3||(E=y+h),Z!==f||l!==0&&Z.nodeType!==3||(D=y+l),Z.nodeType===3&&(y+=Z.nodeValue.length),(H=Z.firstChild)!==null;)j=Z,Z=H;for(;;){if(Z===t)break e;if(j===a&&++B===h&&(E=y),j===f&&++Y===l&&(D=y),(H=Z.nextSibling)!==null)break;Z=j,j=Z.parentNode}Z=H}a=E===-1||D===-1?null:{start:E,end:D}}else a=null}a=a||{start:0,end:0}}else a=null;for(Mf={focusedElem:t,selectionRange:a},qu=!1,Ue=n;Ue!==null;)if(n=Ue,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,Ue=t;else for(;Ue!==null;){switch(n=Ue,f=n.alternate,t=n.flags,n.tag){case 0:if((t&4)!==0&&(t=n.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)h=t[a],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,a=n,h=f.memoizedProps,f=f.memoizedState,l=a.stateNode;try{var ht=yr(a.type,h);t=l.getSnapshotBeforeUpdate(ht,f),l.__reactInternalSnapshotBeforeUpdate=t}catch(yt){Yt(a,a.return,yt)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,a=t.nodeType,a===9)Lf(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Lf(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=n.sibling,t!==null){t.return=n.return,Ue=t;break}Ue=n.return}}function bp(t,n,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Pi(t,a),l&4&&Cl(5,a);break;case 1:if(Pi(t,a),l&4)if(t=a.stateNode,n===null)try{t.componentDidMount()}catch(y){Yt(a,a.return,y)}else{var h=yr(a.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(h,n,t.__reactInternalSnapshotBeforeUpdate)}catch(y){Yt(a,a.return,y)}}l&64&&yp(a),l&512&&Dl(a,a.return);break;case 3:if(Pi(t,a),l&64&&(t=a.updateQueue,t!==null)){if(n=null,a.child!==null)switch(a.child.tag){case 27:case 5:n=a.child.stateNode;break;case 1:n=a.child.stateNode}try{lg(t,n)}catch(y){Yt(a,a.return,y)}}break;case 27:n===null&&l&4&&Tp(a);case 26:case 5:Pi(t,a),n===null&&l&4&&vp(a),l&512&&Dl(a,a.return);break;case 12:Pi(t,a);break;case 31:Pi(t,a),l&4&&wp(t,a);break;case 13:Pi(t,a),l&4&&Cp(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=nT.bind(null,a),ST(t,a))));break;case 22:if(l=a.memoizedState!==null||zi,!l){n=n!==null&&n.memoizedState!==null||Ae,h=zi;var f=Ae;zi=l,(Ae=n)&&!f?ji(t,a,(a.subtreeFlags&8772)!==0):Pi(t,a),zi=h,Ae=f}break;case 30:break;default:Pi(t,a)}}function Ap(t){var n=t.alternate;n!==null&&(t.alternate=null,Ap(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&Mr(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var se=null,nn=!1;function Bi(t,n,a){for(a=a.child;a!==null;)Rp(t,n,a),a=a.sibling}function Rp(t,n,a){if(Be&&typeof Be.onCommitFiberUnmount=="function")try{Be.onCommitFiberUnmount(On,a)}catch{}switch(a.tag){case 26:Ae||di(a,n),Bi(t,n,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Ae||di(a,n);var l=se,h=nn;Sa(a.type)&&(se=a.stateNode,nn=!1),Bi(t,n,a),zl(a.stateNode),se=l,nn=h;break;case 5:Ae||di(a,n);case 6:if(l=se,h=nn,se=null,Bi(t,n,a),se=l,nn=h,se!==null)if(nn)try{(se.nodeType===9?se.body:se.nodeName==="HTML"?se.ownerDocument.body:se).removeChild(a.stateNode)}catch(f){Yt(a,n,f)}else try{se.removeChild(a.stateNode)}catch(f){Yt(a,n,f)}break;case 18:se!==null&&(nn?(t=se,yy(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),ys(t)):yy(se,a.stateNode));break;case 4:l=se,h=nn,se=a.stateNode.containerInfo,nn=!0,Bi(t,n,a),se=l,nn=h;break;case 0:case 11:case 14:case 15:ga(2,a,n),Ae||ga(4,a,n),Bi(t,n,a);break;case 1:Ae||(di(a,n),l=a.stateNode,typeof l.componentWillUnmount=="function"&&_p(a,n,l)),Bi(t,n,a);break;case 21:Bi(t,n,a);break;case 22:Ae=(l=Ae)||a.memoizedState!==null,Bi(t,n,a),Ae=l;break;default:Bi(t,n,a)}}function wp(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{ys(t)}catch(a){Yt(n,n.return,a)}}}function Cp(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{ys(t)}catch(a){Yt(n,n.return,a)}}function KE(t){switch(t.tag){case 31:case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new Sp),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new Sp),n;default:throw Error(s(435,t.tag))}}function Su(t,n){var a=KE(t);n.forEach(function(l){if(!a.has(l)){a.add(l);var h=iT.bind(null,t,l);l.then(h,h)}})}function an(t,n){var a=n.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],f=t,y=n,E=y;t:for(;E!==null;){switch(E.tag){case 27:if(Sa(E.type)){se=E.stateNode,nn=!1;break t}break;case 5:se=E.stateNode,nn=!1;break t;case 3:case 4:se=E.stateNode.containerInfo,nn=!0;break t}E=E.return}if(se===null)throw Error(s(160));Rp(f,y,h),se=null,nn=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)Dp(n,t),n=n.sibling}var Gn=null;function Dp(t,n){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:an(n,t),rn(t),l&4&&(ga(3,t,t.return),Cl(3,t),ga(5,t,t.return));break;case 1:an(n,t),rn(t),l&512&&(Ae||a===null||di(a,a.return)),l&64&&zi&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=Gn;if(an(n,t),rn(t),l&512&&(Ae||a===null||di(a,a.return)),l&4){var f=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){t:{l=t.type,a=t.memoizedProps,h=h.ownerDocument||h;e:switch(l){case"title":f=h.getElementsByTagName("title")[0],(!f||f[Wn]||f[_e]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(l),h.head.insertBefore(f,h.querySelector("head > title"))),He(f,l,a),f[_e]=t,ve(f),l=f;break t;case"link":var y=Dy("link","href",h).get(l+(a.href||""));if(y){for(var E=0;E<y.length;E++)if(f=y[E],f.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&f.getAttribute("rel")===(a.rel==null?null:a.rel)&&f.getAttribute("title")===(a.title==null?null:a.title)&&f.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){y.splice(E,1);break e}}f=h.createElement(l),He(f,l,a),h.head.appendChild(f);break;case"meta":if(y=Dy("meta","content",h).get(l+(a.content||""))){for(E=0;E<y.length;E++)if(f=y[E],f.getAttribute("content")===(a.content==null?null:""+a.content)&&f.getAttribute("name")===(a.name==null?null:a.name)&&f.getAttribute("property")===(a.property==null?null:a.property)&&f.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&f.getAttribute("charset")===(a.charSet==null?null:a.charSet)){y.splice(E,1);break e}}f=h.createElement(l),He(f,l,a),h.head.appendChild(f);break;default:throw Error(s(468,l))}f[_e]=t,ve(f),l=f}t.stateNode=l}else xy(h,t.type,t.stateNode);else t.stateNode=Cy(h,l,t.memoizedProps);else f!==l?(f===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):f.count--,l===null?xy(h,t.type,t.stateNode):Cy(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&of(t,t.memoizedProps,a.memoizedProps)}break;case 27:an(n,t),rn(t),l&512&&(Ae||a===null||di(a,a.return)),a!==null&&l&4&&of(t,t.memoizedProps,a.memoizedProps);break;case 5:if(an(n,t),rn(t),l&512&&(Ae||a===null||di(a,a.return)),t.flags&32){h=t.stateNode;try{en(h,"")}catch(ht){Yt(t,t.return,ht)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,of(t,h,a!==null?a.memoizedProps:h)),l&1024&&(hf=!0);break;case 6:if(an(n,t),rn(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(ht){Yt(t,t.return,ht)}}break;case 3:if(Bu=null,h=Gn,Gn=Lu(n.containerInfo),an(n,t),Gn=h,rn(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{ys(n.containerInfo)}catch(ht){Yt(t,t.return,ht)}hf&&(hf=!1,xp(t));break;case 4:l=Gn,Gn=Lu(t.stateNode.containerInfo),an(n,t),rn(t),Gn=l;break;case 12:an(n,t),rn(t);break;case 31:an(n,t),rn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Su(t,l)));break;case 13:an(n,t),rn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Au=Ze()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Su(t,l)));break;case 22:h=t.memoizedState!==null;var D=a!==null&&a.memoizedState!==null,B=zi,Y=Ae;if(zi=B||h,Ae=Y||D,an(n,t),Ae=Y,zi=B,rn(t),l&8192)t:for(n=t.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(a===null||D||zi||Ae||_r(t)),a=null,n=t;;){if(n.tag===5||n.tag===26){if(a===null){D=a=n;try{if(f=D.stateNode,h)y=f.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none";else{E=D.stateNode;var Z=D.memoizedProps.style,j=Z!=null&&Z.hasOwnProperty("display")?Z.display:null;E.style.display=j==null||typeof j=="boolean"?"":(""+j).trim()}}catch(ht){Yt(D,D.return,ht)}}}else if(n.tag===6){if(a===null){D=n;try{D.stateNode.nodeValue=h?"":D.memoizedProps}catch(ht){Yt(D,D.return,ht)}}}else if(n.tag===18){if(a===null){D=n;try{var H=D.stateNode;h?_y(H,!0):_y(D.stateNode,!1)}catch(ht){Yt(D,D.return,ht)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break t;for(;n.sibling===null;){if(n.return===null||n.return===t)break t;a===n&&(a=null),n=n.return}a===n&&(a=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Su(t,a))));break;case 19:an(n,t),rn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Su(t,l)));break;case 30:break;case 21:break;default:an(n,t),rn(t)}}function rn(t){var n=t.flags;if(n&2){try{for(var a,l=t.return;l!==null;){if(Ep(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,f=uf(t);Tu(t,f,h);break;case 5:var y=a.stateNode;a.flags&32&&(en(y,""),a.flags&=-33);var E=uf(t);Tu(t,E,y);break;case 3:case 4:var D=a.stateNode.containerInfo,B=uf(t);cf(t,B,D);break;default:throw Error(s(161))}}catch(Y){Yt(t,t.return,Y)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function xp(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;xp(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function Pi(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)bp(t,n.alternate,n),n=n.sibling}function _r(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:ga(4,n,n.return),_r(n);break;case 1:di(n,n.return);var a=n.stateNode;typeof a.componentWillUnmount=="function"&&_p(n,n.return,a),_r(n);break;case 27:zl(n.stateNode);case 26:case 5:di(n,n.return),_r(n);break;case 22:n.memoizedState===null&&_r(n);break;case 30:_r(n);break;default:_r(n)}t=t.sibling}}function ji(t,n,a){for(a=a&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,h=t,f=n,y=f.flags;switch(f.tag){case 0:case 11:case 15:ji(h,f,a),Cl(4,f);break;case 1:if(ji(h,f,a),l=f,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(B){Yt(l,l.return,B)}if(l=f,h=l.updateQueue,h!==null){var E=l.stateNode;try{var D=h.shared.hiddenCallbacks;if(D!==null)for(h.shared.hiddenCallbacks=null,h=0;h<D.length;h++)sg(D[h],E)}catch(B){Yt(l,l.return,B)}}a&&y&64&&yp(f),Dl(f,f.return);break;case 27:Tp(f);case 26:case 5:ji(h,f,a),a&&l===null&&y&4&&vp(f),Dl(f,f.return);break;case 12:ji(h,f,a);break;case 31:ji(h,f,a),a&&y&4&&wp(h,f);break;case 13:ji(h,f,a),a&&y&4&&Cp(h,f);break;case 22:f.memoizedState===null&&ji(h,f,a),Dl(f,f.return);break;case 30:break;default:ji(h,f,a)}n=n.sibling}}function ff(t,n){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&ml(a))}function df(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&ml(t))}function Fn(t,n,a,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Np(t,n,a,l),n=n.sibling}function Np(t,n,a,l){var h=n.flags;switch(n.tag){case 0:case 11:case 15:Fn(t,n,a,l),h&2048&&Cl(9,n);break;case 1:Fn(t,n,a,l);break;case 3:Fn(t,n,a,l),h&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&ml(t)));break;case 12:if(h&2048){Fn(t,n,a,l),t=n.stateNode;try{var f=n.memoizedProps,y=f.id,E=f.onPostCommit;typeof E=="function"&&E(y,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(D){Yt(n,n.return,D)}}else Fn(t,n,a,l);break;case 31:Fn(t,n,a,l);break;case 13:Fn(t,n,a,l);break;case 23:break;case 22:f=n.stateNode,y=n.alternate,n.memoizedState!==null?f._visibility&2?Fn(t,n,a,l):xl(t,n):f._visibility&2?Fn(t,n,a,l):(f._visibility|=2,ss(t,n,a,l,(n.subtreeFlags&10256)!==0||!1)),h&2048&&ff(y,n);break;case 24:Fn(t,n,a,l),h&2048&&df(n.alternate,n);break;default:Fn(t,n,a,l)}}function ss(t,n,a,l,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=t,y=n,E=a,D=l,B=y.flags;switch(y.tag){case 0:case 11:case 15:ss(f,y,E,D,h),Cl(8,y);break;case 23:break;case 22:var Y=y.stateNode;y.memoizedState!==null?Y._visibility&2?ss(f,y,E,D,h):xl(f,y):(Y._visibility|=2,ss(f,y,E,D,h)),h&&B&2048&&ff(y.alternate,y);break;case 24:ss(f,y,E,D,h),h&&B&2048&&df(y.alternate,y);break;default:ss(f,y,E,D,h)}n=n.sibling}}function xl(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var a=t,l=n,h=l.flags;switch(l.tag){case 22:xl(a,l),h&2048&&ff(l.alternate,l);break;case 24:xl(a,l),h&2048&&df(l.alternate,l);break;default:xl(a,l)}n=n.sibling}}var Nl=8192;function ls(t,n,a){if(t.subtreeFlags&Nl)for(t=t.child;t!==null;)Vp(t,n,a),t=t.sibling}function Vp(t,n,a){switch(t.tag){case 26:ls(t,n,a),t.flags&Nl&&t.memoizedState!==null&&OT(a,Gn,t.memoizedState,t.memoizedProps);break;case 5:ls(t,n,a);break;case 3:case 4:var l=Gn;Gn=Lu(t.stateNode.containerInfo),ls(t,n,a),Gn=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=Nl,Nl=16777216,ls(t,n,a),Nl=l):ls(t,n,a));break;default:ls(t,n,a)}}function Ip(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function Vl(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var l=n[a];Ue=l,Op(l,t)}Ip(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Mp(t),t=t.sibling}function Mp(t){switch(t.tag){case 0:case 11:case 15:Vl(t),t.flags&2048&&ga(9,t,t.return);break;case 3:Vl(t);break;case 12:Vl(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,bu(t)):Vl(t);break;default:Vl(t)}}function bu(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var l=n[a];Ue=l,Op(l,t)}Ip(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:ga(8,n,n.return),bu(n);break;case 22:a=n.stateNode,a._visibility&2&&(a._visibility&=-3,bu(n));break;default:bu(n)}t=t.sibling}}function Op(t,n){for(;Ue!==null;){var a=Ue;switch(a.tag){case 0:case 11:case 15:ga(8,a,n);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:ml(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Ue=l;else t:for(a=t;Ue!==null;){l=Ue;var h=l.sibling,f=l.return;if(Ap(l),l===a){Ue=null;break t}if(h!==null){h.return=f,Ue=h;break t}Ue=f}}}var XE={getCacheForType:function(t){var n=ke(Te),a=n.data.get(t);return a===void 0&&(a=t(),n.data.set(t,a)),a},cacheSignal:function(){return ke(Te).controller.signal}},$E=typeof WeakMap=="function"?WeakMap:Map,qt=0,Jt=null,Dt=null,Nt=0,Qt=0,pn=null,pa=!1,os=!1,mf=!1,ki=0,ce=0,ya=0,vr=0,gf=0,yn=0,us=0,Il=null,sn=null,pf=!1,Au=0,Up=0,Ru=1/0,wu=null,_a=null,Ne=0,va=null,cs=null,qi=0,yf=0,_f=null,Lp=null,Ml=0,vf=null;function _n(){return(qt&2)!==0&&Nt!==0?Nt&-Nt:X.T!==null?Rf():Co()}function zp(){if(yn===0)if((Nt&536870912)===0||Ot){var t=Qa;Qa<<=1,(Qa&3932160)===0&&(Qa=262144),yn=t}else yn=536870912;return t=mn.current,t!==null&&(t.flags|=32),yn}function ln(t,n,a){(t===Jt&&(Qt===2||Qt===9)||t.cancelPendingCommit!==null)&&(hs(t,0),Ea(t,Nt,yn,!1)),Ya(t,a),((qt&2)===0||t!==Jt)&&(t===Jt&&((qt&2)===0&&(vr|=a),ce===4&&Ea(t,Nt,yn,!1)),mi(t))}function Bp(t,n,a){if((qt&6)!==0)throw Error(s(327));var l=!a&&(n&127)===0&&(n&t.expiredLanes)===0||Un(t,n),h=l?WE(t,n):Tf(t,n,!0),f=l;do{if(h===0){os&&!l&&Ea(t,n,0,!1);break}else{if(a=t.current.alternate,f&&!ZE(a)){h=Tf(t,n,!1),f=!1;continue}if(h===2){if(f=n,t.errorRecoveryDisabledLanes&f)var y=0;else y=t.pendingLanes&-536870913,y=y!==0?y:y&536870912?536870912:0;if(y!==0){n=y;t:{var E=t;h=Il;var D=E.current.memoizedState.isDehydrated;if(D&&(hs(E,y).flags|=256),y=Tf(E,y,!1),y!==2){if(mf&&!D){E.errorRecoveryDisabledLanes|=f,vr|=f,h=4;break t}f=sn,sn=h,f!==null&&(sn===null?sn=f:sn.push.apply(sn,f))}h=y}if(f=!1,h!==2)continue}}if(h===1){hs(t,0),Ea(t,n,0,!0);break}t:{switch(l=t,f=h,f){case 0:case 1:throw Error(s(345));case 4:if((n&4194048)!==n)break;case 6:Ea(l,n,yn,!pa);break t;case 2:sn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((n&62914560)===n&&(h=Au+300-Ze(),10<h)){if(Ea(l,n,yn,!pa),$n(l,0,!0)!==0)break t;qi=n,l.timeoutHandle=gy(Pp.bind(null,l,a,sn,wu,pf,n,yn,vr,us,pa,f,"Throttled",-0,0),h);break t}Pp(l,a,sn,wu,pf,n,yn,vr,us,pa,f,null,-0,0)}}break}while(!0);mi(t)}function Pp(t,n,a,l,h,f,y,E,D,B,Y,Z,j,H){if(t.timeoutHandle=-1,Z=n.subtreeFlags,Z&8192||(Z&16785408)===16785408){Z={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Bn},Vp(n,f,Z);var ht=(f&62914560)===f?Au-Ze():(f&4194048)===f?Up-Ze():0;if(ht=UT(Z,ht),ht!==null){qi=f,t.cancelPendingCommit=ht(Yp.bind(null,t,n,f,a,l,h,y,E,D,Y,Z,null,j,H)),Ea(t,f,y,!B);return}}Yp(t,n,f,a,l,h,y,E,D)}function ZE(t){for(var n=t;;){var a=n.tag;if((a===0||a===11||a===15)&&n.flags&16384&&(a=n.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],f=h.getSnapshot;h=h.value;try{if(!fn(f(),h))return!1}catch{return!1}}if(a=n.child,n.subtreeFlags&16384&&a!==null)a.return=n,n=a;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Ea(t,n,a,l){n&=~gf,n&=~vr,t.suspendedLanes|=n,t.pingedLanes&=~n,l&&(t.warmLanes|=n),l=t.expirationTimes;for(var h=n;0<h;){var f=31-he(h),y=1<<f;l[f]=-1,h&=~y}a!==0&&Ka(t,a,n)}function Cu(){return(qt&6)===0?(Ol(0),!1):!0}function Ef(){if(Dt!==null){if(Qt===0)var t=Dt.return;else t=Dt,Vi=cr=null,Uh(t),es=null,pl=0,t=Dt;for(;t!==null;)pp(t.alternate,t),t=t.return;Dt=null}}function hs(t,n){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,yT(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),qi=0,Ef(),Jt=t,Dt=a=xi(t.current,null),Nt=n,Qt=0,pn=null,pa=!1,os=Un(t,n),mf=!1,us=yn=gf=vr=ya=ce=0,sn=Il=null,pf=!1,(n&8)!==0&&(n|=n&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=n;0<l;){var h=31-he(l),f=1<<h;n|=t[h],l&=~f}return ki=n,Ko(),a}function jp(t,n){Rt=null,X.H=Al,n===ts||n===nu?(n=ng(),Qt=3):n===bh?(n=ng(),Qt=4):Qt=n===Zh?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,pn=n,Dt===null&&(ce=1,pu(t,wn(n,t.current)))}function kp(){var t=mn.current;return t===null?!0:(Nt&4194048)===Nt?Nn===null:(Nt&62914560)===Nt||(Nt&536870912)!==0?t===Nn:!1}function qp(){var t=X.H;return X.H=Al,t===null?Al:t}function Hp(){var t=X.A;return X.A=XE,t}function Du(){ce=4,pa||(Nt&4194048)!==Nt&&mn.current!==null||(os=!0),(ya&134217727)===0&&(vr&134217727)===0||Jt===null||Ea(Jt,Nt,yn,!1)}function Tf(t,n,a){var l=qt;qt|=2;var h=qp(),f=Hp();(Jt!==t||Nt!==n)&&(wu=null,hs(t,n)),n=!1;var y=ce;t:do try{if(Qt!==0&&Dt!==null){var E=Dt,D=pn;switch(Qt){case 8:Ef(),y=6;break t;case 3:case 2:case 9:case 6:mn.current===null&&(n=!0);var B=Qt;if(Qt=0,pn=null,fs(t,E,D,B),a&&os){y=0;break t}break;default:B=Qt,Qt=0,pn=null,fs(t,E,D,B)}}JE(),y=ce;break}catch(Y){jp(t,Y)}while(!0);return n&&t.shellSuspendCounter++,Vi=cr=null,qt=l,X.H=h,X.A=f,Dt===null&&(Jt=null,Nt=0,Ko()),y}function JE(){for(;Dt!==null;)Gp(Dt)}function WE(t,n){var a=qt;qt|=2;var l=qp(),h=Hp();Jt!==t||Nt!==n?(wu=null,Ru=Ze()+500,hs(t,n)):os=Un(t,n);t:do try{if(Qt!==0&&Dt!==null){n=Dt;var f=pn;e:switch(Qt){case 1:Qt=0,pn=null,fs(t,n,f,1);break;case 2:case 9:if(tg(f)){Qt=0,pn=null,Fp(n);break}n=function(){Qt!==2&&Qt!==9||Jt!==t||(Qt=7),mi(t)},f.then(n,n);break t;case 3:Qt=7;break t;case 4:Qt=5;break t;case 7:tg(f)?(Qt=0,pn=null,Fp(n)):(Qt=0,pn=null,fs(t,n,f,7));break;case 5:var y=null;switch(Dt.tag){case 26:y=Dt.memoizedState;case 5:case 27:var E=Dt;if(y?Ny(y):E.stateNode.complete){Qt=0,pn=null;var D=E.sibling;if(D!==null)Dt=D;else{var B=E.return;B!==null?(Dt=B,xu(B)):Dt=null}break e}}Qt=0,pn=null,fs(t,n,f,5);break;case 6:Qt=0,pn=null,fs(t,n,f,6);break;case 8:Ef(),ce=6;break t;default:throw Error(s(462))}}tT();break}catch(Y){jp(t,Y)}while(!0);return Vi=cr=null,X.H=l,X.A=h,qt=a,Dt!==null?0:(Jt=null,Nt=0,Ko(),ce)}function tT(){for(;Dt!==null&&!$c();)Gp(Dt)}function Gp(t){var n=mp(t.alternate,t,ki);t.memoizedProps=t.pendingProps,n===null?xu(t):Dt=n}function Fp(t){var n=t,a=n.alternate;switch(n.tag){case 15:case 0:n=op(a,n,n.pendingProps,n.type,void 0,Nt);break;case 11:n=op(a,n,n.pendingProps,n.type.render,n.ref,Nt);break;case 5:Uh(n);default:pp(a,n),n=Dt=Hm(n,ki),n=mp(a,n,ki)}t.memoizedProps=t.pendingProps,n===null?xu(t):Dt=n}function fs(t,n,a,l){Vi=cr=null,Uh(n),es=null,pl=0;var h=n.return;try{if(qE(t,h,n,a,Nt)){ce=1,pu(t,wn(a,t.current)),Dt=null;return}}catch(f){if(h!==null)throw Dt=h,f;ce=1,pu(t,wn(a,t.current)),Dt=null;return}n.flags&32768?(Ot||l===1?t=!0:os||(Nt&536870912)!==0?t=!1:(pa=t=!0,(l===2||l===9||l===3||l===6)&&(l=mn.current,l!==null&&l.tag===13&&(l.flags|=16384))),Qp(n,t)):xu(n)}function xu(t){var n=t;do{if((n.flags&32768)!==0){Qp(n,pa);return}t=n.return;var a=FE(n.alternate,n,ki);if(a!==null){Dt=a;return}if(n=n.sibling,n!==null){Dt=n;return}Dt=n=t}while(n!==null);ce===0&&(ce=5)}function Qp(t,n){do{var a=QE(t.alternate,t);if(a!==null){a.flags&=32767,Dt=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!n&&(t=t.sibling,t!==null)){Dt=t;return}Dt=t=a}while(t!==null);ce=6,Dt=null}function Yp(t,n,a,l,h,f,y,E,D){t.cancelPendingCommit=null;do Nu();while(Ne!==0);if((qt&6)!==0)throw Error(s(327));if(n!==null){if(n===t.current)throw Error(s(177));if(f=n.lanes|n.childLanes,f|=oh,Wc(t,a,f,y,E,D),t===Jt&&(Dt=Jt=null,Nt=0),cs=n,va=t,qi=a,yf=f,_f=h,Lp=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,aT($i,function(){return Jp(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=X.T,X.T=null,h=lt.p,lt.p=2,y=qt,qt|=4;try{YE(t,n,a)}finally{qt=y,lt.p=h,X.T=l}}Ne=1,Kp(),Xp(),$p()}}function Kp(){if(Ne===1){Ne=0;var t=va,n=cs,a=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||a){a=X.T,X.T=null;var l=lt.p;lt.p=2;var h=qt;qt|=4;try{Dp(n,t);var f=Mf,y=Om(t.containerInfo),E=f.focusedElem,D=f.selectionRange;if(y!==E&&E&&E.ownerDocument&&Mm(E.ownerDocument.documentElement,E)){if(D!==null&&ih(E)){var B=D.start,Y=D.end;if(Y===void 0&&(Y=B),"selectionStart"in E)E.selectionStart=B,E.selectionEnd=Math.min(Y,E.value.length);else{var Z=E.ownerDocument||document,j=Z&&Z.defaultView||window;if(j.getSelection){var H=j.getSelection(),ht=E.textContent.length,yt=Math.min(D.start,ht),Zt=D.end===void 0?yt:Math.min(D.end,ht);!H.extend&&yt>Zt&&(y=Zt,Zt=yt,yt=y);var O=Im(E,yt),V=Im(E,Zt);if(O&&V&&(H.rangeCount!==1||H.anchorNode!==O.node||H.anchorOffset!==O.offset||H.focusNode!==V.node||H.focusOffset!==V.offset)){var z=Z.createRange();z.setStart(O.node,O.offset),H.removeAllRanges(),yt>Zt?(H.addRange(z),H.extend(V.node,V.offset)):(z.setEnd(V.node,V.offset),H.addRange(z))}}}}for(Z=[],H=E;H=H.parentNode;)H.nodeType===1&&Z.push({element:H,left:H.scrollLeft,top:H.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<Z.length;E++){var $=Z[E];$.element.scrollLeft=$.left,$.element.scrollTop=$.top}}qu=!!If,Mf=If=null}finally{qt=h,lt.p=l,X.T=a}}t.current=n,Ne=2}}function Xp(){if(Ne===2){Ne=0;var t=va,n=cs,a=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||a){a=X.T,X.T=null;var l=lt.p;lt.p=2;var h=qt;qt|=4;try{bp(t,n.alternate,n)}finally{qt=h,lt.p=l,X.T=a}}Ne=3}}function $p(){if(Ne===4||Ne===3){Ne=0,Eo();var t=va,n=cs,a=qi,l=Lp;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Ne=5:(Ne=0,cs=va=null,Zp(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(_a=null),Ri(a),n=n.stateNode,Be&&typeof Be.onCommitFiberRoot=="function")try{Be.onCommitFiberRoot(On,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=X.T,h=lt.p,lt.p=2,X.T=null;try{for(var f=t.onRecoverableError,y=0;y<l.length;y++){var E=l[y];f(E.value,{componentStack:E.stack})}}finally{X.T=n,lt.p=h}}(qi&3)!==0&&Nu(),mi(t),h=t.pendingLanes,(a&261930)!==0&&(h&42)!==0?t===vf?Ml++:(Ml=0,vf=t):Ml=0,Ol(0)}}function Zp(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,ml(n)))}function Nu(){return Kp(),Xp(),$p(),Jp()}function Jp(){if(Ne!==5)return!1;var t=va,n=yf;yf=0;var a=Ri(qi),l=X.T,h=lt.p;try{lt.p=32>a?32:a,X.T=null,a=_f,_f=null;var f=va,y=qi;if(Ne=0,cs=va=null,qi=0,(qt&6)!==0)throw Error(s(331));var E=qt;if(qt|=4,Mp(f.current),Np(f,f.current,y,a),qt=E,Ol(0,!1),Be&&typeof Be.onPostCommitFiberRoot=="function")try{Be.onPostCommitFiberRoot(On,f)}catch{}return!0}finally{lt.p=h,X.T=l,Zp(t,n)}}function Wp(t,n,a){n=wn(a,n),n=$h(t.stateNode,n,2),t=fa(t,n,2),t!==null&&(Ya(t,2),mi(t))}function Yt(t,n,a){if(t.tag===3)Wp(t,t,a);else for(;n!==null;){if(n.tag===3){Wp(n,t,a);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(_a===null||!_a.has(l))){t=wn(a,t),a=tp(2),l=fa(n,a,2),l!==null&&(ep(a,l,n,t),Ya(l,2),mi(l));break}}n=n.return}}function Sf(t,n,a){var l=t.pingCache;if(l===null){l=t.pingCache=new $E;var h=new Set;l.set(n,h)}else h=l.get(n),h===void 0&&(h=new Set,l.set(n,h));h.has(a)||(mf=!0,h.add(a),t=eT.bind(null,t,n,a),n.then(t,t))}function eT(t,n,a){var l=t.pingCache;l!==null&&l.delete(n),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,Jt===t&&(Nt&a)===a&&(ce===4||ce===3&&(Nt&62914560)===Nt&&300>Ze()-Au?(qt&2)===0&&hs(t,0):gf|=a,us===Nt&&(us=0)),mi(t)}function ty(t,n){n===0&&(n=wo()),t=lr(t,n),t!==null&&(Ya(t,n),mi(t))}function nT(t){var n=t.memoizedState,a=0;n!==null&&(a=n.retryLane),ty(t,a)}function iT(t,n){var a=0;switch(t.tag){case 31:case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(n),ty(t,a)}function aT(t,n){return xe(t,n)}var Vu=null,ds=null,bf=!1,Iu=!1,Af=!1,Ta=0;function mi(t){t!==ds&&t.next===null&&(ds===null?Vu=ds=t:ds=ds.next=t),Iu=!0,bf||(bf=!0,sT())}function Ol(t,n){if(!Af&&Iu){Af=!0;do for(var a=!1,l=Vu;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var f=0;else{var y=l.suspendedLanes,E=l.pingedLanes;f=(1<<31-he(42|t)+1)-1,f&=h&~(y&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(a=!0,ay(l,f))}else f=Nt,f=$n(l,l===Jt?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||Un(l,f)||(a=!0,ay(l,f));l=l.next}while(a);Af=!1}}function rT(){ey()}function ey(){Iu=bf=!1;var t=0;Ta!==0&&pT()&&(t=Ta);for(var n=Ze(),a=null,l=Vu;l!==null;){var h=l.next,f=ny(l,n);f===0?(l.next=null,a===null?Vu=h:a.next=h,h===null&&(ds=a)):(a=l,(t!==0||(f&3)!==0)&&(Iu=!0)),l=h}Ne!==0&&Ne!==5||Ol(t),Ta!==0&&(Ta=0)}function ny(t,n){for(var a=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var y=31-he(f),E=1<<y,D=h[y];D===-1?((E&a)===0||(E&l)!==0)&&(h[y]=Jc(E,n)):D<=n&&(t.expiredLanes|=E),f&=~E}if(n=Jt,a=Nt,a=$n(t,t===n?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===n&&(Qt===2||Qt===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&Xi(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||Un(t,a)){if(n=a&-a,n===t.callbackPriority)return n;switch(l!==null&&Xi(l),Ri(a)){case 2:case 8:a=Gs;break;case 32:a=$i;break;case 268435456:a=To;break;default:a=$i}return l=iy.bind(null,t),a=xe(a,l),t.callbackPriority=n,t.callbackNode=a,n}return l!==null&&l!==null&&Xi(l),t.callbackPriority=2,t.callbackNode=null,2}function iy(t,n){if(Ne!==0&&Ne!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(Nu()&&t.callbackNode!==a)return null;var l=Nt;return l=$n(t,t===Jt?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(Bp(t,l,n),ny(t,Ze()),t.callbackNode!=null&&t.callbackNode===a?iy.bind(null,t):null)}function ay(t,n){if(Nu())return null;Bp(t,n,!0)}function sT(){_T(function(){(qt&6)!==0?xe(Hs,rT):ey()})}function Rf(){if(Ta===0){var t=Jr;t===0&&(t=Kn,Kn<<=1,(Kn&261888)===0&&(Kn=256)),Ta=t}return Ta}function ry(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:zr(""+t)}function sy(t,n){var a=n.ownerDocument.createElement("input");return a.name=n.name,a.value=n.value,t.id&&a.setAttribute("form",t.id),n.parentNode.insertBefore(a,n),t=new FormData(t),a.parentNode.removeChild(a),t}function lT(t,n,a,l,h){if(n==="submit"&&a&&a.stateNode===h){var f=ry((h[Me]||null).action),y=l.submitter;y&&(n=(n=y[Me]||null)?ry(n.formAction):y.getAttribute("formAction"),n!==null&&(f=n,y=null));var E=new li("action","action",null,l,h);t.push({event:E,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Ta!==0){var D=y?sy(h,y):new FormData(h);Gh(a,{pending:!0,data:D,method:h.method,action:f},null,D)}}else typeof f=="function"&&(E.preventDefault(),D=y?sy(h,y):new FormData(h),Gh(a,{pending:!0,data:D,method:h.method,action:f},f,D))},currentTarget:h}]})}}for(var wf=0;wf<lh.length;wf++){var Cf=lh[wf],oT=Cf.toLowerCase(),uT=Cf[0].toUpperCase()+Cf.slice(1);Hn(oT,"on"+uT)}Hn(zm,"onAnimationEnd"),Hn(Bm,"onAnimationIteration"),Hn(Pm,"onAnimationStart"),Hn("dblclick","onDoubleClick"),Hn("focusin","onFocus"),Hn("focusout","onBlur"),Hn(RE,"onTransitionRun"),Hn(wE,"onTransitionStart"),Hn(CE,"onTransitionCancel"),Hn(jm,"onTransitionEnd"),ii("onMouseEnter",["mouseout","mouseover"]),ii("onMouseLeave",["mouseout","mouseover"]),ii("onPointerEnter",["pointerout","pointerover"]),ii("onPointerLeave",["pointerout","pointerover"]),ni("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ni("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ni("onBeforeInput",["compositionend","keypress","textInput","paste"]),ni("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ni("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ni("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ul="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),cT=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ul));function ly(t,n){n=(n&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],h=l.event;l=l.listeners;t:{var f=void 0;if(n)for(var y=l.length-1;0<=y;y--){var E=l[y],D=E.instance,B=E.currentTarget;if(E=E.listener,D!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=B;try{f(h)}catch(Y){Yo(Y)}h.currentTarget=null,f=D}else for(y=0;y<l.length;y++){if(E=l[y],D=E.instance,B=E.currentTarget,E=E.listener,D!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=B;try{f(h)}catch(Y){Yo(Y)}h.currentTarget=null,f=D}}}}function xt(t,n){var a=n[Ir];a===void 0&&(a=n[Ir]=new Set);var l=t+"__bubble";a.has(l)||(oy(n,t,2,!1),a.add(l))}function Df(t,n,a){var l=0;n&&(l|=4),oy(a,t,l,n)}var Mu="_reactListening"+Math.random().toString(36).slice(2);function xf(t){if(!t[Mu]){t[Mu]=!0,Ys.forEach(function(a){a!=="selectionchange"&&(cT.has(a)||Df(a,!1,t),Df(a,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[Mu]||(n[Mu]=!0,Df("selectionchange",!1,n))}}function oy(t,n,a,l){switch(zy(n)){case 2:var h=BT;break;case 8:h=PT;break;default:h=Gf}a=h.bind(null,n,a,t),h=void 0,!Wa||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(n,a,{capture:!0,passive:h}):t.addEventListener(n,a,!0):h!==void 0?t.addEventListener(n,a,{passive:h}):t.addEventListener(n,a,!1)}function Nf(t,n,a,l,h){var f=l;if((n&1)===0&&(n&2)===0&&l!==null)t:for(;;){if(l===null)return;var y=l.tag;if(y===3||y===4){var E=l.stateNode.containerInfo;if(E===h)break;if(y===4)for(y=l.return;y!==null;){var D=y.tag;if((D===3||D===4)&&y.stateNode.containerInfo===h)return;y=y.return}for(;E!==null;){if(y=ti(E),y===null)return;if(D=y.tag,D===5||D===6||D===26||D===27){l=f=y;continue t}E=E.parentNode}}l=l.return}na(function(){var B=f,Y=Sn(a),Z=[];t:{var j=km.get(t);if(j!==void 0){var H=li,ht=t;switch(t){case"keypress":if(er(a)===0)break t;case"keydown":case"keyup":H=Go;break;case"focusin":ht="focus",H=ir;break;case"focusout":ht="blur",H=ir;break;case"beforeblur":case"afterblur":H=ir;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":H=sl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":H=Uo;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":H=m;break;case zm:case Bm:case Pm:H=zo;break;case jm:H=S;break;case"scroll":case"scrollend":H=rl;break;case"wheel":H=q;break;case"copy":case"cut":case"paste":H=Bo;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":H=Di;break;case"toggle":case"beforetoggle":H=At}var yt=(n&4)!==0,Zt=!yt&&(t==="scroll"||t==="scrollend"),O=yt?j!==null?j+"Capture":null:j;yt=[];for(var V=B,z;V!==null;){var $=V;if(z=$.stateNode,$=$.tag,$!==5&&$!==26&&$!==27||z===null||O===null||($=Pn(V,O),$!=null&&yt.push(Ll(V,$,z))),Zt)break;V=V.return}0<yt.length&&(j=new H(j,ht,null,a,Y),Z.push({event:j,listeners:yt}))}}if((n&7)===0){t:{if(j=t==="mouseover"||t==="pointerover",H=t==="mouseout"||t==="pointerout",j&&a!==nl&&(ht=a.relatedTarget||a.fromElement)&&(ti(ht)||ht[Jn]))break t;if((H||j)&&(j=Y.window===Y?Y:(j=Y.ownerDocument)?j.defaultView||j.parentWindow:window,H?(ht=a.relatedTarget||a.toElement,H=B,ht=ht?ti(ht):null,ht!==null&&(Zt=c(ht),yt=ht.tag,ht!==Zt||yt!==5&&yt!==27&&yt!==6)&&(ht=null)):(H=null,ht=B),H!==ht)){if(yt=sl,$="onMouseLeave",O="onMouseEnter",V="mouse",(t==="pointerout"||t==="pointerover")&&(yt=Di,$="onPointerLeave",O="onPointerEnter",V="pointer"),Zt=H==null?j:cn(H),z=ht==null?j:cn(ht),j=new yt($,V+"leave",H,a,Y),j.target=Zt,j.relatedTarget=z,$=null,ti(Y)===B&&(yt=new yt(O,V+"enter",ht,a,Y),yt.target=z,yt.relatedTarget=Zt,$=yt),Zt=$,H&&ht)e:{for(yt=hT,O=H,V=ht,z=0,$=O;$;$=yt($))z++;$=0;for(var mt=V;mt;mt=yt(mt))$++;for(;0<z-$;)O=yt(O),z--;for(;0<$-z;)V=yt(V),$--;for(;z--;){if(O===V||V!==null&&O===V.alternate){yt=O;break e}O=yt(O),V=yt(V)}yt=null}else yt=null;H!==null&&uy(Z,j,H,yt,!1),ht!==null&&Zt!==null&&uy(Z,Zt,ht,yt,!0)}}t:{if(j=B?cn(B):window,H=j.nodeName&&j.nodeName.toLowerCase(),H==="select"||H==="input"&&j.type==="file")var Pt=wm;else if(Am(j))if(Cm)Pt=SE;else{Pt=EE;var ft=vE}else H=j.nodeName,!H||H.toLowerCase()!=="input"||j.type!=="checkbox"&&j.type!=="radio"?B&&Lr(B.elementType)&&(Pt=wm):Pt=TE;if(Pt&&(Pt=Pt(t,B))){Rm(Z,Pt,a,Y);break t}ft&&ft(t,j,B),t==="focusout"&&B&&j.type==="number"&&B.memoizedProps.value!=null&&Ws(j,"number",j.value)}switch(ft=B?cn(B):window,t){case"focusin":(Am(ft)||ft.contentEditable==="true")&&(Gr=ft,ah=B,hl=null);break;case"focusout":hl=ah=Gr=null;break;case"mousedown":rh=!0;break;case"contextmenu":case"mouseup":case"dragend":rh=!1,Um(Z,a,Y);break;case"selectionchange":if(AE)break;case"keydown":case"keyup":Um(Z,a,Y)}var Ct;if(kt)t:{switch(t){case"compositionstart":var Vt="onCompositionStart";break t;case"compositionend":Vt="onCompositionEnd";break t;case"compositionupdate":Vt="onCompositionUpdate";break t}Vt=void 0}else Hr?ar(t,a)&&(Vt="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(Vt="onCompositionStart");Vt&&(ci&&a.locale!=="ko"&&(Hr||Vt!=="onCompositionStart"?Vt==="onCompositionEnd"&&Hr&&(Ct=al()):(si=Y,il="value"in si?si.value:si.textContent,Hr=!0)),ft=Ou(B,Vt),0<ft.length&&(Vt=new ui(Vt,t,null,a,Y),Z.push({event:Vt,listeners:ft}),Ct?Vt.data=Ct:(Ct=qr(a),Ct!==null&&(Vt.data=Ct)))),(Ct=An?gE(t,a):pE(t,a))&&(Vt=Ou(B,"onBeforeInput"),0<Vt.length&&(ft=new ui("onBeforeInput","beforeinput",null,a,Y),Z.push({event:ft,listeners:Vt}),ft.data=Ct)),lT(Z,t,B,a,Y)}ly(Z,n)})}function Ll(t,n,a){return{instance:t,listener:n,currentTarget:a}}function Ou(t,n){for(var a=n+"Capture",l=[];t!==null;){var h=t,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=Pn(t,a),h!=null&&l.unshift(Ll(t,h,f)),h=Pn(t,n),h!=null&&l.push(Ll(t,h,f))),t.tag===3)return l;t=t.return}return[]}function hT(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function uy(t,n,a,l,h){for(var f=n._reactName,y=[];a!==null&&a!==l;){var E=a,D=E.alternate,B=E.stateNode;if(E=E.tag,D!==null&&D===l)break;E!==5&&E!==26&&E!==27||B===null||(D=B,h?(B=Pn(a,f),B!=null&&y.unshift(Ll(a,B,D))):h||(B=Pn(a,f),B!=null&&y.push(Ll(a,B,D)))),a=a.return}y.length!==0&&t.push({event:n,listeners:y})}var fT=/\r\n?/g,dT=/\u0000|\uFFFD/g;function cy(t){return(typeof t=="string"?t:""+t).replace(fT,`
`).replace(dT,"")}function hy(t,n){return n=cy(n),cy(t)===n}function $t(t,n,a,l,h,f){switch(a){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||en(t,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&en(t,""+l);break;case"className":hn(t,"class",l);break;case"tabIndex":hn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":hn(t,a,l);break;case"style":el(t,l,f);break;case"data":if(n!=="object"){hn(t,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=zr(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(a==="formAction"?(n!=="input"&&$t(t,n,"name",h.name,h,null),$t(t,n,"formEncType",h.formEncType,h,null),$t(t,n,"formMethod",h.formMethod,h,null),$t(t,n,"formTarget",h.formTarget,h,null)):($t(t,n,"encType",h.encType,h,null),$t(t,n,"method",h.method,h,null),$t(t,n,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=zr(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=Bn);break;case"onScroll":l!=null&&xt("scroll",t);break;case"onScrollEnd":l!=null&&xt("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=zr(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":xt("beforetoggle",t),xt("toggle",t),Or(t,"popover",l);break;case"xlinkActuate":Ee(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Ee(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Ee(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Ee(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Ee(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Ee(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Ee(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Ee(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Ee(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Or(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Oo.get(a)||a,Or(t,a,l))}}function Vf(t,n,a,l,h,f){switch(a){case"style":el(t,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?en(t,l):(typeof l=="number"||typeof l=="bigint")&&en(t,""+l);break;case"onScroll":l!=null&&xt("scroll",t);break;case"onScrollEnd":l!=null&&xt("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Bn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ks.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),n=a.slice(2,h?a.length-7:void 0),f=t[Me]||null,f=f!=null?f[a]:null,typeof f=="function"&&t.removeEventListener(n,f,h),typeof l=="function")){typeof f!="function"&&f!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(n,l,h);break t}a in t?t[a]=l:l===!0?t.setAttribute(a,""):Or(t,a,l)}}}function He(t,n,a){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":xt("error",t),xt("load",t);var l=!1,h=!1,f;for(f in a)if(a.hasOwnProperty(f)){var y=a[f];if(y!=null)switch(f){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:$t(t,n,f,y,a,null)}}h&&$t(t,n,"srcSet",a.srcSet,a,null),l&&$t(t,n,"src",a.src,a,null);return;case"input":xt("invalid",t);var E=f=y=h=null,D=null,B=null;for(l in a)if(a.hasOwnProperty(l)){var Y=a[l];if(Y!=null)switch(l){case"name":h=Y;break;case"type":y=Y;break;case"checked":D=Y;break;case"defaultChecked":B=Y;break;case"value":f=Y;break;case"defaultValue":E=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(s(137,n));break;default:$t(t,n,l,Y,a,null)}}Vo(t,f,E,D,B,y,h,!1);return;case"select":xt("invalid",t),l=y=f=null;for(h in a)if(a.hasOwnProperty(h)&&(E=a[h],E!=null))switch(h){case"value":f=E;break;case"defaultValue":y=E;break;case"multiple":l=E;default:$t(t,n,h,E,a,null)}n=f,a=y,t.multiple=!!l,n!=null?Ji(t,!!l,n,!1):a!=null&&Ji(t,!!l,a,!0);return;case"textarea":xt("invalid",t),f=h=l=null;for(y in a)if(a.hasOwnProperty(y)&&(E=a[y],E!=null))switch(y){case"value":l=E;break;case"defaultValue":h=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(s(91));break;default:$t(t,n,y,E,a,null)}Wi(t,l,h,f);return;case"option":for(D in a)if(a.hasOwnProperty(D)&&(l=a[D],l!=null))switch(D){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:$t(t,n,D,l,a,null)}return;case"dialog":xt("beforetoggle",t),xt("toggle",t),xt("cancel",t),xt("close",t);break;case"iframe":case"object":xt("load",t);break;case"video":case"audio":for(l=0;l<Ul.length;l++)xt(Ul[l],t);break;case"image":xt("error",t),xt("load",t);break;case"details":xt("toggle",t);break;case"embed":case"source":case"link":xt("error",t),xt("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(B in a)if(a.hasOwnProperty(B)&&(l=a[B],l!=null))switch(B){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:$t(t,n,B,l,a,null)}return;default:if(Lr(n)){for(Y in a)a.hasOwnProperty(Y)&&(l=a[Y],l!==void 0&&Vf(t,n,Y,l,a,void 0));return}}for(E in a)a.hasOwnProperty(E)&&(l=a[E],l!=null&&$t(t,n,E,l,a,null))}function mT(t,n,a,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,y=null,E=null,D=null,B=null,Y=null;for(H in a){var Z=a[H];if(a.hasOwnProperty(H)&&Z!=null)switch(H){case"checked":break;case"value":break;case"defaultValue":D=Z;default:l.hasOwnProperty(H)||$t(t,n,H,null,l,Z)}}for(var j in l){var H=l[j];if(Z=a[j],l.hasOwnProperty(j)&&(H!=null||Z!=null))switch(j){case"type":f=H;break;case"name":h=H;break;case"checked":B=H;break;case"defaultChecked":Y=H;break;case"value":y=H;break;case"defaultValue":E=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(s(137,n));break;default:H!==Z&&$t(t,n,j,H,l,Z)}}Ur(t,y,E,D,B,Y,f,h);return;case"select":H=y=E=j=null;for(f in a)if(D=a[f],a.hasOwnProperty(f)&&D!=null)switch(f){case"value":break;case"multiple":H=D;default:l.hasOwnProperty(f)||$t(t,n,f,null,l,D)}for(h in l)if(f=l[h],D=a[h],l.hasOwnProperty(h)&&(f!=null||D!=null))switch(h){case"value":j=f;break;case"defaultValue":E=f;break;case"multiple":y=f;default:f!==D&&$t(t,n,h,f,l,D)}n=E,a=y,l=H,j!=null?Ji(t,!!a,j,!1):!!l!=!!a&&(n!=null?Ji(t,!!a,n,!0):Ji(t,!!a,a?[]:"",!1));return;case"textarea":H=j=null;for(E in a)if(h=a[E],a.hasOwnProperty(E)&&h!=null&&!l.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:$t(t,n,E,null,l,h)}for(y in l)if(h=l[y],f=a[y],l.hasOwnProperty(y)&&(h!=null||f!=null))switch(y){case"value":j=h;break;case"defaultValue":H=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==f&&$t(t,n,y,h,l,f)}Io(t,j,H);return;case"option":for(var ht in a)if(j=a[ht],a.hasOwnProperty(ht)&&j!=null&&!l.hasOwnProperty(ht))switch(ht){case"selected":t.selected=!1;break;default:$t(t,n,ht,null,l,j)}for(D in l)if(j=l[D],H=a[D],l.hasOwnProperty(D)&&j!==H&&(j!=null||H!=null))switch(D){case"selected":t.selected=j&&typeof j!="function"&&typeof j!="symbol";break;default:$t(t,n,D,j,l,H)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var yt in a)j=a[yt],a.hasOwnProperty(yt)&&j!=null&&!l.hasOwnProperty(yt)&&$t(t,n,yt,null,l,j);for(B in l)if(j=l[B],H=a[B],l.hasOwnProperty(B)&&j!==H&&(j!=null||H!=null))switch(B){case"children":case"dangerouslySetInnerHTML":if(j!=null)throw Error(s(137,n));break;default:$t(t,n,B,j,l,H)}return;default:if(Lr(n)){for(var Zt in a)j=a[Zt],a.hasOwnProperty(Zt)&&j!==void 0&&!l.hasOwnProperty(Zt)&&Vf(t,n,Zt,void 0,l,j);for(Y in l)j=l[Y],H=a[Y],!l.hasOwnProperty(Y)||j===H||j===void 0&&H===void 0||Vf(t,n,Y,j,l,H);return}}for(var O in a)j=a[O],a.hasOwnProperty(O)&&j!=null&&!l.hasOwnProperty(O)&&$t(t,n,O,null,l,j);for(Z in l)j=l[Z],H=a[Z],!l.hasOwnProperty(Z)||j===H||j==null&&H==null||$t(t,n,Z,j,l,H)}function fy(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function gT(){if(typeof performance.getEntriesByType=="function"){for(var t=0,n=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var h=a[l],f=h.transferSize,y=h.initiatorType,E=h.duration;if(f&&E&&fy(y)){for(y=0,E=h.responseEnd,l+=1;l<a.length;l++){var D=a[l],B=D.startTime;if(B>E)break;var Y=D.transferSize,Z=D.initiatorType;Y&&fy(Z)&&(D=D.responseEnd,y+=Y*(D<E?1:(E-B)/(D-B)))}if(--l,n+=8*(f+y)/(h.duration/1e3),t++,10<t)break}}if(0<t)return n/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var If=null,Mf=null;function Uu(t){return t.nodeType===9?t:t.ownerDocument}function dy(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function my(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function Of(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Uf=null;function pT(){var t=window.event;return t&&t.type==="popstate"?t===Uf?!1:(Uf=t,!0):(Uf=null,!1)}var gy=typeof setTimeout=="function"?setTimeout:void 0,yT=typeof clearTimeout=="function"?clearTimeout:void 0,py=typeof Promise=="function"?Promise:void 0,_T=typeof queueMicrotask=="function"?queueMicrotask:typeof py<"u"?function(t){return py.resolve(null).then(t).catch(vT)}:gy;function vT(t){setTimeout(function(){throw t})}function Sa(t){return t==="head"}function yy(t,n){var a=n,l=0;do{var h=a.nextSibling;if(t.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"||a==="/&"){if(l===0){t.removeChild(h),ys(n);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")zl(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,zl(a);for(var f=a.firstChild;f;){var y=f.nextSibling,E=f.nodeName;f[Wn]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&f.rel.toLowerCase()==="stylesheet"||a.removeChild(f),f=y}}else a==="body"&&zl(t.ownerDocument.body);a=h}while(a);ys(n)}function _y(t,n){var a=t;t=0;do{var l=a.nextSibling;if(a.nodeType===1?n?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(n?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=l}while(a)}function Lf(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var a=n;switch(n=n.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Lf(a),Mr(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function ET(t,n,a,l){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[Wn])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=Vn(t.nextSibling),t===null)break}return null}function TT(t,n,a){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Vn(t.nextSibling),t===null))return null;return t}function vy(t,n){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=Vn(t.nextSibling),t===null))return null;return t}function zf(t){return t.data==="$?"||t.data==="$~"}function Bf(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function ST(t,n){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=n;else if(t.data!=="$?"||a.readyState!=="loading")n();else{var l=function(){n(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Vn(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return t}var Pf=null;function Ey(t){t=t.nextSibling;for(var n=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(n===0)return Vn(t.nextSibling);n--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||n++}t=t.nextSibling}return null}function Ty(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(n===0)return t;n--}else a!=="/$"&&a!=="/&"||n++}t=t.previousSibling}return null}function Sy(t,n,a){switch(n=Uu(a),t){case"html":if(t=n.documentElement,!t)throw Error(s(452));return t;case"head":if(t=n.head,!t)throw Error(s(453));return t;case"body":if(t=n.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function zl(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);Mr(t)}var In=new Map,by=new Set;function Lu(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Hi=lt.d;lt.d={f:bT,r:AT,D:RT,C:wT,L:CT,m:DT,X:NT,S:xT,M:VT};function bT(){var t=Hi.f(),n=Cu();return t||n}function AT(t){var n=Tn(t);n!==null&&n.tag===5&&n.type==="form"?jg(n):Hi.r(t)}var ms=typeof document>"u"?null:document;function Ay(t,n,a){var l=ms;if(l&&typeof n=="string"&&n){var h=tn(n);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),by.has(h)||(by.add(h),t={rel:t,crossOrigin:a,href:n},l.querySelector(h)===null&&(n=l.createElement("link"),He(n,"link",t),ve(n),l.head.appendChild(n)))}}function RT(t){Hi.D(t),Ay("dns-prefetch",t,null)}function wT(t,n){Hi.C(t,n),Ay("preconnect",t,n)}function CT(t,n,a){Hi.L(t,n,a);var l=ms;if(l&&t&&n){var h='link[rel="preload"][as="'+tn(n)+'"]';n==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+tn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+tn(a.imageSizes)+'"]')):h+='[href="'+tn(t)+'"]';var f=h;switch(n){case"style":f=gs(t);break;case"script":f=ps(t)}In.has(f)||(t=b({rel:"preload",href:n==="image"&&a&&a.imageSrcSet?void 0:t,as:n},a),In.set(f,t),l.querySelector(h)!==null||n==="style"&&l.querySelector(Bl(f))||n==="script"&&l.querySelector(Pl(f))||(n=l.createElement("link"),He(n,"link",t),ve(n),l.head.appendChild(n)))}}function DT(t,n){Hi.m(t,n);var a=ms;if(a&&t){var l=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+tn(l)+'"][href="'+tn(t)+'"]',f=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=ps(t)}if(!In.has(f)&&(t=b({rel:"modulepreload",href:t},n),In.set(f,t),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Pl(f)))return}l=a.createElement("link"),He(l,"link",t),ve(l),a.head.appendChild(l)}}}function xT(t,n,a){Hi.S(t,n,a);var l=ms;if(l&&t){var h=ei(l).hoistableStyles,f=gs(t);n=n||"default";var y=h.get(f);if(!y){var E={loading:0,preload:null};if(y=l.querySelector(Bl(f)))E.loading=5;else{t=b({rel:"stylesheet",href:t,"data-precedence":n},a),(a=In.get(f))&&jf(t,a);var D=y=l.createElement("link");ve(D),He(D,"link",t),D._p=new Promise(function(B,Y){D.onload=B,D.onerror=Y}),D.addEventListener("load",function(){E.loading|=1}),D.addEventListener("error",function(){E.loading|=2}),E.loading|=4,zu(y,n,l)}y={type:"stylesheet",instance:y,count:1,state:E},h.set(f,y)}}}function NT(t,n){Hi.X(t,n);var a=ms;if(a&&t){var l=ei(a).hoistableScripts,h=ps(t),f=l.get(h);f||(f=a.querySelector(Pl(h)),f||(t=b({src:t,async:!0},n),(n=In.get(h))&&kf(t,n),f=a.createElement("script"),ve(f),He(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function VT(t,n){Hi.M(t,n);var a=ms;if(a&&t){var l=ei(a).hoistableScripts,h=ps(t),f=l.get(h);f||(f=a.querySelector(Pl(h)),f||(t=b({src:t,async:!0,type:"module"},n),(n=In.get(h))&&kf(t,n),f=a.createElement("script"),ve(f),He(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function Ry(t,n,a,l){var h=(h=wt.current)?Lu(h):null;if(!h)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(n=gs(a.href),a=ei(h).hoistableStyles,l=a.get(n),l||(l={type:"style",instance:null,count:0,state:null},a.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=gs(a.href);var f=ei(h).hoistableStyles,y=f.get(t);if(y||(h=h.ownerDocument||h,y={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,y),(f=h.querySelector(Bl(t)))&&!f._p&&(y.instance=f,y.state.loading=5),In.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},In.set(t,a),f||IT(h,t,a,y.state))),n&&l===null)throw Error(s(528,""));return y}if(n&&l!==null)throw Error(s(529,""));return null;case"script":return n=a.async,a=a.src,typeof a=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=ps(a),a=ei(h).hoistableScripts,l=a.get(n),l||(l={type:"script",instance:null,count:0,state:null},a.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function gs(t){return'href="'+tn(t)+'"'}function Bl(t){return'link[rel="stylesheet"]['+t+"]"}function wy(t){return b({},t,{"data-precedence":t.precedence,precedence:null})}function IT(t,n,a,l){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=t.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),He(n,"link",a),ve(n),t.head.appendChild(n))}function ps(t){return'[src="'+tn(t)+'"]'}function Pl(t){return"script[async]"+t}function Cy(t,n,a){if(n.count++,n.instance===null)switch(n.type){case"style":var l=t.querySelector('style[data-href~="'+tn(a.href)+'"]');if(l)return n.instance=l,ve(l),l;var h=b({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),ve(l),He(l,"style",h),zu(l,a.precedence,t),n.instance=l;case"stylesheet":h=gs(a.href);var f=t.querySelector(Bl(h));if(f)return n.state.loading|=4,n.instance=f,ve(f),f;l=wy(a),(h=In.get(h))&&jf(l,h),f=(t.ownerDocument||t).createElement("link"),ve(f);var y=f;return y._p=new Promise(function(E,D){y.onload=E,y.onerror=D}),He(f,"link",l),n.state.loading|=4,zu(f,a.precedence,t),n.instance=f;case"script":return f=ps(a.src),(h=t.querySelector(Pl(f)))?(n.instance=h,ve(h),h):(l=a,(h=In.get(f))&&(l=b({},a),kf(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),ve(h),He(h,"link",l),t.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(s(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,zu(l,a.precedence,t));return n.instance}function zu(t,n,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,f=h,y=0;y<l.length;y++){var E=l[y];if(E.dataset.precedence===n)f=E;else if(f!==h)break}f?f.parentNode.insertBefore(t,f.nextSibling):(n=a.nodeType===9?a.head:a,n.insertBefore(t,n.firstChild))}function jf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function kf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var Bu=null;function Dy(t,n,a){if(Bu===null){var l=new Map,h=Bu=new Map;h.set(a,l)}else h=Bu,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var f=a[h];if(!(f[Wn]||f[_e]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var y=f.getAttribute(n)||"";y=t+y;var E=l.get(y);E?E.push(f):l.set(y,[f])}}return l}function xy(t,n,a){t=t.ownerDocument||t,t.head.insertBefore(a,n==="title"?t.querySelector("head > title"):null)}function MT(t,n,a){if(a===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function Ny(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function OT(t,n,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=gs(l.href),f=n.querySelector(Bl(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(t.count++,t=Pu.bind(t),n.then(t,t)),a.state.loading|=4,a.instance=f,ve(f);return}f=n.ownerDocument||n,l=wy(l),(h=In.get(h))&&jf(l,h),f=f.createElement("link"),ve(f);var y=f;y._p=new Promise(function(E,D){y.onload=E,y.onerror=D}),He(f,"link",l),a.instance=f}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,n),(n=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=Pu.bind(t),n.addEventListener("load",a),n.addEventListener("error",a))}}var qf=0;function UT(t,n){return t.stylesheets&&t.count===0&&ku(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var l=setTimeout(function(){if(t.stylesheets&&ku(t,t.stylesheets),t.unsuspend){var f=t.unsuspend;t.unsuspend=null,f()}},6e4+n);0<t.imgBytes&&qf===0&&(qf=62500*gT());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&ku(t,t.stylesheets),t.unsuspend)){var f=t.unsuspend;t.unsuspend=null,f()}},(t.imgBytes>qf?50:800)+n);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(h)}}:null}function Pu(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)ku(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var ju=null;function ku(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,ju=new Map,n.forEach(LT,t),ju=null,Pu.call(t))}function LT(t,n){if(!(n.state.loading&4)){var a=ju.get(t);if(a)var l=a.get(null);else{a=new Map,ju.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var y=h[f];(y.nodeName==="LINK"||y.getAttribute("media")!=="not all")&&(a.set(y.dataset.precedence,y),l=y)}l&&a.set(null,l)}h=n.instance,y=h.getAttribute("data-precedence"),f=a.get(y)||l,f===l&&a.set(null,h),a.set(y,h),this.count++,l=Pu.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),f?f.parentNode.insertBefore(h,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),n.state.loading|=4}}var jl={$$typeof:st,Provider:null,Consumer:null,_currentValue:gt,_currentValue2:gt,_threadCount:0};function zT(t,n,a,l,h,f,y,E,D){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Zn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Zn(0),this.hiddenUpdates=Zn(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=y,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=D,this.incompleteTransitions=new Map}function Vy(t,n,a,l,h,f,y,E,D,B,Y,Z){return t=new zT(t,n,a,y,D,B,Y,Z,E),n=1,f===!0&&(n|=24),f=dn(3,null,null,n),t.current=f,f.stateNode=t,n=Eh(),n.refCount++,t.pooledCache=n,n.refCount++,f.memoizedState={element:l,isDehydrated:a,cache:n},Ah(f),t}function Iy(t){return t?(t=Yr,t):Yr}function My(t,n,a,l,h,f){h=Iy(h),l.context===null?l.context=h:l.pendingContext=h,l=ha(n),l.payload={element:a},f=f===void 0?null:f,f!==null&&(l.callback=f),a=fa(t,l,n),a!==null&&(ln(a,t,n),_l(a,t,n))}function Oy(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<n?a:n}}function Hf(t,n){Oy(t,n),(t=t.alternate)&&Oy(t,n)}function Uy(t){if(t.tag===13||t.tag===31){var n=lr(t,67108864);n!==null&&ln(n,t,67108864),Hf(t,67108864)}}function Ly(t){if(t.tag===13||t.tag===31){var n=_n();n=Xa(n);var a=lr(t,n);a!==null&&ln(a,t,n),Hf(t,n)}}var qu=!0;function BT(t,n,a,l){var h=X.T;X.T=null;var f=lt.p;try{lt.p=2,Gf(t,n,a,l)}finally{lt.p=f,X.T=h}}function PT(t,n,a,l){var h=X.T;X.T=null;var f=lt.p;try{lt.p=8,Gf(t,n,a,l)}finally{lt.p=f,X.T=h}}function Gf(t,n,a,l){if(qu){var h=Ff(l);if(h===null)Nf(t,n,l,Hu,a),By(t,l);else if(kT(h,t,n,a,l))l.stopPropagation();else if(By(t,l),n&4&&-1<jT.indexOf(t)){for(;h!==null;){var f=Tn(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var y=Xn(f.pendingLanes);if(y!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;y;){var D=1<<31-he(y);E.entanglements[1]|=D,y&=~D}mi(f),(qt&6)===0&&(Ru=Ze()+500,Ol(0))}}break;case 31:case 13:E=lr(f,2),E!==null&&ln(E,f,2),Cu(),Hf(f,2)}if(f=Ff(l),f===null&&Nf(t,n,l,Hu,a),f===h)break;h=f}h!==null&&l.stopPropagation()}else Nf(t,n,l,null,a)}}function Ff(t){return t=Sn(t),Qf(t)}var Hu=null;function Qf(t){if(Hu=null,t=ti(t),t!==null){var n=c(t);if(n===null)t=null;else{var a=n.tag;if(a===13){if(t=d(n),t!==null)return t;t=null}else if(a===31){if(t=g(n),t!==null)return t;t=null}else if(a===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return Hu=t,null}function zy(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Fa()){case Hs:return 2;case Gs:return 8;case $i:case Zc:return 32;case To:return 268435456;default:return 32}default:return 32}}var Yf=!1,ba=null,Aa=null,Ra=null,kl=new Map,ql=new Map,wa=[],jT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function By(t,n){switch(t){case"focusin":case"focusout":ba=null;break;case"dragenter":case"dragleave":Aa=null;break;case"mouseover":case"mouseout":Ra=null;break;case"pointerover":case"pointerout":kl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":ql.delete(n.pointerId)}}function Hl(t,n,a,l,h,f){return t===null||t.nativeEvent!==f?(t={blockedOn:n,domEventName:a,eventSystemFlags:l,nativeEvent:f,targetContainers:[h]},n!==null&&(n=Tn(n),n!==null&&Uy(n)),t):(t.eventSystemFlags|=l,n=t.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),t)}function kT(t,n,a,l,h){switch(n){case"focusin":return ba=Hl(ba,t,n,a,l,h),!0;case"dragenter":return Aa=Hl(Aa,t,n,a,l,h),!0;case"mouseover":return Ra=Hl(Ra,t,n,a,l,h),!0;case"pointerover":var f=h.pointerId;return kl.set(f,Hl(kl.get(f)||null,t,n,a,l,h)),!0;case"gotpointercapture":return f=h.pointerId,ql.set(f,Hl(ql.get(f)||null,t,n,a,l,h)),!0}return!1}function Py(t){var n=ti(t.target);if(n!==null){var a=c(n);if(a!==null){if(n=a.tag,n===13){if(n=d(a),n!==null){t.blockedOn=n,Ln(t.priority,function(){Ly(a)});return}}else if(n===31){if(n=g(a),n!==null){t.blockedOn=n,Ln(t.priority,function(){Ly(a)});return}}else if(n===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Gu(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var a=Ff(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);nl=l,a.target.dispatchEvent(l),nl=null}else return n=Tn(a),n!==null&&Uy(n),t.blockedOn=a,!1;n.shift()}return!0}function jy(t,n,a){Gu(t)&&a.delete(n)}function qT(){Yf=!1,ba!==null&&Gu(ba)&&(ba=null),Aa!==null&&Gu(Aa)&&(Aa=null),Ra!==null&&Gu(Ra)&&(Ra=null),kl.forEach(jy),ql.forEach(jy)}function Fu(t,n){t.blockedOn===n&&(t.blockedOn=null,Yf||(Yf=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,qT)))}var Qu=null;function ky(t){Qu!==t&&(Qu=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Qu===t&&(Qu=null);for(var n=0;n<t.length;n+=3){var a=t[n],l=t[n+1],h=t[n+2];if(typeof l!="function"){if(Qf(l||a)===null)continue;break}var f=Tn(a);f!==null&&(t.splice(n,3),n-=3,Gh(f,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function ys(t){function n(D){return Fu(D,t)}ba!==null&&Fu(ba,t),Aa!==null&&Fu(Aa,t),Ra!==null&&Fu(Ra,t),kl.forEach(n),ql.forEach(n);for(var a=0;a<wa.length;a++){var l=wa[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<wa.length&&(a=wa[0],a.blockedOn===null);)Py(a),a.blockedOn===null&&wa.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],f=a[l+1],y=h[Me]||null;if(typeof f=="function")y||ky(a);else if(y){var E=null;if(f&&f.hasAttribute("formAction")){if(h=f,y=f[Me]||null)E=y.formAction;else if(Qf(h)!==null)continue}else E=y.action;typeof E=="function"?a[l+1]=E:(a.splice(l,3),l-=3),ky(a)}}}function qy(){function t(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(y){return h=y})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function Kf(t){this._internalRoot=t}Yu.prototype.render=Kf.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(s(409));var a=n.current,l=_n();My(a,l,t,n,null,null)},Yu.prototype.unmount=Kf.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;My(t.current,2,null,t,null,null),Cu(),n[Jn]=null}};function Yu(t){this._internalRoot=t}Yu.prototype.unstable_scheduleHydration=function(t){if(t){var n=Co();t={blockedOn:null,target:t,priority:n};for(var a=0;a<wa.length&&n!==0&&n<wa[a].priority;a++);wa.splice(a,0,t),a===0&&Py(t)}};var Hy=e.version;if(Hy!=="19.2.0")throw Error(s(527,Hy,"19.2.0"));lt.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=p(n),t=t!==null?T(t):null,t=t===null?null:t.stateNode,t};var HT={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:X,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ku=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ku.isDisabled&&Ku.supportsFiber)try{On=Ku.inject(HT),Be=Ku}catch{}}return Fl.createRoot=function(t,n){if(!o(t))throw Error(s(299));var a=!1,l="",h=$g,f=Zg,y=Jg;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(y=n.onRecoverableError)),n=Vy(t,1,!1,null,null,a,l,null,h,f,y,qy),t[Jn]=n.current,xf(t),new Kf(n)},Fl.hydrateRoot=function(t,n,a){if(!o(t))throw Error(s(299));var l=!1,h="",f=$g,y=Zg,E=Jg,D=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(y=a.onCaughtError),a.onRecoverableError!==void 0&&(E=a.onRecoverableError),a.formState!==void 0&&(D=a.formState)),n=Vy(t,1,!0,n,a??null,l,h,D,f,y,E,qy),n.context=Iy(null),a=n.current,l=_n(),l=Xa(l),h=ha(l),h.callback=null,fa(a,h,l),a=l,n.current.lanes=a,Ya(n,a),mi(n),t[Jn]=n.current,xf(t),new Yu(n)},Fl.version="19.2.0",Fl}var Wy;function WT(){if(Wy)return Zf.exports;Wy=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Zf.exports=JT(),Zf.exports}var t1=WT();/**
 * react-router v7.9.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var t_="popstate";function e1(r={}){function e(s,o){let{pathname:c,search:d,hash:g}=s.location;return fd("",{pathname:c,search:d,hash:g},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function i(s,o){return typeof o=="string"?o:eo(o)}return i1(e,i,null,r)}function le(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function Ei(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function n1(){return Math.random().toString(36).substring(2,10)}function e_(r,e){return{usr:r.state,key:r.key,idx:e}}function fd(r,e,i=null,s){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?Ms(e):e,state:i,key:e&&e.key||s||n1()}}function eo({pathname:r="/",search:e="",hash:i=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),i&&i!=="#"&&(r+=i.charAt(0)==="#"?i:"#"+i),r}function Ms(r){let e={};if(r){let i=r.indexOf("#");i>=0&&(e.hash=r.substring(i),r=r.substring(0,i));let s=r.indexOf("?");s>=0&&(e.search=r.substring(s),r=r.substring(0,s)),r&&(e.pathname=r)}return e}function i1(r,e,i,s={}){let{window:o=document.defaultView,v5Compat:c=!1}=s,d=o.history,g="POP",_=null,p=T();p==null&&(p=0,d.replaceState({...d.state,idx:p},""));function T(){return(d.state||{idx:null}).idx}function b(){g="POP";let k=T(),et=k==null?null:k-p;p=k,_&&_({action:g,location:F.location,delta:et})}function x(k,et){g="PUSH";let nt=fd(F.location,k,et);p=T()+1;let st=e_(nt,p),at=F.createHref(nt);try{d.pushState(st,"",at)}catch(vt){if(vt instanceof DOMException&&vt.name==="DataCloneError")throw vt;o.location.assign(at)}c&&_&&_({action:g,location:F.location,delta:1})}function P(k,et){g="REPLACE";let nt=fd(F.location,k,et);p=T();let st=e_(nt,p),at=F.createHref(nt);d.replaceState(st,"",at),c&&_&&_({action:g,location:F.location,delta:0})}function K(k){return a1(k)}let F={get action(){return g},get location(){return r(o,d)},listen(k){if(_)throw new Error("A history only accepts one active listener");return o.addEventListener(t_,b),_=k,()=>{o.removeEventListener(t_,b),_=null}},createHref(k){return e(o,k)},createURL:K,encodeLocation(k){let et=K(k);return{pathname:et.pathname,search:et.search,hash:et.hash}},push:x,replace:P,go(k){return d.go(k)}};return F}function a1(r,e=!1){let i="http://localhost";typeof window<"u"&&(i=window.location.origin!=="null"?window.location.origin:window.location.href),le(i,"No window.location.(origin|href) available to create URL");let s=typeof r=="string"?r:eo(r);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=i+s),new URL(s,i)}function pv(r,e,i="/"){return r1(r,e,i,!1)}function r1(r,e,i,s){let o=typeof e=="string"?Ms(e):e,c=Fi(o.pathname||"/",i);if(c==null)return null;let d=yv(r);s1(d);let g=null;for(let _=0;g==null&&_<d.length;++_){let p=y1(c);g=g1(d[_],p,s)}return g}function yv(r,e=[],i=[],s="",o=!1){let c=(d,g,_=o,p)=>{let T={relativePath:p===void 0?d.path||"":p,caseSensitive:d.caseSensitive===!0,childrenIndex:g,route:d};if(T.relativePath.startsWith("/")){if(!T.relativePath.startsWith(s)&&_)return;le(T.relativePath.startsWith(s),`Absolute route path "${T.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),T.relativePath=T.relativePath.slice(s.length)}let b=Gi([s,T.relativePath]),x=i.concat(T);d.children&&d.children.length>0&&(le(d.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${b}".`),yv(d.children,e,x,b,_)),!(d.path==null&&!d.index)&&e.push({path:b,score:d1(b,d.index),routesMeta:x})};return r.forEach((d,g)=>{if(d.path===""||!d.path?.includes("?"))c(d,g);else for(let _ of _v(d.path))c(d,g,!0,_)}),e}function _v(r){let e=r.split("/");if(e.length===0)return[];let[i,...s]=e,o=i.endsWith("?"),c=i.replace(/\?$/,"");if(s.length===0)return o?[c,""]:[c];let d=_v(s.join("/")),g=[];return g.push(...d.map(_=>_===""?c:[c,_].join("/"))),o&&g.push(...d),g.map(_=>r.startsWith("/")&&_===""?"/":_)}function s1(r){r.sort((e,i)=>e.score!==i.score?i.score-e.score:m1(e.routesMeta.map(s=>s.childrenIndex),i.routesMeta.map(s=>s.childrenIndex)))}var l1=/^:[\w-]+$/,o1=3,u1=2,c1=1,h1=10,f1=-2,n_=r=>r==="*";function d1(r,e){let i=r.split("/"),s=i.length;return i.some(n_)&&(s+=f1),e&&(s+=u1),i.filter(o=>!n_(o)).reduce((o,c)=>o+(l1.test(c)?o1:c===""?c1:h1),s)}function m1(r,e){return r.length===e.length&&r.slice(0,-1).every((s,o)=>s===e[o])?r[r.length-1]-e[e.length-1]:0}function g1(r,e,i=!1){let{routesMeta:s}=r,o={},c="/",d=[];for(let g=0;g<s.length;++g){let _=s[g],p=g===s.length-1,T=c==="/"?e:e.slice(c.length)||"/",b=dc({path:_.relativePath,caseSensitive:_.caseSensitive,end:p},T),x=_.route;if(!b&&p&&i&&!s[s.length-1].route.index&&(b=dc({path:_.relativePath,caseSensitive:_.caseSensitive,end:!1},T)),!b)return null;Object.assign(o,b.params),d.push({params:o,pathname:Gi([c,b.pathname]),pathnameBase:T1(Gi([c,b.pathnameBase])),route:x}),b.pathnameBase!=="/"&&(c=Gi([c,b.pathnameBase]))}return d}function dc(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[i,s]=p1(r.path,r.caseSensitive,r.end),o=e.match(i);if(!o)return null;let c=o[0],d=c.replace(/(.)\/+$/,"$1"),g=o.slice(1);return{params:s.reduce((p,{paramName:T,isOptional:b},x)=>{if(T==="*"){let K=g[x]||"";d=c.slice(0,c.length-K.length).replace(/(.)\/+$/,"$1")}const P=g[x];return b&&!P?p[T]=void 0:p[T]=(P||"").replace(/%2F/g,"/"),p},{}),pathname:c,pathnameBase:d,pattern:r}}function p1(r,e=!1,i=!0){Ei(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let s=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(d,g,_)=>(s.push({paramName:g,isOptional:_!=null}),_?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return r.endsWith("*")?(s.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):i?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function y1(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Ei(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function Fi(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let i=e.endsWith("/")?e.length-1:e.length,s=r.charAt(i);return s&&s!=="/"?null:r.slice(i)||"/"}function _1(r,e="/"){let{pathname:i,search:s="",hash:o=""}=typeof r=="string"?Ms(r):r;return{pathname:i?i.startsWith("/")?i:v1(i,e):e,search:S1(s),hash:b1(o)}}function v1(r,e){let i=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?i.length>1&&i.pop():o!=="."&&i.push(o)}),i.length>1?i.join("/"):"/"}function ed(r,e,i,s){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${i}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function E1(r){return r.filter((e,i)=>i===0||e.route.path&&e.route.path.length>0)}function vv(r){let e=E1(r);return e.map((i,s)=>s===e.length-1?i.pathname:i.pathnameBase)}function Ev(r,e,i,s=!1){let o;typeof r=="string"?o=Ms(r):(o={...r},le(!o.pathname||!o.pathname.includes("?"),ed("?","pathname","search",o)),le(!o.pathname||!o.pathname.includes("#"),ed("#","pathname","hash",o)),le(!o.search||!o.search.includes("#"),ed("#","search","hash",o)));let c=r===""||o.pathname==="",d=c?"/":o.pathname,g;if(d==null)g=i;else{let b=e.length-1;if(!s&&d.startsWith("..")){let x=d.split("/");for(;x[0]==="..";)x.shift(),b-=1;o.pathname=x.join("/")}g=b>=0?e[b]:"/"}let _=_1(o,g),p=d&&d!=="/"&&d.endsWith("/"),T=(c||d===".")&&i.endsWith("/");return!_.pathname.endsWith("/")&&(p||T)&&(_.pathname+="/"),_}var Gi=r=>r.join("/").replace(/\/\/+/g,"/"),T1=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),S1=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,b1=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function A1(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}var Tv=["POST","PUT","PATCH","DELETE"];new Set(Tv);var R1=["GET",...Tv];new Set(R1);var Os=G.createContext(null);Os.displayName="DataRouter";var Nc=G.createContext(null);Nc.displayName="DataRouterState";G.createContext(!1);var Sv=G.createContext({isTransitioning:!1});Sv.displayName="ViewTransition";var w1=G.createContext(new Map);w1.displayName="Fetchers";var C1=G.createContext(null);C1.displayName="Await";var bi=G.createContext(null);bi.displayName="Navigation";var co=G.createContext(null);co.displayName="Location";var Ai=G.createContext({outlet:null,matches:[],isDataRoute:!1});Ai.displayName="Route";var Pd=G.createContext(null);Pd.displayName="RouteError";function D1(r,{relative:e}={}){le(ho(),"useHref() may be used only in the context of a <Router> component.");let{basename:i,navigator:s}=G.useContext(bi),{hash:o,pathname:c,search:d}=fo(r,{relative:e}),g=c;return i!=="/"&&(g=c==="/"?i:Gi([i,c])),s.createHref({pathname:g,search:d,hash:o})}function ho(){return G.useContext(co)!=null}function Rr(){return le(ho(),"useLocation() may be used only in the context of a <Router> component."),G.useContext(co).location}var bv="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Av(r){G.useContext(bi).static||G.useLayoutEffect(r)}function Vc(){let{isDataRoute:r}=G.useContext(Ai);return r?q1():x1()}function x1(){le(ho(),"useNavigate() may be used only in the context of a <Router> component.");let r=G.useContext(Os),{basename:e,navigator:i}=G.useContext(bi),{matches:s}=G.useContext(Ai),{pathname:o}=Rr(),c=JSON.stringify(vv(s)),d=G.useRef(!1);return Av(()=>{d.current=!0}),G.useCallback((_,p={})=>{if(Ei(d.current,bv),!d.current)return;if(typeof _=="number"){i.go(_);return}let T=Ev(_,JSON.parse(c),o,p.relative==="path");r==null&&e!=="/"&&(T.pathname=T.pathname==="/"?e:Gi([e,T.pathname])),(p.replace?i.replace:i.push)(T,p.state,p)},[e,i,c,o,r])}G.createContext(null);function N1(){let{matches:r}=G.useContext(Ai),e=r[r.length-1];return e?e.params:{}}function fo(r,{relative:e}={}){let{matches:i}=G.useContext(Ai),{pathname:s}=Rr(),o=JSON.stringify(vv(i));return G.useMemo(()=>Ev(r,JSON.parse(o),s,e==="path"),[r,o,s,e])}function V1(r,e){return Rv(r,e)}function Rv(r,e,i,s,o){le(ho(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:c}=G.useContext(bi),{matches:d}=G.useContext(Ai),g=d[d.length-1],_=g?g.params:{},p=g?g.pathname:"/",T=g?g.pathnameBase:"/",b=g&&g.route;{let nt=b&&b.path||"";wv(p,!b||nt.endsWith("*")||nt.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${nt}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${nt}"> to <Route path="${nt==="/"?"*":`${nt}/*`}">.`)}let x=Rr(),P;if(e){let nt=typeof e=="string"?Ms(e):e;le(T==="/"||nt.pathname?.startsWith(T),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${T}" but pathname "${nt.pathname}" was given in the \`location\` prop.`),P=nt}else P=x;let K=P.pathname||"/",F=K;if(T!=="/"){let nt=T.replace(/^\//,"").split("/");F="/"+K.replace(/^\//,"").split("/").slice(nt.length).join("/")}let k=pv(r,{pathname:F});Ei(b||k!=null,`No routes matched location "${P.pathname}${P.search}${P.hash}" `),Ei(k==null||k[k.length-1].route.element!==void 0||k[k.length-1].route.Component!==void 0||k[k.length-1].route.lazy!==void 0,`Matched leaf route at location "${P.pathname}${P.search}${P.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let et=L1(k&&k.map(nt=>Object.assign({},nt,{params:Object.assign({},_,nt.params),pathname:Gi([T,c.encodeLocation?c.encodeLocation(nt.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:nt.pathname]),pathnameBase:nt.pathnameBase==="/"?T:Gi([T,c.encodeLocation?c.encodeLocation(nt.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:nt.pathnameBase])})),d,i,s,o);return e&&et?G.createElement(co.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...P},navigationType:"POP"}},et):et}function I1(){let r=k1(),e=A1(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),i=r instanceof Error?r.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},c={padding:"2px 4px",backgroundColor:s},d=null;return console.error("Error handled by React Router default ErrorBoundary:",r),d=G.createElement(G.Fragment,null,G.createElement("p",null,"💿 Hey developer 👋"),G.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",G.createElement("code",{style:c},"ErrorBoundary")," or"," ",G.createElement("code",{style:c},"errorElement")," prop on your route.")),G.createElement(G.Fragment,null,G.createElement("h2",null,"Unexpected Application Error!"),G.createElement("h3",{style:{fontStyle:"italic"}},e),i?G.createElement("pre",{style:o},i):null,d)}var M1=G.createElement(I1,null),O1=class extends G.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){this.props.unstable_onError?this.props.unstable_onError(r,e):console.error("React Router caught the following error during render",r)}render(){return this.state.error!==void 0?G.createElement(Ai.Provider,{value:this.props.routeContext},G.createElement(Pd.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function U1({routeContext:r,match:e,children:i}){let s=G.useContext(Os);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),G.createElement(Ai.Provider,{value:r},i)}function L1(r,e=[],i=null,s=null,o=null){if(r==null){if(!i)return null;if(i.errors)r=i.matches;else if(e.length===0&&!i.initialized&&i.matches.length>0)r=i.matches;else return null}let c=r,d=i?.errors;if(d!=null){let p=c.findIndex(T=>T.route.id&&d?.[T.route.id]!==void 0);le(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(d).join(",")}`),c=c.slice(0,Math.min(c.length,p+1))}let g=!1,_=-1;if(i)for(let p=0;p<c.length;p++){let T=c[p];if((T.route.HydrateFallback||T.route.hydrateFallbackElement)&&(_=p),T.route.id){let{loaderData:b,errors:x}=i,P=T.route.loader&&!b.hasOwnProperty(T.route.id)&&(!x||x[T.route.id]===void 0);if(T.route.lazy||P){g=!0,_>=0?c=c.slice(0,_+1):c=[c[0]];break}}}return c.reduceRight((p,T,b)=>{let x,P=!1,K=null,F=null;i&&(x=d&&T.route.id?d[T.route.id]:void 0,K=T.route.errorElement||M1,g&&(_<0&&b===0?(wv("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),P=!0,F=null):_===b&&(P=!0,F=T.route.hydrateFallbackElement||null)));let k=e.concat(c.slice(0,b+1)),et=()=>{let nt;return x?nt=K:P?nt=F:T.route.Component?nt=G.createElement(T.route.Component,null):T.route.element?nt=T.route.element:nt=p,G.createElement(U1,{match:T,routeContext:{outlet:p,matches:k,isDataRoute:i!=null},children:nt})};return i&&(T.route.ErrorBoundary||T.route.errorElement||b===0)?G.createElement(O1,{location:i.location,revalidation:i.revalidation,component:K,error:x,children:et(),routeContext:{outlet:null,matches:k,isDataRoute:!0},unstable_onError:s}):et()},null)}function jd(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function z1(r){let e=G.useContext(Os);return le(e,jd(r)),e}function B1(r){let e=G.useContext(Nc);return le(e,jd(r)),e}function P1(r){let e=G.useContext(Ai);return le(e,jd(r)),e}function kd(r){let e=P1(r),i=e.matches[e.matches.length-1];return le(i.route.id,`${r} can only be used on routes that contain a unique "id"`),i.route.id}function j1(){return kd("useRouteId")}function k1(){let r=G.useContext(Pd),e=B1("useRouteError"),i=kd("useRouteError");return r!==void 0?r:e.errors?.[i]}function q1(){let{router:r}=z1("useNavigate"),e=kd("useNavigate"),i=G.useRef(!1);return Av(()=>{i.current=!0}),G.useCallback(async(o,c={})=>{Ei(i.current,bv),i.current&&(typeof o=="number"?r.navigate(o):await r.navigate(o,{fromRouteId:e,...c}))},[r,e])}var i_={};function wv(r,e,i){!e&&!i_[r]&&(i_[r]=!0,Ei(!1,i))}G.memo(H1);function H1({routes:r,future:e,state:i,unstable_onError:s}){return Rv(r,void 0,i,s,e)}function ac(r){le(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function G1({basename:r="/",children:e=null,location:i,navigationType:s="POP",navigator:o,static:c=!1}){le(!ho(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let d=r.replace(/^\/*/,"/"),g=G.useMemo(()=>({basename:d,navigator:o,static:c,future:{}}),[d,o,c]);typeof i=="string"&&(i=Ms(i));let{pathname:_="/",search:p="",hash:T="",state:b=null,key:x="default"}=i,P=G.useMemo(()=>{let K=Fi(_,d);return K==null?null:{location:{pathname:K,search:p,hash:T,state:b,key:x},navigationType:s}},[d,_,p,T,b,x,s]);return Ei(P!=null,`<Router basename="${d}"> is not able to match the URL "${_}${p}${T}" because it does not start with the basename, so the <Router> won't render anything.`),P==null?null:G.createElement(bi.Provider,{value:g},G.createElement(co.Provider,{children:e,value:P}))}function F1({children:r,location:e}){return V1(dd(r),e)}function dd(r,e=[]){let i=[];return G.Children.forEach(r,(s,o)=>{if(!G.isValidElement(s))return;let c=[...e,o];if(s.type===G.Fragment){i.push.apply(i,dd(s.props.children,c));return}le(s.type===ac,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),le(!s.props.index||!s.props.children,"An index route cannot have child routes.");let d={id:s.props.id||c.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(d.children=dd(s.props.children,c)),i.push(d)}),i}var rc="get",sc="application/x-www-form-urlencoded";function Ic(r){return r!=null&&typeof r.tagName=="string"}function Q1(r){return Ic(r)&&r.tagName.toLowerCase()==="button"}function Y1(r){return Ic(r)&&r.tagName.toLowerCase()==="form"}function K1(r){return Ic(r)&&r.tagName.toLowerCase()==="input"}function X1(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function $1(r,e){return r.button===0&&(!e||e==="_self")&&!X1(r)}var Xu=null;function Z1(){if(Xu===null)try{new FormData(document.createElement("form"),0),Xu=!1}catch{Xu=!0}return Xu}var J1=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function nd(r){return r!=null&&!J1.has(r)?(Ei(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${sc}"`),null):r}function W1(r,e){let i,s,o,c,d;if(Y1(r)){let g=r.getAttribute("action");s=g?Fi(g,e):null,i=r.getAttribute("method")||rc,o=nd(r.getAttribute("enctype"))||sc,c=new FormData(r)}else if(Q1(r)||K1(r)&&(r.type==="submit"||r.type==="image")){let g=r.form;if(g==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let _=r.getAttribute("formaction")||g.getAttribute("action");if(s=_?Fi(_,e):null,i=r.getAttribute("formmethod")||g.getAttribute("method")||rc,o=nd(r.getAttribute("formenctype"))||nd(g.getAttribute("enctype"))||sc,c=new FormData(g,r),!Z1()){let{name:p,type:T,value:b}=r;if(T==="image"){let x=p?`${p}.`:"";c.append(`${x}x`,"0"),c.append(`${x}y`,"0")}else p&&c.append(p,b)}}else{if(Ic(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');i=rc,s=null,o=sc,d=r}return c&&o==="text/plain"&&(d=c,c=void 0),{action:s,method:i.toLowerCase(),encType:o,formData:c,body:d}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function qd(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function tS(r,e,i){let s=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return s.pathname==="/"?s.pathname=`_root.${i}`:e&&Fi(s.pathname,e)==="/"?s.pathname=`${e.replace(/\/$/,"")}/_root.${i}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${i}`,s}async function eS(r,e){if(r.id in e)return e[r.id];try{let i=await import(r.module);return e[r.id]=i,i}catch(i){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(i),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function nS(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function iS(r,e,i){let s=await Promise.all(r.map(async o=>{let c=e.routes[o.route.id];if(c){let d=await eS(c,i);return d.links?d.links():[]}return[]}));return lS(s.flat(1).filter(nS).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function a_(r,e,i,s,o,c){let d=(_,p)=>i[p]?_.route.id!==i[p].route.id:!0,g=(_,p)=>i[p].pathname!==_.pathname||i[p].route.path?.endsWith("*")&&i[p].params["*"]!==_.params["*"];return c==="assets"?e.filter((_,p)=>d(_,p)||g(_,p)):c==="data"?e.filter((_,p)=>{let T=s.routes[_.route.id];if(!T||!T.hasLoader)return!1;if(d(_,p)||g(_,p))return!0;if(_.route.shouldRevalidate){let b=_.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:i[0]?.params||{},nextUrl:new URL(r,window.origin),nextParams:_.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function aS(r,e,{includeHydrateFallback:i}={}){return rS(r.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let c=[o.module];return o.clientActionModule&&(c=c.concat(o.clientActionModule)),o.clientLoaderModule&&(c=c.concat(o.clientLoaderModule)),i&&o.hydrateFallbackModule&&(c=c.concat(o.hydrateFallbackModule)),o.imports&&(c=c.concat(o.imports)),c}).flat(1))}function rS(r){return[...new Set(r)]}function sS(r){let e={},i=Object.keys(r).sort();for(let s of i)e[s]=r[s];return e}function lS(r,e){let i=new Set;return new Set(e),r.reduce((s,o)=>{let c=JSON.stringify(sS(o));return i.has(c)||(i.add(c),s.push({key:c,link:o})),s},[])}function Cv(){let r=G.useContext(Os);return qd(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function oS(){let r=G.useContext(Nc);return qd(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var Hd=G.createContext(void 0);Hd.displayName="FrameworkContext";function Dv(){let r=G.useContext(Hd);return qd(r,"You must render this element inside a <HydratedRouter> element"),r}function uS(r,e){let i=G.useContext(Hd),[s,o]=G.useState(!1),[c,d]=G.useState(!1),{onFocus:g,onBlur:_,onMouseEnter:p,onMouseLeave:T,onTouchStart:b}=e,x=G.useRef(null);G.useEffect(()=>{if(r==="render"&&d(!0),r==="viewport"){let F=et=>{et.forEach(nt=>{d(nt.isIntersecting)})},k=new IntersectionObserver(F,{threshold:.5});return x.current&&k.observe(x.current),()=>{k.disconnect()}}},[r]),G.useEffect(()=>{if(s){let F=setTimeout(()=>{d(!0)},100);return()=>{clearTimeout(F)}}},[s]);let P=()=>{o(!0)},K=()=>{o(!1),d(!1)};return i?r!=="intent"?[c,x,{}]:[c,x,{onFocus:Ql(g,P),onBlur:Ql(_,K),onMouseEnter:Ql(p,P),onMouseLeave:Ql(T,K),onTouchStart:Ql(b,P)}]:[!1,x,{}]}function Ql(r,e){return i=>{r&&r(i),i.defaultPrevented||e(i)}}function cS({page:r,...e}){let{router:i}=Cv(),s=G.useMemo(()=>pv(i.routes,r,i.basename),[i.routes,r,i.basename]);return s?G.createElement(fS,{page:r,matches:s,...e}):null}function hS(r){let{manifest:e,routeModules:i}=Dv(),[s,o]=G.useState([]);return G.useEffect(()=>{let c=!1;return iS(r,e,i).then(d=>{c||o(d)}),()=>{c=!0}},[r,e,i]),s}function fS({page:r,matches:e,...i}){let s=Rr(),{manifest:o,routeModules:c}=Dv(),{basename:d}=Cv(),{loaderData:g,matches:_}=oS(),p=G.useMemo(()=>a_(r,e,_,o,s,"data"),[r,e,_,o,s]),T=G.useMemo(()=>a_(r,e,_,o,s,"assets"),[r,e,_,o,s]),b=G.useMemo(()=>{if(r===s.pathname+s.search+s.hash)return[];let K=new Set,F=!1;if(e.forEach(et=>{let nt=o.routes[et.route.id];!nt||!nt.hasLoader||(!p.some(st=>st.route.id===et.route.id)&&et.route.id in g&&c[et.route.id]?.shouldRevalidate||nt.hasClientLoader?F=!0:K.add(et.route.id))}),K.size===0)return[];let k=tS(r,d,"data");return F&&K.size>0&&k.searchParams.set("_routes",e.filter(et=>K.has(et.route.id)).map(et=>et.route.id).join(",")),[k.pathname+k.search]},[d,g,s,o,p,e,r,c]),x=G.useMemo(()=>aS(T,o),[T,o]),P=hS(T);return G.createElement(G.Fragment,null,b.map(K=>G.createElement("link",{key:K,rel:"prefetch",as:"fetch",href:K,...i})),x.map(K=>G.createElement("link",{key:K,rel:"modulepreload",href:K,...i})),P.map(({key:K,link:F})=>G.createElement("link",{key:K,nonce:i.nonce,...F})))}function dS(...r){return e=>{r.forEach(i=>{typeof i=="function"?i(e):i!=null&&(i.current=e)})}}var xv=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{xv&&(window.__reactRouterVersion="7.9.3")}catch{}function mS({basename:r,children:e,window:i}){let s=G.useRef();s.current==null&&(s.current=e1({window:i,v5Compat:!0}));let o=s.current,[c,d]=G.useState({action:o.action,location:o.location}),g=G.useCallback(_=>{G.startTransition(()=>d(_))},[d]);return G.useLayoutEffect(()=>o.listen(g),[o,g]),G.createElement(G1,{basename:r,children:e,location:c.location,navigationType:c.action,navigator:o})}var Nv=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ss=G.forwardRef(function({onClick:e,discover:i="render",prefetch:s="none",relative:o,reloadDocument:c,replace:d,state:g,target:_,to:p,preventScrollReset:T,viewTransition:b,...x},P){let{basename:K}=G.useContext(bi),F=typeof p=="string"&&Nv.test(p),k,et=!1;if(typeof p=="string"&&F&&(k=p,xv))try{let w=new URL(window.location.href),M=p.startsWith("//")?new URL(w.protocol+p):new URL(p),N=Fi(M.pathname,K);M.origin===w.origin&&N!=null?p=N+M.search+M.hash:et=!0}catch{Ei(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let nt=D1(p,{relative:o}),[st,at,vt]=uS(s,x),it=_S(p,{replace:d,state:g,target:_,preventScrollReset:T,relative:o,viewTransition:b});function R(w){e&&e(w),w.defaultPrevented||it(w)}let A=G.createElement("a",{...x,...vt,href:k||nt,onClick:et||c?e:R,ref:dS(P,at),target:_,"data-discover":!F&&i==="render"?"true":void 0});return st&&!F?G.createElement(G.Fragment,null,A,G.createElement(cS,{page:nt})):A});Ss.displayName="Link";var gS=G.forwardRef(function({"aria-current":e="page",caseSensitive:i=!1,className:s="",end:o=!1,style:c,to:d,viewTransition:g,children:_,...p},T){let b=fo(d,{relative:p.relative}),x=Rr(),P=G.useContext(Nc),{navigator:K,basename:F}=G.useContext(bi),k=P!=null&&bS(b)&&g===!0,et=K.encodeLocation?K.encodeLocation(b).pathname:b.pathname,nt=x.pathname,st=P&&P.navigation&&P.navigation.location?P.navigation.location.pathname:null;i||(nt=nt.toLowerCase(),st=st?st.toLowerCase():null,et=et.toLowerCase()),st&&F&&(st=Fi(st,F)||st);const at=et!=="/"&&et.endsWith("/")?et.length-1:et.length;let vt=nt===et||!o&&nt.startsWith(et)&&nt.charAt(at)==="/",it=st!=null&&(st===et||!o&&st.startsWith(et)&&st.charAt(et.length)==="/"),R={isActive:vt,isPending:it,isTransitioning:k},A=vt?e:void 0,w;typeof s=="function"?w=s(R):w=[s,vt?"active":null,it?"pending":null,k?"transitioning":null].filter(Boolean).join(" ");let M=typeof c=="function"?c(R):c;return G.createElement(Ss,{...p,"aria-current":A,className:w,ref:T,style:M,to:d,viewTransition:g},typeof _=="function"?_(R):_)});gS.displayName="NavLink";var pS=G.forwardRef(({discover:r="render",fetcherKey:e,navigate:i,reloadDocument:s,replace:o,state:c,method:d=rc,action:g,onSubmit:_,relative:p,preventScrollReset:T,viewTransition:b,...x},P)=>{let K=TS(),F=SS(g,{relative:p}),k=d.toLowerCase()==="get"?"get":"post",et=typeof g=="string"&&Nv.test(g),nt=st=>{if(_&&_(st),st.defaultPrevented)return;st.preventDefault();let at=st.nativeEvent.submitter,vt=at?.getAttribute("formmethod")||d;K(at||st.currentTarget,{fetcherKey:e,method:vt,navigate:i,replace:o,state:c,relative:p,preventScrollReset:T,viewTransition:b})};return G.createElement("form",{ref:P,method:k,action:F,onSubmit:s?_:nt,...x,"data-discover":!et&&r==="render"?"true":void 0})});pS.displayName="Form";function yS(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Vv(r){let e=G.useContext(Os);return le(e,yS(r)),e}function _S(r,{target:e,replace:i,state:s,preventScrollReset:o,relative:c,viewTransition:d}={}){let g=Vc(),_=Rr(),p=fo(r,{relative:c});return G.useCallback(T=>{if($1(T,e)){T.preventDefault();let b=i!==void 0?i:eo(_)===eo(p);g(r,{replace:b,state:s,preventScrollReset:o,relative:c,viewTransition:d})}},[_,g,p,i,s,e,r,o,c,d])}var vS=0,ES=()=>`__${String(++vS)}__`;function TS(){let{router:r}=Vv("useSubmit"),{basename:e}=G.useContext(bi),i=j1();return G.useCallback(async(s,o={})=>{let{action:c,method:d,encType:g,formData:_,body:p}=W1(s,e);if(o.navigate===!1){let T=o.fetcherKey||ES();await r.fetch(T,i,o.action||c,{preventScrollReset:o.preventScrollReset,formData:_,body:p,formMethod:o.method||d,formEncType:o.encType||g,flushSync:o.flushSync})}else await r.navigate(o.action||c,{preventScrollReset:o.preventScrollReset,formData:_,body:p,formMethod:o.method||d,formEncType:o.encType||g,replace:o.replace,state:o.state,fromRouteId:i,flushSync:o.flushSync,viewTransition:o.viewTransition})},[r,e,i])}function SS(r,{relative:e}={}){let{basename:i}=G.useContext(bi),s=G.useContext(Ai);le(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),c={...fo(r||".",{relative:e})},d=Rr();if(r==null){c.search=d.search;let g=new URLSearchParams(c.search),_=g.getAll("index");if(_.some(T=>T==="")){g.delete("index"),_.filter(b=>b).forEach(b=>g.append("index",b));let T=g.toString();c.search=T?`?${T}`:""}}return(!r||r===".")&&o.route.index&&(c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index"),i!=="/"&&(c.pathname=c.pathname==="/"?i:Gi([i,c.pathname])),eo(c)}function bS(r,{relative:e}={}){let i=G.useContext(Sv);le(i!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=Vv("useViewTransitionState"),o=fo(r,{relative:e});if(!i.isTransitioning)return!1;let c=Fi(i.currentLocation.pathname,s)||i.currentLocation.pathname,d=Fi(i.nextLocation.pathname,s)||i.nextLocation.pathname;return dc(o.pathname,d)!=null||dc(o.pathname,c)!=null}function AS({movieCount:r}){return Q.jsxs("header",{className:`\r
        fixed top-0 left-0 w-full z-[2000] \r
        bg-gray-900/95 \r
        text-white \r
        px-4 py-4 md:px-10 md:py-5 /* Padding disesuaikan untuk mobile */\r
        flex justify-between items-center \r
        shadow-xl\r
    `,children:[Q.jsx(Ss,{to:"/",className:`\r
        text-xl sm:text-3xl font-extrabold tracking-wider \r
        text-gray-200 \r
        hover:text-white \r
        transition duration-200 \r
        block /* Selalu tampil */\r
      `,children:"🍿 MovieTime"}),Q.jsxs("nav",{className:"flex items-center",children:[Q.jsx(Ss,{to:"/add",className:"app-nav-link nav-link-hover text-sm sm:text-lg ml-4 sm:ml-6 text-gray-300 hover:text-white transition duration-200",children:"Tambah Baru"}),Q.jsxs(Ss,{to:"/",className:"app-nav-link nav-link-hover text-sm sm:text-lg ml-4 sm:ml-6 text-gray-300 hover:text-white transition duration-200",children:["Daftar (",r,")"]})]})]})}const RS=r=>{const s=Array(5).fill("☆");for(let o=0;o<r;o++)s[o]="★";return Q.jsx("span",{className:"rating-stars",children:s.join("")})},wS=r=>r>=4?"text-green-500":r>=3?"text-yellow-500":"text-red-500",CS=r=>{switch(r){case"Watching":return"bg-blue-600";case"Finished":return"bg-green-600";case"Planned":default:return"bg-gray-600"}};function DS({movie:r,onCardClick:e}){const i=wS(r.rating),s=CS(r.status||"Planned"),o=r.rating===5&&r.status==="Finished";return Q.jsxs("div",{className:`
            bg-gray-800 rounded-xl overflow-hidden shadow-lg 
            transition duration-300 ease-in-out transform hover:scale-[1.03] hover:shadow-2xl 
            cursor-pointer relative flex flex-col 
            ${o?"border-4 border-yellow-400 shadow-yellow-500/50":"border border-transparent"}
        `,onClick:e,children:[Q.jsx("div",{className:`
            absolute top-3 right-3 px-2 py-1 rounded-md text-xs font-bold text-white 
            ${s} shadow-md z-10
        `,children:r.status||"Planned"}),Q.jsx("div",{className:"relative",children:r.posterUrl?Q.jsx("img",{src:r.posterUrl,alt:r.title,className:"w-full h-[300px] object-cover relative z-0 shadow-lg shadow-black/50",onError:c=>{c.target.onerror=null,c.target.src="https://via.placeholder.com/200x300?text=No+Poster"}}):Q.jsx("div",{className:"w-full h-[300px] bg-gray-700 flex items-center justify-center text-gray-400 text-lg font-semibold",children:"No Poster"})}),Q.jsxs("div",{className:"p-3 flex flex-col justify-between flex-grow text-left",children:[Q.jsxs("div",{children:[Q.jsxs("span",{className:"inline-block px-2 py-0.5 rounded-md text-xs font-bold text-gray-400 bg-gray-700 mb-1 border border-gray-600",children:["[",r.genre||"Lainnya","]"]}),Q.jsx("h4",{className:"text-white text-base font-semibold mt-1 mb-1",children:r.title})]}),Q.jsxs("div",{className:`flex items-center text-sm font-semibold mt-1 ${i}`,children:[Q.jsx("span",{className:"text-xl",children:RS(r.rating)}),Q.jsxs("span",{className:"ml-1 text-gray-400 text-sm",children:["(",r.rating,"/5)"]})]})]})]})}const xS=r=>{const s=Array(5).fill("☆");for(let o=0;o<r;o++)s[o]="★";return Q.jsx("span",{className:"text-yellow-400",children:s.join("")})},NS=r=>{switch(r){case"Watching":return"bg-blue-600";case"Finished":return"bg-green-600";case"Planned":default:return"bg-gray-600"}};function VS({movie:r,onClose:e,onDelete:i,onEdit:s}){if(!r)return null;const o=NS(r.status||"Planned");return Q.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-80 flex items-center justify-center z-[3000]",onClick:e,children:Q.jsxs("div",{className:"bg-gray-800 text-white rounded-xl shadow-2xl w-11/12 max-w-3xl relative p-6 transition duration-300 transform scale-100",onClick:c=>c.stopPropagation(),children:[Q.jsx("button",{className:"absolute top-4 right-4 text-gray-500 hover:text-white text-2xl transition duration-200",onClick:e,children:"×"}),Q.jsxs("div",{className:"flex flex-col md:flex-row gap-6 md:gap-10 items-start",children:[Q.jsxs("div",{className:"flex-shrink-0 w-full md:w-64",children:[r.posterUrl?Q.jsx("img",{src:r.posterUrl,alt:r.title,className:"w-full h-auto rounded-lg shadow-xl",onError:c=>{c.target.onerror=null,c.target.src="https://via.placeholder.com/300x450?text=No+Poster"}}):Q.jsx("div",{className:"w-full h-96 bg-gray-700 flex items-center justify-center text-gray-400 text-lg font-semibold rounded-lg",children:"No Poster"}),Q.jsxs("div",{className:`mt-3 text-center px-3 py-1 rounded-md text-sm font-bold text-white ${o}`,children:["Status: ",r.status||"Planned"]})]}),Q.jsxs("div",{className:"flex-grow",children:[Q.jsx("h3",{className:"text-3xl font-bold text-white mb-3 border-b border-gray-700 pb-2",children:r.title}),Q.jsxs("p",{className:"text-lg text-gray-400 mb-2",children:[Q.jsx("strong",{className:"text-white",children:"Genre:"})," ",Q.jsx("span",{className:"inline-block px-2 py-0.5 rounded text-xs font-bold text-gray-400 bg-gray-700",children:r.genre||"Lainnya"})]}),Q.jsxs("p",{className:"text-lg text-gray-400 mb-4",children:[Q.jsx("strong",{className:"text-white",children:"Rating Saya:"})," ",xS(r.rating)," ",Q.jsxs("span",{className:"ml-1 text-sm",children:["(",r.rating,"/5)"]})]}),Q.jsxs("div",{className:"flex gap-4 mb-6",children:[Q.jsx("button",{onClick:s,className:"bg-blue-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-blue-700 transition duration-150",children:"📝 Edit"}),Q.jsx("button",{onClick:i,className:"bg-red-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-red-700 transition duration-150",children:"🗑️ Hapus"})]}),Q.jsxs("div",{className:"mt-4",children:[Q.jsx("h4",{className:"text-xl font-semibold text-white mb-2 border-b border-gray-700 pb-1",children:"Sinopsis:"}),Q.jsx("p",{className:"text-gray-400 leading-relaxed text-sm",children:r.overview||"Sinopsis tidak tersedia. Anda dapat menambahkannya melalui tombol Edit."})]})]})]})]})})}const IS="/react-movie/assets/spd-D9zrbJPX.png",MS=["Semua","Indonesia","Anime","Drakor","Western","Lainnya"],OS=["Semua","Planned","Watching","Finished"],US={Semua:"Semua",Planned:"Akan Ditonton",Watching:"Sedang Ditonton",Finished:"Selesai"},LS=[{value:"recent",label:"Terbaru Ditambahkan (Default)"},{value:"rating_desc",label:"Rating Tertinggi"},{value:"title_asc",label:"Judul (A-Z)"},{value:"title_desc",label:"Judul (Z-A)"}];function zS({movies:r,deleteMovie:e,startEdit:i,isLoading:s}){const[o,c]=G.useState("Semua"),[d,g]=G.useState("Semua"),[_,p]=G.useState("recent"),[T,b]=G.useState(null),[x,P]=G.useState(""),K=G.useMemo(()=>{let it=r;if(x){const R=x.toLowerCase();it=it.filter(A=>A.title.toLowerCase().includes(R))}return it=o==="Semua"?it:it.filter(R=>R.genre===o),it=d==="Semua"?it:it.filter(R=>(R.status||"Planned")===d),[...it].sort((R,A)=>{switch(_){case"rating_desc":return A.rating-R.rating;case"title_asc":return R.title.localeCompare(A.title);case"title_desc":return R.title.localeCompare(A.title)*-1;case"recent":default:return 0}})},[r,o,d,_,x]),F=it=>{P(it.target.value)},k=it=>{p(it.target.value)},et=it=>b(it),nt=()=>b(null),st=it=>{nt(),e(it)},at=it=>{nt(),i(it)},vt=IS;return Q.jsxs("section",{id:"daftar",children:[Q.jsx("div",{className:"relative h-96 mb-10 bg-cover bg-center bg-fixed bg-gray-900",style:{backgroundImage:`url(${vt})`},children:Q.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-10 flex items-center justify-start pt-16 md:pt-24 pl-5 md:pl-12",children:Q.jsx("div",{className:"relative z-10",children:Q.jsx("h1",{className:"text-3xl md:text-5xl font-extrabold text-white mb-2 pt-10 drop-shadow-lg",children:"My Watchlist"})})})}),Q.jsxs("div",{className:"max-w-7xl mx-auto px-5 md:px-0 mt-8",children:[Q.jsx("h2",{className:"text-center text-3xl font-bold text-white mb-8",children:"Semua Tontonan"}),Q.jsx("div",{className:"search-input-group mb-6",children:Q.jsx("input",{type:"text",placeholder:"🔍 Cari Judul Film...",value:x,onChange:F,className:"w-full p-3 bg-gray-800 text-white border border-gray-700 rounded-lg focus:outline-none focus:border-blue-500"})}),Q.jsxs("div",{className:"bg-gray-800 p-5 md:p-6 rounded-xl shadow-xl flex flex-wrap justify-between items-start mb-8",children:[Q.jsxs("div",{className:"w-full md:w-5/12 mb-4 md:mb-0",children:[Q.jsx("strong",{className:"block text-gray-400 font-bold text-sm mb-2",children:"Filter Genre:"}),Q.jsx("div",{className:"flex flex-wrap gap-2",children:MS.map(it=>Q.jsxs("button",{onClick:()=>c(it),className:`px-4 py-2 text-xs font-medium rounded-full transition duration-150 ease-in-out
                                        ${o===it?"bg-blue-600 text-white shadow-lg transform scale-105":"bg-gray-700 text-gray-300 hover:bg-gray-600 border border-gray-600"}`,children:[it," (",r.filter(R=>it==="Semua"||R.genre===it).length,")"]},it))})]}),Q.jsxs("div",{className:"w-full md:w-5/12",children:[Q.jsx("strong",{className:"block text-gray-400 font-bold text-sm mb-2",children:"Filter Status:"}),Q.jsx("div",{className:"flex flex-wrap gap-2",children:OS.map(it=>Q.jsxs("button",{onClick:()=>g(it),className:`px-4 py-2 text-xs font-medium rounded-full transition duration-150 ease-in-out
                                        ${d===it?"bg-blue-600 text-white shadow-lg transform scale-105":"bg-gray-700 text-gray-300 hover:bg-gray-600 border border-gray-600"}`,children:[US[it]," (",r.filter(R=>it==="Semua"||(R.status||"Planned")===it).length,")"]},it))})]}),Q.jsxs("div",{className:"w-full mt-4 md:mt-0 md:w-auto flex items-center justify-end",children:[Q.jsx("label",{htmlFor:"sort-select",className:"text-gray-400 font-semibold text-sm mr-2",children:"Urutkan:"}),Q.jsx("select",{id:"sort-select",value:_,onChange:k,className:"bg-gray-700 text-white text-sm border-b-2 border-blue-500 focus:outline-none focus:border-blue-300 py-1 px-2 rounded-md transition duration-150",children:LS.map(it=>Q.jsx("option",{value:it.value,className:"bg-gray-700",children:it.label},it.value))})]})]}),s?Q.jsx("p",{className:"text-center text-gray-400 text-lg py-10",children:"Memuat data dari Firebase..."}):K.length===0?Q.jsxs("p",{className:"text-center text-gray-400 py-10",children:["Tidak ada film yang cocok dengan filter saat ini.",Q.jsx("br",{}),Q.jsx(Ss,{to:"/add",className:"text-blue-500 hover:text-blue-400 underline",children:"Tambahkan sekarang!"})]}):Q.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6 gap-6 pb-12",children:K.map(it=>Q.jsx(DS,{movie:it,onCardClick:()=>et(it)},it.id))})]}),Q.jsx(VS,{movie:T,onClose:nt,onDelete:()=>st(T.id),onEdit:()=>at(T)})]})}const BS=[{value:"Planned",label:"Akan Ditonton"},{value:"Watching",label:"Sedang Ditonton"},{value:"Finished",label:"Selesai Ditonton"}],md=["Indonesia","Anime","Drakor","Western","Lainnya"],r_={title:"",posterUrl:"",rating:3,genre:md[0],overview:"",status:"Planned"},PS="31d97d6787fa4847e1693a6dc7b9cd90",s_="https://image.tmdb.org/t/p/w500";function jS({saveMovie:r,editingMovie:e,setEditingMovie:i}){const[s,o]=G.useState(r_),[c,d]=G.useState(""),[g,_]=G.useState([]),[p,T]=G.useState(!1),[b,x]=G.useState(0),P=Vc(),K=!!e;G.useEffect(()=>{K?o({...e,genre:e.genre||md[4],status:e.status||"Planned"}):(o(r_),_([]),d(""))},[e,K]);const F=at=>{const{name:vt,value:it}=at.target;o(R=>({...R,[vt]:vt==="rating"?parseInt(it):it}))},k=at=>{if(at.preventDefault(),!s.title||s.rating<0||s.rating>5){alert("Judul tidak boleh kosong dan Rating harus antara 0-5.");return}r(s)},et=()=>{i(null),P("/")},nt=async()=>{if(c.trim()){T(!0),_([]);try{const it=(await(await fetch(`https://api.themoviedb.org/3/search/multi?api_key=${PS}&query=${encodeURIComponent(c)}&language=id-ID`)).json()).results.filter(R=>(R.media_type==="movie"||R.media_type==="tv")&&R.poster_path).slice(0,5);_(it)}catch(at){console.error("Error fetching movie data from TMDB:",at),alert("Gagal mencari film. Pastikan API Key TMDB benar.")}finally{T(!1)}}},st=at=>{let vt=at.media_type==="movie"?at.title:at.name;o(it=>({...it,title:vt,posterUrl:s_+at.poster_path,overview:at.overview||"Sinopsis tidak tersedia."})),_([]),d("")};return Q.jsx("div",{className:"bg-gray-800 p-8 rounded-xl shadow-2xl",children:Q.jsxs("form",{onSubmit:k,children:[!K&&Q.jsxs("div",{className:"border border-blue-500 p-4 rounded-lg mb-6 bg-gray-700",children:[Q.jsx("label",{className:"block mb-2 text-blue-300 font-bold",children:"🔎 Cari Poster Otomatis (via TMDB):"}),Q.jsxs("div",{className:"flex gap-3",children:[Q.jsx("input",{type:"text",placeholder:"Masukkan judul film/acara...",value:c,onChange:at=>d(at.target.value),className:"w-full p-3 bg-gray-800 text-white rounded-lg focus:outline-none focus:border-blue-500"}),Q.jsx("button",{type:"button",onClick:nt,className:"bg-blue-600 text-white font-semibold py-3 px-4 rounded-lg hover:bg-blue-700 transition duration-150 disabled:opacity-50",disabled:p,children:p?"Mencari...":"Cari"})]}),g.length>0&&Q.jsxs("div",{className:"mt-4 pt-3 border-t border-gray-600 max-h-52 overflow-y-auto",children:[Q.jsx("p",{className:"text-sm font-bold mb-2 text-gray-300",children:"Pilih Hasil:"}),g.map(at=>Q.jsxs("div",{onClick:()=>st(at),className:"flex items-center p-2 mb-1 cursor-pointer bg-gray-700 hover:bg-gray-600 rounded-lg transition duration-100",children:[Q.jsx("img",{src:s_+at.poster_path,alt:at.title||at.name,className:"w-10 h-16 object-cover mr-3 rounded-md shadow-lg"}),Q.jsxs("div",{children:[Q.jsx("strong",{className:"text-sm text-white",children:at.title||at.name}),Q.jsxs("span",{className:"text-xs text-gray-400 ml-2",children:["(",at.media_type==="movie"?"Film":"Acara TV/Anime",")"]})]})]},at.id))]})]}),[{id:"title",label:"Judul",type:"text",value:s.title,required:!0},{id:"posterUrl",label:"URL Poster",type:"text",value:s.posterUrl,placeholder:"URL Poster (Otomatis terisi)"}].map(at=>Q.jsxs("div",{className:"mb-4",children:[Q.jsxs("label",{htmlFor:at.id,className:"block text-gray-300 font-semibold mb-2",children:[at.label,":"]}),Q.jsx("input",{type:at.type,id:at.id,name:at.id,value:at.value,onChange:F,required:at.required,placeholder:at.placeholder,className:"w-full p-3 bg-gray-900 text-white border border-gray-700 rounded-lg focus:outline-none focus:border-blue-500 transition duration-150"})]},at.id)),Q.jsxs("div",{className:"flex gap-4 mb-4",children:[Q.jsxs("div",{className:"w-1/2",children:[Q.jsx("label",{htmlFor:"genre",className:"block text-gray-300 font-semibold mb-2",children:"Genre:"}),Q.jsx("select",{id:"genre",name:"genre",value:s.genre,onChange:F,className:"w-full p-3 bg-gray-900 text-white border border-gray-700 rounded-lg focus:outline-none focus:border-blue-500 transition duration-150",children:md.map(at=>Q.jsx("option",{value:at,className:"bg-gray-800",children:at},at))})]}),Q.jsxs("div",{className:"w-1/2",children:[Q.jsx("label",{htmlFor:"status",className:"block text-gray-300 font-semibold mb-2",children:"Status Tontonan:"}),Q.jsx("select",{id:"status",name:"status",value:s.status,onChange:F,className:"w-full p-3 bg-gray-900 text-white border border-gray-700 rounded-lg focus:outline-none focus:border-blue-500 transition duration-150",children:BS.map(at=>Q.jsx("option",{value:at.value,className:"bg-gray-800",children:at.label},at.value))})]})]}),Q.jsxs("div",{className:"mb-6",children:[Q.jsx("label",{className:"block text-gray-300 font-semibold mb-2",children:"Rating (1-5):"}),Q.jsx("div",{className:"text-4xl",children:[...Array(5)].map((at,vt)=>{const it=vt+1;return Q.jsx("span",{className:"cursor-pointer transition duration-100",style:{color:it<=(b||s.rating)?"#ffc107":"#4b5563"},onClick:()=>o({...s,rating:it}),onMouseEnter:()=>x(it),onMouseLeave:()=>x(0),children:"★"},vt)})}),Q.jsxs("p",{className:"mt-1 text-sm text-gray-400",children:["Rating saat ini: **",s.rating,"**"]})]}),K&&Q.jsxs("div",{className:"mb-6",children:[Q.jsx("label",{htmlFor:"overview",className:"block text-gray-300 font-semibold mb-2",children:"Sinopsis (Edit Manual):"}),Q.jsx("textarea",{id:"overview",name:"overview",value:s.overview,onChange:F,rows:"4",placeholder:"Masukkan sinopsis atau catatan Anda...",className:"w-full p-3 bg-gray-900 text-white border border-gray-700 rounded-lg focus:outline-none focus:border-blue-500 transition duration-150"})]}),Q.jsxs("div",{className:"flex gap-4 pt-4 border-t border-gray-700",children:[Q.jsx("button",{type:"submit",className:`font-bold py-3 px-6 rounded-lg transition duration-150 flex-1 
                            ${K?"bg-blue-600 hover:bg-blue-700":"bg-green-600 hover:bg-green-700"} text-white`,children:K?"💾 Simpan Perubahan":"➕ Tambah ke Daftar"}),K&&Q.jsx("button",{type:"button",onClick:et,className:"bg-gray-500 text-white font-bold py-3 px-6 rounded-lg hover:bg-gray-600 transition duration-150",children:"❌ Batalkan Edit"})]})]})})}function l_({saveMovie:r,movies:e,editingMovie:i,setEditingMovie:s,showToast:o}){const{id:c}=N1(),d=Vc();G.useEffect(()=>{if(c){const _=e.find(p=>p.id===c);_?s(_):i||d("/add",{replace:!0})}else s(null)},[c,e,s,d,i]);const g=async _=>{const p=!_.id;await r(_),o?o(p?"Film berhasil ditambahkan secara online!":"Film berhasil diubah secara online!","success"):alert(p?"Film berhasil ditambahkan secara online!":"Film berhasil diubah secara online!"),d("/")};return Q.jsx("section",{id:"tambah",className:"pt-24 md:pt-32 pb-10 min-h-screen",children:Q.jsxs("div",{className:"max-w-4xl mx-auto px-4",children:[Q.jsx("h2",{className:"text-center text-3xl font-bold text-black mb-6",children:c?"📝 Edit Entri":"➕ Tambah Entri Baru"}),Q.jsx(jS,{saveMovie:g,editingMovie:i,setEditingMovie:s})]})})}function kS({message:r,type:e,isVisible:i,onClose:s}){if(G.useEffect(()=>{let d;return i?(d=setTimeout(()=>{s()},3e3),()=>clearTimeout(d)):()=>{d&&clearTimeout(d)}},[i,s]),!i)return null;const o=e==="error"?"bg-red-600":"bg-green-600",c=e==="error"?"❌ ":"✅ ";return Q.jsxs("div",{className:`
                ${o} 
                text-white 
                p-4 
                rounded-lg 
                shadow-2xl 
                fixed 
                bottom-8 
                right-8 
                z-[3000] 
                text-base 
                font-semibold 
                flex 
                items-center 
                transition 
                duration-300 
                ease-out
                
                /* Class yang mengontrol transform/posisi */
                transform 
                /* Menggunakan transform-y-0 untuk menunjukkan posisi terlihat */
                translate-y-0 
            `,children:[c," ",r]})}const qS=()=>{};var o_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iv=function(r){const e=[];let i=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?e[i++]=o:o<2048?(e[i++]=o>>6|192,e[i++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),e[i++]=o>>18|240,e[i++]=o>>12&63|128,e[i++]=o>>6&63|128,e[i++]=o&63|128):(e[i++]=o>>12|224,e[i++]=o>>6&63|128,e[i++]=o&63|128)}return e},HS=function(r){const e=[];let i=0,s=0;for(;i<r.length;){const o=r[i++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const c=r[i++];e[s++]=String.fromCharCode((o&31)<<6|c&63)}else if(o>239&&o<365){const c=r[i++],d=r[i++],g=r[i++],_=((o&7)<<18|(c&63)<<12|(d&63)<<6|g&63)-65536;e[s++]=String.fromCharCode(55296+(_>>10)),e[s++]=String.fromCharCode(56320+(_&1023))}else{const c=r[i++],d=r[i++];e[s++]=String.fromCharCode((o&15)<<12|(c&63)<<6|d&63)}}return e.join("")},Mv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const c=r[o],d=o+1<r.length,g=d?r[o+1]:0,_=o+2<r.length,p=_?r[o+2]:0,T=c>>2,b=(c&3)<<4|g>>4;let x=(g&15)<<2|p>>6,P=p&63;_||(P=64,d||(x=64)),s.push(i[T],i[b],i[x],i[P])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(Iv(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):HS(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const c=i[r.charAt(o++)],g=o<r.length?i[r.charAt(o)]:0;++o;const p=o<r.length?i[r.charAt(o)]:64;++o;const b=o<r.length?i[r.charAt(o)]:64;if(++o,c==null||g==null||p==null||b==null)throw new GS;const x=c<<2|g>>4;if(s.push(x),p!==64){const P=g<<4&240|p>>2;if(s.push(P),b!==64){const K=p<<6&192|b;s.push(K)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class GS extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const FS=function(r){const e=Iv(r);return Mv.encodeByteArray(e,!0)},mc=function(r){return FS(r).replace(/\./g,"")},QS=function(r){try{return Mv.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KS=()=>YS().__FIREBASE_DEFAULTS__,XS=()=>{if(typeof process>"u"||typeof o_>"u")return;const r=o_.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},$S=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&QS(r[1]);return e&&JSON.parse(e)},Gd=()=>{try{return qS()||KS()||XS()||$S()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},ZS=r=>Gd()?.emulatorHosts?.[r],JS=r=>{const e=ZS(r);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),s]:[e.substring(0,i),s]},Ov=()=>Gd()?.config;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WS{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,s)=>{i?this.reject(i):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fd(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function tb(r){return(await fetch(r,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eb(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},s=e||"demo-project",o=r.iat||0,c=r.sub||r.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...r};return[mc(JSON.stringify(i)),mc(JSON.stringify(d)),""].join(".")}const $l={};function nb(){const r={prod:[],emulator:[]};for(const e of Object.keys($l))$l[e]?r.emulator.push(e):r.prod.push(e);return r}function ib(r){let e=document.getElementById(r),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),i=!0),{created:i,element:e}}let u_=!1;function ab(r,e){if(typeof window>"u"||typeof document>"u"||!Fd(window.location.host)||$l[r]===e||$l[r]||u_)return;$l[r]=e;function i(x){return`__firebase__banner__${x}`}const s="__firebase__banner",c=nb().prod.length>0;function d(){const x=document.getElementById(s);x&&x.remove()}function g(x){x.style.display="flex",x.style.background="#7faaf0",x.style.position="fixed",x.style.bottom="5px",x.style.left="5px",x.style.padding=".5em",x.style.borderRadius="5px",x.style.alignItems="center"}function _(x,P){x.setAttribute("width","24"),x.setAttribute("id",P),x.setAttribute("height","24"),x.setAttribute("viewBox","0 0 24 24"),x.setAttribute("fill","none"),x.style.marginLeft="-6px"}function p(){const x=document.createElement("span");return x.style.cursor="pointer",x.style.marginLeft="16px",x.style.fontSize="24px",x.innerHTML=" &times;",x.onclick=()=>{u_=!0,d()},x}function T(x,P){x.setAttribute("id",P),x.innerText="Learn more",x.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",x.setAttribute("target","__blank"),x.style.paddingLeft="5px",x.style.textDecoration="underline"}function b(){const x=ib(s),P=i("text"),K=document.getElementById(P)||document.createElement("span"),F=i("learnmore"),k=document.getElementById(F)||document.createElement("a"),et=i("preprendIcon"),nt=document.getElementById(et)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(x.created){const st=x.element;g(st),T(k,F);const at=p();_(nt,et),st.append(nt,K,k,at),document.body.appendChild(st)}c?(K.innerText="Preview backend disconnected.",nt.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(nt.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,K.innerText="Preview backend running in this workspace."),K.setAttribute("id",P)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",b):b()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rb(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function sb(){const r=Gd()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function lb(){return!sb()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function ob(){try{return typeof indexedDB=="object"}catch{return!1}}function ub(){return new Promise((r,e)=>{try{let i=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(i){e(i)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cb="FirebaseError";class Us extends Error{constructor(e,i,s){super(i),this.code=e,this.customData=s,this.name=cb,Object.setPrototypeOf(this,Us.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Uv.prototype.create)}}class Uv{constructor(e,i,s){this.service=e,this.serviceName=i,this.errors=s}create(e,...i){const s=i[0]||{},o=`${this.service}/${e}`,c=this.errors[e],d=c?hb(c,s):"Error",g=`${this.serviceName}: ${d} (${o}).`;return new Us(o,g,s)}}function hb(r,e){return r.replace(fb,(i,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const fb=/\{\$([^}]+)}/g;function gc(r,e){if(r===e)return!0;const i=Object.keys(r),s=Object.keys(e);for(const o of i){if(!s.includes(o))return!1;const c=r[o],d=e[o];if(c_(c)&&c_(d)){if(!gc(c,d))return!1}else if(c!==d)return!1}for(const o of s)if(!i.includes(o))return!1;return!0}function c_(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oa(r){return r&&r._delegate?r._delegate:r}class no{constructor(e,i,s){this.name=e,this.instanceFactory=i,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Er="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class db{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const s=new WS;if(this.instancesDeferred.set(i,s),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){const i=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(gb(e))try{this.getOrInitializeService({instanceIdentifier:Er})}catch{}for(const[i,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:o});s.resolve(c)}catch{}}}}clearInstance(e=Er){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Er){return this.instances.has(e)}getOptions(e=Er){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:i});for(const[c,d]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(c);s===g&&d.resolve(o)}return o}onInit(e,i){const s=this.normalizeInstanceIdentifier(i),o=this.onInitCallbacks.get(s)??new Set;o.add(e),this.onInitCallbacks.set(s,o);const c=this.instances.get(s);return c&&e(c,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,i){const s=this.onInitCallbacks.get(i);if(s)for(const o of s)try{o(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:mb(e),options:i}),this.instances.set(e,s),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Er){return this.component?this.component.multipleInstances?e:Er:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function mb(r){return r===Er?void 0:r}function gb(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pb{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new db(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var zt;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(zt||(zt={}));const yb={debug:zt.DEBUG,verbose:zt.VERBOSE,info:zt.INFO,warn:zt.WARN,error:zt.ERROR,silent:zt.SILENT},_b=zt.INFO,vb={[zt.DEBUG]:"log",[zt.VERBOSE]:"log",[zt.INFO]:"info",[zt.WARN]:"warn",[zt.ERROR]:"error"},Eb=(r,e,...i)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),o=vb[e];if(o)console[o](`[${s}]  ${r.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Lv{constructor(e){this.name=e,this._logLevel=_b,this._logHandler=Eb,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in zt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?yb[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,zt.DEBUG,...e),this._logHandler(this,zt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,zt.VERBOSE,...e),this._logHandler(this,zt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,zt.INFO,...e),this._logHandler(this,zt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,zt.WARN,...e),this._logHandler(this,zt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,zt.ERROR,...e),this._logHandler(this,zt.ERROR,...e)}}const Tb=(r,e)=>e.some(i=>r instanceof i);let h_,f_;function Sb(){return h_||(h_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function bb(){return f_||(f_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const zv=new WeakMap,gd=new WeakMap,Bv=new WeakMap,id=new WeakMap,Qd=new WeakMap;function Ab(r){const e=new Promise((i,s)=>{const o=()=>{r.removeEventListener("success",c),r.removeEventListener("error",d)},c=()=>{i(xa(r.result)),o()},d=()=>{s(r.error),o()};r.addEventListener("success",c),r.addEventListener("error",d)});return e.then(i=>{i instanceof IDBCursor&&zv.set(i,r)}).catch(()=>{}),Qd.set(e,r),e}function Rb(r){if(gd.has(r))return;const e=new Promise((i,s)=>{const o=()=>{r.removeEventListener("complete",c),r.removeEventListener("error",d),r.removeEventListener("abort",d)},c=()=>{i(),o()},d=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",c),r.addEventListener("error",d),r.addEventListener("abort",d)});gd.set(r,e)}let pd={get(r,e,i){if(r instanceof IDBTransaction){if(e==="done")return gd.get(r);if(e==="objectStoreNames")return r.objectStoreNames||Bv.get(r);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return xa(r[e])},set(r,e,i){return r[e]=i,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function wb(r){pd=r(pd)}function Cb(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const s=r.call(ad(this),e,...i);return Bv.set(s,e.sort?e.sort():[e]),xa(s)}:bb().includes(r)?function(...e){return r.apply(ad(this),e),xa(zv.get(this))}:function(...e){return xa(r.apply(ad(this),e))}}function Db(r){return typeof r=="function"?Cb(r):(r instanceof IDBTransaction&&Rb(r),Tb(r,Sb())?new Proxy(r,pd):r)}function xa(r){if(r instanceof IDBRequest)return Ab(r);if(id.has(r))return id.get(r);const e=Db(r);return e!==r&&(id.set(r,e),Qd.set(e,r)),e}const ad=r=>Qd.get(r);function xb(r,e,{blocked:i,upgrade:s,blocking:o,terminated:c}={}){const d=indexedDB.open(r,e),g=xa(d);return s&&d.addEventListener("upgradeneeded",_=>{s(xa(d.result),_.oldVersion,_.newVersion,xa(d.transaction),_)}),i&&d.addEventListener("blocked",_=>i(_.oldVersion,_.newVersion,_)),g.then(_=>{c&&_.addEventListener("close",()=>c()),o&&_.addEventListener("versionchange",p=>o(p.oldVersion,p.newVersion,p))}).catch(()=>{}),g}const Nb=["get","getKey","getAll","getAllKeys","count"],Vb=["put","add","delete","clear"],rd=new Map;function d_(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(rd.get(e))return rd.get(e);const i=e.replace(/FromIndex$/,""),s=e!==i,o=Vb.includes(i);if(!(i in(s?IDBIndex:IDBObjectStore).prototype)||!(o||Nb.includes(i)))return;const c=async function(d,...g){const _=this.transaction(d,o?"readwrite":"readonly");let p=_.store;return s&&(p=p.index(g.shift())),(await Promise.all([p[i](...g),o&&_.done]))[0]};return rd.set(e,c),c}wb(r=>({...r,get:(e,i,s)=>d_(e,i)||r.get(e,i,s),has:(e,i)=>!!d_(e,i)||r.has(e,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ib{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(Mb(i)){const s=i.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(i=>i).join(" ")}}function Mb(r){return r.getComponent()?.type==="VERSION"}const yd="@firebase/app",m_="0.14.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qi=new Lv("@firebase/app"),Ob="@firebase/app-compat",Ub="@firebase/analytics-compat",Lb="@firebase/analytics",zb="@firebase/app-check-compat",Bb="@firebase/app-check",Pb="@firebase/auth",jb="@firebase/auth-compat",kb="@firebase/database",qb="@firebase/data-connect",Hb="@firebase/database-compat",Gb="@firebase/functions",Fb="@firebase/functions-compat",Qb="@firebase/installations",Yb="@firebase/installations-compat",Kb="@firebase/messaging",Xb="@firebase/messaging-compat",$b="@firebase/performance",Zb="@firebase/performance-compat",Jb="@firebase/remote-config",Wb="@firebase/remote-config-compat",tA="@firebase/storage",eA="@firebase/storage-compat",nA="@firebase/firestore",iA="@firebase/ai",aA="@firebase/firestore-compat",rA="firebase",sA="12.3.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _d="[DEFAULT]",lA={[yd]:"fire-core",[Ob]:"fire-core-compat",[Lb]:"fire-analytics",[Ub]:"fire-analytics-compat",[Bb]:"fire-app-check",[zb]:"fire-app-check-compat",[Pb]:"fire-auth",[jb]:"fire-auth-compat",[kb]:"fire-rtdb",[qb]:"fire-data-connect",[Hb]:"fire-rtdb-compat",[Gb]:"fire-fn",[Fb]:"fire-fn-compat",[Qb]:"fire-iid",[Yb]:"fire-iid-compat",[Kb]:"fire-fcm",[Xb]:"fire-fcm-compat",[$b]:"fire-perf",[Zb]:"fire-perf-compat",[Jb]:"fire-rc",[Wb]:"fire-rc-compat",[tA]:"fire-gcs",[eA]:"fire-gcs-compat",[nA]:"fire-fst",[aA]:"fire-fst-compat",[iA]:"fire-vertex","fire-js":"fire-js",[rA]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pc=new Map,oA=new Map,vd=new Map;function g_(r,e){try{r.container.addComponent(e)}catch(i){Qi.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,i)}}function yc(r){const e=r.name;if(vd.has(e))return Qi.debug(`There were multiple attempts to register component ${e}.`),!1;vd.set(e,r);for(const i of pc.values())g_(i,r);for(const i of oA.values())g_(i,r);return!0}function uA(r,e){const i=r.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),r.container.getProvider(e)}function cA(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hA={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Na=new Uv("app","Firebase",hA);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fA{constructor(e,i,s){this._isDeleted=!1,this._options={...e},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new no("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Na.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dA=sA;function Pv(r,e={}){let i=r;typeof e!="object"&&(e={name:e});const s={name:_d,automaticDataCollectionEnabled:!0,...e},o=s.name;if(typeof o!="string"||!o)throw Na.create("bad-app-name",{appName:String(o)});if(i||(i=Ov()),!i)throw Na.create("no-options");const c=pc.get(o);if(c){if(gc(i,c.options)&&gc(s,c.config))return c;throw Na.create("duplicate-app",{appName:o})}const d=new pb(o);for(const _ of vd.values())d.addComponent(_);const g=new fA(i,s,d);return pc.set(o,g),g}function mA(r=_d){const e=pc.get(r);if(!e&&r===_d&&Ov())return Pv();if(!e)throw Na.create("no-app",{appName:r});return e}function bs(r,e,i){let s=lA[r]??r;i&&(s+=`-${i}`);const o=s.match(/\s|\//),c=e.match(/\s|\//);if(o||c){const d=[`Unable to register library "${s}" with version "${e}":`];o&&d.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&c&&d.push("and"),c&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Qi.warn(d.join(" "));return}yc(new no(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gA="firebase-heartbeat-database",pA=1,io="firebase-heartbeat-store";let sd=null;function jv(){return sd||(sd=xb(gA,pA,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(io)}catch(i){console.warn(i)}}}}).catch(r=>{throw Na.create("idb-open",{originalErrorMessage:r.message})})),sd}async function yA(r){try{const i=(await jv()).transaction(io),s=await i.objectStore(io).get(kv(r));return await i.done,s}catch(e){if(e instanceof Us)Qi.warn(e.message);else{const i=Na.create("idb-get",{originalErrorMessage:e?.message});Qi.warn(i.message)}}}async function p_(r,e){try{const s=(await jv()).transaction(io,"readwrite");await s.objectStore(io).put(e,kv(r)),await s.done}catch(i){if(i instanceof Us)Qi.warn(i.message);else{const s=Na.create("idb-set",{originalErrorMessage:i?.message});Qi.warn(s.message)}}}function kv(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _A=1024,vA=30;class EA{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new SA(i),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=y_();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>vA){const o=bA(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Qi.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=y_(),{heartbeatsToSend:i,unsentEntries:s}=TA(this._heartbeatsCache.heartbeats),o=mc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return Qi.warn(e),""}}}function y_(){return new Date().toISOString().substring(0,10)}function TA(r,e=_A){const i=[];let s=r.slice();for(const o of r){const c=i.find(d=>d.agent===o.agent);if(c){if(c.dates.push(o.date),__(i)>e){c.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),__(i)>e){i.pop();break}s=s.slice(1)}return{heartbeatsToSend:i,unsentEntries:s}}class SA{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return ob()?ub().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await yA(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return p_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return p_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function __(r){return mc(JSON.stringify({version:2,heartbeats:r})).length}function bA(r){if(r.length===0)return-1;let e=0,i=r[0].date;for(let s=1;s<r.length;s++)r[s].date<i&&(i=r[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AA(r){yc(new no("platform-logger",e=>new Ib(e),"PRIVATE")),yc(new no("heartbeat",e=>new EA(e),"PRIVATE")),bs(yd,m_,r),bs(yd,m_,"esm2020"),bs("fire-js","")}AA("");var RA="firebase",wA="12.3.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */bs(RA,wA,"app");var v_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Va,qv;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(R,A){function w(){}w.prototype=A.prototype,R.F=A.prototype,R.prototype=new w,R.prototype.constructor=R,R.D=function(M,N,U){for(var C=Array(arguments.length-2),ie=2;ie<arguments.length;ie++)C[ie-2]=arguments[ie];return A.prototype[N].apply(M,C)}}function i(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,i),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(R,A,w){w||(w=0);const M=Array(16);if(typeof A=="string")for(var N=0;N<16;++N)M[N]=A.charCodeAt(w++)|A.charCodeAt(w++)<<8|A.charCodeAt(w++)<<16|A.charCodeAt(w++)<<24;else for(N=0;N<16;++N)M[N]=A[w++]|A[w++]<<8|A[w++]<<16|A[w++]<<24;A=R.g[0],w=R.g[1],N=R.g[2];let U=R.g[3],C;C=A+(U^w&(N^U))+M[0]+3614090360&4294967295,A=w+(C<<7&4294967295|C>>>25),C=U+(N^A&(w^N))+M[1]+3905402710&4294967295,U=A+(C<<12&4294967295|C>>>20),C=N+(w^U&(A^w))+M[2]+606105819&4294967295,N=U+(C<<17&4294967295|C>>>15),C=w+(A^N&(U^A))+M[3]+3250441966&4294967295,w=N+(C<<22&4294967295|C>>>10),C=A+(U^w&(N^U))+M[4]+4118548399&4294967295,A=w+(C<<7&4294967295|C>>>25),C=U+(N^A&(w^N))+M[5]+1200080426&4294967295,U=A+(C<<12&4294967295|C>>>20),C=N+(w^U&(A^w))+M[6]+2821735955&4294967295,N=U+(C<<17&4294967295|C>>>15),C=w+(A^N&(U^A))+M[7]+4249261313&4294967295,w=N+(C<<22&4294967295|C>>>10),C=A+(U^w&(N^U))+M[8]+1770035416&4294967295,A=w+(C<<7&4294967295|C>>>25),C=U+(N^A&(w^N))+M[9]+2336552879&4294967295,U=A+(C<<12&4294967295|C>>>20),C=N+(w^U&(A^w))+M[10]+4294925233&4294967295,N=U+(C<<17&4294967295|C>>>15),C=w+(A^N&(U^A))+M[11]+2304563134&4294967295,w=N+(C<<22&4294967295|C>>>10),C=A+(U^w&(N^U))+M[12]+1804603682&4294967295,A=w+(C<<7&4294967295|C>>>25),C=U+(N^A&(w^N))+M[13]+4254626195&4294967295,U=A+(C<<12&4294967295|C>>>20),C=N+(w^U&(A^w))+M[14]+2792965006&4294967295,N=U+(C<<17&4294967295|C>>>15),C=w+(A^N&(U^A))+M[15]+1236535329&4294967295,w=N+(C<<22&4294967295|C>>>10),C=A+(N^U&(w^N))+M[1]+4129170786&4294967295,A=w+(C<<5&4294967295|C>>>27),C=U+(w^N&(A^w))+M[6]+3225465664&4294967295,U=A+(C<<9&4294967295|C>>>23),C=N+(A^w&(U^A))+M[11]+643717713&4294967295,N=U+(C<<14&4294967295|C>>>18),C=w+(U^A&(N^U))+M[0]+3921069994&4294967295,w=N+(C<<20&4294967295|C>>>12),C=A+(N^U&(w^N))+M[5]+3593408605&4294967295,A=w+(C<<5&4294967295|C>>>27),C=U+(w^N&(A^w))+M[10]+38016083&4294967295,U=A+(C<<9&4294967295|C>>>23),C=N+(A^w&(U^A))+M[15]+3634488961&4294967295,N=U+(C<<14&4294967295|C>>>18),C=w+(U^A&(N^U))+M[4]+3889429448&4294967295,w=N+(C<<20&4294967295|C>>>12),C=A+(N^U&(w^N))+M[9]+568446438&4294967295,A=w+(C<<5&4294967295|C>>>27),C=U+(w^N&(A^w))+M[14]+3275163606&4294967295,U=A+(C<<9&4294967295|C>>>23),C=N+(A^w&(U^A))+M[3]+4107603335&4294967295,N=U+(C<<14&4294967295|C>>>18),C=w+(U^A&(N^U))+M[8]+1163531501&4294967295,w=N+(C<<20&4294967295|C>>>12),C=A+(N^U&(w^N))+M[13]+2850285829&4294967295,A=w+(C<<5&4294967295|C>>>27),C=U+(w^N&(A^w))+M[2]+4243563512&4294967295,U=A+(C<<9&4294967295|C>>>23),C=N+(A^w&(U^A))+M[7]+1735328473&4294967295,N=U+(C<<14&4294967295|C>>>18),C=w+(U^A&(N^U))+M[12]+2368359562&4294967295,w=N+(C<<20&4294967295|C>>>12),C=A+(w^N^U)+M[5]+4294588738&4294967295,A=w+(C<<4&4294967295|C>>>28),C=U+(A^w^N)+M[8]+2272392833&4294967295,U=A+(C<<11&4294967295|C>>>21),C=N+(U^A^w)+M[11]+1839030562&4294967295,N=U+(C<<16&4294967295|C>>>16),C=w+(N^U^A)+M[14]+4259657740&4294967295,w=N+(C<<23&4294967295|C>>>9),C=A+(w^N^U)+M[1]+2763975236&4294967295,A=w+(C<<4&4294967295|C>>>28),C=U+(A^w^N)+M[4]+1272893353&4294967295,U=A+(C<<11&4294967295|C>>>21),C=N+(U^A^w)+M[7]+4139469664&4294967295,N=U+(C<<16&4294967295|C>>>16),C=w+(N^U^A)+M[10]+3200236656&4294967295,w=N+(C<<23&4294967295|C>>>9),C=A+(w^N^U)+M[13]+681279174&4294967295,A=w+(C<<4&4294967295|C>>>28),C=U+(A^w^N)+M[0]+3936430074&4294967295,U=A+(C<<11&4294967295|C>>>21),C=N+(U^A^w)+M[3]+3572445317&4294967295,N=U+(C<<16&4294967295|C>>>16),C=w+(N^U^A)+M[6]+76029189&4294967295,w=N+(C<<23&4294967295|C>>>9),C=A+(w^N^U)+M[9]+3654602809&4294967295,A=w+(C<<4&4294967295|C>>>28),C=U+(A^w^N)+M[12]+3873151461&4294967295,U=A+(C<<11&4294967295|C>>>21),C=N+(U^A^w)+M[15]+530742520&4294967295,N=U+(C<<16&4294967295|C>>>16),C=w+(N^U^A)+M[2]+3299628645&4294967295,w=N+(C<<23&4294967295|C>>>9),C=A+(N^(w|~U))+M[0]+4096336452&4294967295,A=w+(C<<6&4294967295|C>>>26),C=U+(w^(A|~N))+M[7]+1126891415&4294967295,U=A+(C<<10&4294967295|C>>>22),C=N+(A^(U|~w))+M[14]+2878612391&4294967295,N=U+(C<<15&4294967295|C>>>17),C=w+(U^(N|~A))+M[5]+4237533241&4294967295,w=N+(C<<21&4294967295|C>>>11),C=A+(N^(w|~U))+M[12]+1700485571&4294967295,A=w+(C<<6&4294967295|C>>>26),C=U+(w^(A|~N))+M[3]+2399980690&4294967295,U=A+(C<<10&4294967295|C>>>22),C=N+(A^(U|~w))+M[10]+4293915773&4294967295,N=U+(C<<15&4294967295|C>>>17),C=w+(U^(N|~A))+M[1]+2240044497&4294967295,w=N+(C<<21&4294967295|C>>>11),C=A+(N^(w|~U))+M[8]+1873313359&4294967295,A=w+(C<<6&4294967295|C>>>26),C=U+(w^(A|~N))+M[15]+4264355552&4294967295,U=A+(C<<10&4294967295|C>>>22),C=N+(A^(U|~w))+M[6]+2734768916&4294967295,N=U+(C<<15&4294967295|C>>>17),C=w+(U^(N|~A))+M[13]+1309151649&4294967295,w=N+(C<<21&4294967295|C>>>11),C=A+(N^(w|~U))+M[4]+4149444226&4294967295,A=w+(C<<6&4294967295|C>>>26),C=U+(w^(A|~N))+M[11]+3174756917&4294967295,U=A+(C<<10&4294967295|C>>>22),C=N+(A^(U|~w))+M[2]+718787259&4294967295,N=U+(C<<15&4294967295|C>>>17),C=w+(U^(N|~A))+M[9]+3951481745&4294967295,R.g[0]=R.g[0]+A&4294967295,R.g[1]=R.g[1]+(N+(C<<21&4294967295|C>>>11))&4294967295,R.g[2]=R.g[2]+N&4294967295,R.g[3]=R.g[3]+U&4294967295}s.prototype.v=function(R,A){A===void 0&&(A=R.length);const w=A-this.blockSize,M=this.C;let N=this.h,U=0;for(;U<A;){if(N==0)for(;U<=w;)o(this,R,U),U+=this.blockSize;if(typeof R=="string"){for(;U<A;)if(M[N++]=R.charCodeAt(U++),N==this.blockSize){o(this,M),N=0;break}}else for(;U<A;)if(M[N++]=R[U++],N==this.blockSize){o(this,M),N=0;break}}this.h=N,this.o+=A},s.prototype.A=function(){var R=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);R[0]=128;for(var A=1;A<R.length-8;++A)R[A]=0;A=this.o*8;for(var w=R.length-8;w<R.length;++w)R[w]=A&255,A/=256;for(this.v(R),R=Array(16),A=0,w=0;w<4;++w)for(let M=0;M<32;M+=8)R[A++]=this.g[w]>>>M&255;return R};function c(R,A){var w=g;return Object.prototype.hasOwnProperty.call(w,R)?w[R]:w[R]=A(R)}function d(R,A){this.h=A;const w=[];let M=!0;for(let N=R.length-1;N>=0;N--){const U=R[N]|0;M&&U==A||(w[N]=U,M=!1)}this.g=w}var g={};function _(R){return-128<=R&&R<128?c(R,function(A){return new d([A|0],A<0?-1:0)}):new d([R|0],R<0?-1:0)}function p(R){if(isNaN(R)||!isFinite(R))return b;if(R<0)return k(p(-R));const A=[];let w=1;for(let M=0;R>=w;M++)A[M]=R/w|0,w*=4294967296;return new d(A,0)}function T(R,A){if(R.length==0)throw Error("number format error: empty string");if(A=A||10,A<2||36<A)throw Error("radix out of range: "+A);if(R.charAt(0)=="-")return k(T(R.substring(1),A));if(R.indexOf("-")>=0)throw Error('number format error: interior "-" character');const w=p(Math.pow(A,8));let M=b;for(let U=0;U<R.length;U+=8){var N=Math.min(8,R.length-U);const C=parseInt(R.substring(U,U+N),A);N<8?(N=p(Math.pow(A,N)),M=M.j(N).add(p(C))):(M=M.j(w),M=M.add(p(C)))}return M}var b=_(0),x=_(1),P=_(16777216);r=d.prototype,r.m=function(){if(F(this))return-k(this).m();let R=0,A=1;for(let w=0;w<this.g.length;w++){const M=this.i(w);R+=(M>=0?M:4294967296+M)*A,A*=4294967296}return R},r.toString=function(R){if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if(K(this))return"0";if(F(this))return"-"+k(this).toString(R);const A=p(Math.pow(R,6));var w=this;let M="";for(;;){const N=at(w,A).g;w=et(w,N.j(A));let U=((w.g.length>0?w.g[0]:w.h)>>>0).toString(R);if(w=N,K(w))return U+M;for(;U.length<6;)U="0"+U;M=U+M}},r.i=function(R){return R<0?0:R<this.g.length?this.g[R]:this.h};function K(R){if(R.h!=0)return!1;for(let A=0;A<R.g.length;A++)if(R.g[A]!=0)return!1;return!0}function F(R){return R.h==-1}r.l=function(R){return R=et(this,R),F(R)?-1:K(R)?0:1};function k(R){const A=R.g.length,w=[];for(let M=0;M<A;M++)w[M]=~R.g[M];return new d(w,~R.h).add(x)}r.abs=function(){return F(this)?k(this):this},r.add=function(R){const A=Math.max(this.g.length,R.g.length),w=[];let M=0;for(let N=0;N<=A;N++){let U=M+(this.i(N)&65535)+(R.i(N)&65535),C=(U>>>16)+(this.i(N)>>>16)+(R.i(N)>>>16);M=C>>>16,U&=65535,C&=65535,w[N]=C<<16|U}return new d(w,w[w.length-1]&-2147483648?-1:0)};function et(R,A){return R.add(k(A))}r.j=function(R){if(K(this)||K(R))return b;if(F(this))return F(R)?k(this).j(k(R)):k(k(this).j(R));if(F(R))return k(this.j(k(R)));if(this.l(P)<0&&R.l(P)<0)return p(this.m()*R.m());const A=this.g.length+R.g.length,w=[];for(var M=0;M<2*A;M++)w[M]=0;for(M=0;M<this.g.length;M++)for(let N=0;N<R.g.length;N++){const U=this.i(M)>>>16,C=this.i(M)&65535,ie=R.i(N)>>>16,Ce=R.i(N)&65535;w[2*M+2*N]+=C*Ce,nt(w,2*M+2*N),w[2*M+2*N+1]+=U*Ce,nt(w,2*M+2*N+1),w[2*M+2*N+1]+=C*ie,nt(w,2*M+2*N+1),w[2*M+2*N+2]+=U*ie,nt(w,2*M+2*N+2)}for(R=0;R<A;R++)w[R]=w[2*R+1]<<16|w[2*R];for(R=A;R<2*A;R++)w[R]=0;return new d(w,0)};function nt(R,A){for(;(R[A]&65535)!=R[A];)R[A+1]+=R[A]>>>16,R[A]&=65535,A++}function st(R,A){this.g=R,this.h=A}function at(R,A){if(K(A))throw Error("division by zero");if(K(R))return new st(b,b);if(F(R))return A=at(k(R),A),new st(k(A.g),k(A.h));if(F(A))return A=at(R,k(A)),new st(k(A.g),A.h);if(R.g.length>30){if(F(R)||F(A))throw Error("slowDivide_ only works with positive integers.");for(var w=x,M=A;M.l(R)<=0;)w=vt(w),M=vt(M);var N=it(w,1),U=it(M,1);for(M=it(M,2),w=it(w,2);!K(M);){var C=U.add(M);C.l(R)<=0&&(N=N.add(w),U=C),M=it(M,1),w=it(w,1)}return A=et(R,N.j(A)),new st(N,A)}for(N=b;R.l(A)>=0;){for(w=Math.max(1,Math.floor(R.m()/A.m())),M=Math.ceil(Math.log(w)/Math.LN2),M=M<=48?1:Math.pow(2,M-48),U=p(w),C=U.j(A);F(C)||C.l(R)>0;)w-=M,U=p(w),C=U.j(A);K(U)&&(U=x),N=N.add(U),R=et(R,C)}return new st(N,R)}r.B=function(R){return at(this,R).h},r.and=function(R){const A=Math.max(this.g.length,R.g.length),w=[];for(let M=0;M<A;M++)w[M]=this.i(M)&R.i(M);return new d(w,this.h&R.h)},r.or=function(R){const A=Math.max(this.g.length,R.g.length),w=[];for(let M=0;M<A;M++)w[M]=this.i(M)|R.i(M);return new d(w,this.h|R.h)},r.xor=function(R){const A=Math.max(this.g.length,R.g.length),w=[];for(let M=0;M<A;M++)w[M]=this.i(M)^R.i(M);return new d(w,this.h^R.h)};function vt(R){const A=R.g.length+1,w=[];for(let M=0;M<A;M++)w[M]=R.i(M)<<1|R.i(M-1)>>>31;return new d(w,R.h)}function it(R,A){const w=A>>5;A%=32;const M=R.g.length-w,N=[];for(let U=0;U<M;U++)N[U]=A>0?R.i(U+w)>>>A|R.i(U+w+1)<<32-A:R.i(U+w);return new d(N,R.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,qv=s,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=p,d.fromString=T,Va=d}).apply(typeof v_<"u"?v_:typeof self<"u"?self:typeof window<"u"?window:{});var $u=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Hv,Yl,Gv,lc,Ed,Fv,Qv,Yv;(function(){var r,e=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof $u=="object"&&$u];for(var m=0;m<u.length;++m){var v=u[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var s=i(this);function o(u,m){if(m)t:{var v=s;u=u.split(".");for(var S=0;S<u.length-1;S++){var L=u[S];if(!(L in v))break t;v=v[L]}u=u[u.length-1],S=v[u],m=m(S),m!=S&&m!=null&&e(v,u,{configurable:!0,writable:!0,value:m})}}o("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(u){return u||function(m){var v=[],S;for(S in m)Object.prototype.hasOwnProperty.call(m,S)&&v.push([S,m[S]]);return v}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},d=this||self;function g(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function _(u,m,v){return u.call.apply(u.bind,arguments)}function p(u,m,v){return p=_,p.apply(null,arguments)}function T(u,m){var v=Array.prototype.slice.call(arguments,1);return function(){var S=v.slice();return S.push.apply(S,arguments),u.apply(this,S)}}function b(u,m){function v(){}v.prototype=m.prototype,u.Z=m.prototype,u.prototype=new v,u.prototype.constructor=u,u.Ob=function(S,L,q){for(var rt=Array(arguments.length-2),At=2;At<arguments.length;At++)rt[At-2]=arguments[At];return m.prototype[L].apply(S,rt)}}var x=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function P(u){const m=u.length;if(m>0){const v=Array(m);for(let S=0;S<m;S++)v[S]=u[S];return v}return[]}function K(u,m){for(let S=1;S<arguments.length;S++){const L=arguments[S];var v=typeof L;if(v=v!="object"?v:L?Array.isArray(L)?"array":v:"null",v=="array"||v=="object"&&typeof L.length=="number"){v=u.length||0;const q=L.length||0;u.length=v+q;for(let rt=0;rt<q;rt++)u[v+rt]=L[rt]}else u.push(L)}}class F{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function k(u){d.setTimeout(()=>{throw u},0)}function et(){var u=R;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class nt{constructor(){this.h=this.g=null}add(m,v){const S=st.get();S.set(m,v),this.h?this.h.next=S:this.g=S,this.h=S}}var st=new F(()=>new at,u=>u.reset());class at{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let vt,it=!1,R=new nt,A=()=>{const u=Promise.resolve(void 0);vt=()=>{u.then(w)}};function w(){for(var u;u=et();){try{u.h.call(u.g)}catch(v){k(v)}var m=st;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}it=!1}function M(){this.u=this.u,this.C=this.C}M.prototype.u=!1,M.prototype.dispose=function(){this.u||(this.u=!0,this.N())},M.prototype[Symbol.dispose]=function(){this.dispose()},M.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function N(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}N.prototype.h=function(){this.defaultPrevented=!0};var U=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const v=()=>{};d.addEventListener("test",v,m),d.removeEventListener("test",v,m)}catch{}return u})();function C(u){return/^[\s\xa0]*$/.test(u)}function ie(u,m){N.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}b(ie,N),ie.prototype.init=function(u,m){const v=this.type=u.type,S=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(v=="mouseover"?m=u.fromElement:v=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&ie.Z.h.call(this)},ie.prototype.h=function(){ie.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Ce="closure_listenable_"+(Math.random()*1e6|0),X=0;function lt(u,m,v,S,L){this.listener=u,this.proxy=null,this.src=m,this.type=v,this.capture=!!S,this.ha=L,this.key=++X,this.da=this.fa=!1}function gt(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Bt(u,m,v){for(const S in u)m.call(v,u[S],S,u)}function Gt(u,m){for(const v in u)m.call(void 0,u[v],v,u)}function I(u){const m={};for(const v in u)m[v]=u[v];return m}const J="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ot(u,m){let v,S;for(let L=1;L<arguments.length;L++){S=arguments[L];for(v in S)u[v]=S[v];for(let q=0;q<J.length;q++)v=J[q],Object.prototype.hasOwnProperty.call(S,v)&&(u[v]=S[v])}}function ct(u){this.src=u,this.g={},this.h=0}ct.prototype.add=function(u,m,v,S,L){const q=u.toString();u=this.g[q],u||(u=this.g[q]=[],this.h++);const rt=wt(u,m,S,L);return rt>-1?(m=u[rt],v||(m.fa=!1)):(m=new lt(m,this.src,q,!!S,L),m.fa=v,u.push(m)),m};function Et(u,m){const v=m.type;if(v in u.g){var S=u.g[v],L=Array.prototype.indexOf.call(S,m,void 0),q;(q=L>=0)&&Array.prototype.splice.call(S,L,1),q&&(gt(m),u.g[v].length==0&&(delete u.g[v],u.h--))}}function wt(u,m,v,S){for(let L=0;L<u.length;++L){const q=u[L];if(!q.da&&q.listener==m&&q.capture==!!v&&q.ha==S)return L}return-1}var Ut="closure_lm_"+(Math.random()*1e6|0),De={};function ae(u,m,v,S,L){if(Array.isArray(m)){for(let q=0;q<m.length;q++)ae(u,m[q],v,S,L);return null}return v=qs(v),u&&u[Ce]?u.J(m,v,g(S)?!!S.capture:!1,L):Ha(u,m,v,!1,S,L)}function Ha(u,m,v,S,L,q){if(!m)throw Error("Invalid event type");const rt=g(L)?!!L.capture:!!L;let At=Ga(u);if(At||(u[Ut]=At=new ct(u)),v=At.add(m,v,S,rt,q),v.proxy)return v;if(S=Dr(),v.proxy=S,S.src=u,S.listener=v,u.addEventListener)U||(L=rt),L===void 0&&(L=!1),u.addEventListener(m.toString(),S,L);else if(u.attachEvent)u.attachEvent(Yn(m.toString()),S);else if(u.addListener&&u.removeListener)u.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return v}function Dr(){function u(v){return m.call(u.src,u.listener,v)}const m=js;return u}function xr(u,m,v,S,L){if(Array.isArray(m))for(var q=0;q<m.length;q++)xr(u,m[q],v,S,L);else S=g(S)?!!S.capture:!!S,v=qs(v),u&&u[Ce]?(u=u.i,q=String(m).toString(),q in u.g&&(m=u.g[q],v=wt(m,v,S,L),v>-1&&(gt(m[v]),Array.prototype.splice.call(m,v,1),m.length==0&&(delete u.g[q],u.h--)))):u&&(u=Ga(u))&&(m=u.g[m.toString()],u=-1,m&&(u=wt(m,v,S,L)),(v=u>-1?m[u]:null)&&Nr(v))}function Nr(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[Ce])Et(m.i,u);else{var v=u.type,S=u.proxy;m.removeEventListener?m.removeEventListener(v,S,u.capture):m.detachEvent?m.detachEvent(Yn(v),S):m.addListener&&m.removeListener&&m.removeListener(S),(v=Ga(m))?(Et(v,u),v.h==0&&(v.src=null,m[Ut]=null)):gt(u)}}}function Yn(u){return u in De?De[u]:De[u]="on"+u}function js(u,m){if(u.da)u=!0;else{m=new ie(m,this);const v=u.listener,S=u.ha||u.src;u.fa&&Nr(u),u=v.call(S,m)}return u}function Ga(u){return u=u[Ut],u instanceof ct?u:null}var ks="__closure_events_fn_"+(Math.random()*1e9>>>0);function qs(u){return typeof u=="function"?u:(u[ks]||(u[ks]=function(m){return u.handleEvent(m)}),u[ks])}function pe(){M.call(this),this.i=new ct(this),this.M=this,this.G=null}b(pe,M),pe.prototype[Ce]=!0,pe.prototype.removeEventListener=function(u,m,v,S){xr(this,u,m,v,S)};function xe(u,m){var v,S=u.G;if(S)for(v=[];S;S=S.G)v.push(S);if(u=u.M,S=m.type||m,typeof m=="string")m=new N(m,u);else if(m instanceof N)m.target=m.target||u;else{var L=m;m=new N(S,u),ot(m,L)}L=!0;let q,rt;if(v)for(rt=v.length-1;rt>=0;rt--)q=m.g=v[rt],L=Xi(q,S,!0,m)&&L;if(q=m.g=u,L=Xi(q,S,!0,m)&&L,L=Xi(q,S,!1,m)&&L,v)for(rt=0;rt<v.length;rt++)q=m.g=v[rt],L=Xi(q,S,!1,m)&&L}pe.prototype.N=function(){if(pe.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const v=u.g[m];for(let S=0;S<v.length;S++)gt(v[S]);delete u.g[m],u.h--}}this.G=null},pe.prototype.J=function(u,m,v,S){return this.i.add(String(u),m,!1,v,S)},pe.prototype.K=function(u,m,v,S){return this.i.add(String(u),m,!0,v,S)};function Xi(u,m,v,S){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let L=!0;for(let q=0;q<m.length;++q){const rt=m[q];if(rt&&!rt.da&&rt.capture==v){const At=rt.listener,fe=rt.ha||rt.src;rt.fa&&Et(u.i,rt),L=At.call(fe,S)!==!1&&L}}return L&&!S.defaultPrevented}function $c(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=p(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function Eo(u){u.g=$c(()=>{u.g=null,u.i&&(u.i=!1,Eo(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class Ze extends M{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Eo(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Fa(u){M.call(this),this.h=u,this.g={}}b(Fa,M);var Hs=[];function Gs(u){Bt(u.g,function(m,v){this.g.hasOwnProperty(v)&&Nr(m)},u),u.g={}}Fa.prototype.N=function(){Fa.Z.N.call(this),Gs(this)},Fa.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var $i=d.JSON.stringify,Zc=d.JSON.parse,To=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function So(){}function bo(){}var On={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Be(){N.call(this,"d")}b(Be,N);function En(){N.call(this,"c")}b(En,N);var he={},Ao=null;function Vr(){return Ao=Ao||new pe}he.Ia="serverreachability";function Ro(u){N.call(this,he.Ia,u)}b(Ro,N);function Kn(u){const m=Vr();xe(m,new Ro(m))}he.STAT_EVENT="statevent";function Qa(u,m){N.call(this,he.STAT_EVENT,u),this.stat=m}b(Qa,N);function ye(u){const m=Vr();xe(m,new Qa(m,u))}he.Ja="timingevent";function Xn(u,m){N.call(this,he.Ja,u),this.size=m}b(Xn,N);function $n(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function Un(){this.g=!0}Un.prototype.ua=function(){this.g=!1};function Jc(u,m,v,S,L,q){u.info(function(){if(u.g)if(q){var rt="",At=q.split("&");for(let kt=0;kt<At.length;kt++){var fe=At[kt].split("=");if(fe.length>1){const re=fe[0];fe=fe[1];const An=re.split("_");rt=An.length>=2&&An[1]=="type"?rt+(re+"="+fe+"&"):rt+(re+"=redacted&")}}}else rt=null;else rt=q;return"XMLHTTP REQ ("+S+") [attempt "+L+"]: "+m+`
`+v+`
`+rt})}function wo(u,m,v,S,L,q,rt){u.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+L+"]: "+m+`
`+v+`
`+q+" "+rt})}function Zn(u,m,v,S){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Wc(u,v)+(S?" "+S:"")})}function Ya(u,m){u.info(function(){return"TIMEOUT: "+m})}Un.prototype.info=function(){};function Wc(u,m){if(!u.g)return m;if(!m)return null;try{const q=JSON.parse(m);if(q){for(u=0;u<q.length;u++)if(Array.isArray(q[u])){var v=q[u];if(!(v.length<2)){var S=v[1];if(Array.isArray(S)&&!(S.length<1)){var L=S[0];if(L!="noop"&&L!="stop"&&L!="close")for(let rt=1;rt<S.length;rt++)S[rt]=""}}}}return $i(q)}catch{return m}}var Ka={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Fs={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Qs;function Xa(){}b(Xa,So),Xa.prototype.g=function(){return new XMLHttpRequest},Qs=new Xa;function Ri(u){return encodeURIComponent(String(u))}function Co(u){var m=1;u=u.split(":");const v=[];for(;m>0&&u.length;)v.push(u.shift()),m--;return u.length&&v.push(u.join(":")),v}function Ln(u,m,v,S){this.j=u,this.i=m,this.l=v,this.S=S||1,this.V=new Fa(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new zn}function zn(){this.i=null,this.g="",this.h=!1}var _e={},Me={};function Jn(u,m,v){u.M=1,u.A=$a(Ee(m)),u.u=v,u.R=!0,Ir(u,null)}function Ir(u,m){u.F=Date.now(),Wn(u),u.B=Ee(u.A);var v=u.B,S=u.S;Array.isArray(S)||(S=[String(S)]),Lr(v.i,"t",S),u.C=0,v=u.j.L,u.h=new zn,u.g=qo(u.j,v?m:null,!u.u),u.P>0&&(u.O=new Ze(p(u.Y,u,u.g),u.P)),m=u.V,v=u.g,S=u.ba;var L="readystatechange";Array.isArray(L)||(L&&(Hs[0]=L.toString()),L=Hs);for(let q=0;q<L.length;q++){const rt=ae(v,L[q],S||m.handleEvent,!1,m.h||m);if(!rt)break;m.g[rt.key]=rt}m=u.J?I(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),Kn(),Jc(u.i,u.v,u.B,u.l,u.S,u.u)}Ln.prototype.ba=function(u){u=u.target;const m=this.O;m&&jn(u)==3?m.j():this.Y(u)},Ln.prototype.Y=function(u){try{if(u==this.g)t:{const At=jn(this.g),fe=this.g.ya(),kt=this.g.ca();if(!(At<3)&&(At!=3||this.g&&(this.h.h||this.g.la()||Pe(this.g)))){this.K||At!=4||fe==7||(fe==8||kt<=0?Kn(3):Kn(2)),ti(this);var m=this.g.ca();this.X=m;var v=th(this);if(this.o=m==200,wo(this.i,this.v,this.B,this.l,this.S,At,m),this.o){if(this.U&&!this.L){e:{if(this.g){var S,L=this.g;if((S=L.g?L.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!C(S)){var q=S;break e}}q=null}if(u=q)Zn(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,ei(this,u);else{this.o=!1,this.m=3,ye(12),cn(this),Tn(this);break t}}if(this.R){u=!0;let re;for(;!this.K&&this.C<v.length;)if(re=xo(this,v),re==Me){At==4&&(this.m=4,ye(14),u=!1),Zn(this.i,this.l,null,"[Incomplete Response]");break}else if(re==_e){this.m=4,ye(15),Zn(this.i,this.l,v,"[Invalid Chunk]"),u=!1;break}else Zn(this.i,this.l,re,null),ei(this,re);if(Do(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),At!=4||v.length!=0||this.h.h||(this.m=1,ye(16),u=!1),this.o=this.o&&u,!u)Zn(this.i,this.l,v,"[Invalid Chunked Response]"),cn(this),Tn(this);else if(v.length>0&&!this.W){this.W=!0;var rt=this.j;rt.g==this&&rt.aa&&!rt.P&&(rt.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),ll(rt),rt.P=!0,ye(11))}}else Zn(this.i,this.l,v,null),ei(this,v);At==4&&cn(this),this.o&&!this.K&&(At==4?Bo(this.j,this):(this.o=!1,Wn(this)))}else Ci(this.g),m==400&&v.indexOf("Unknown SID")>0?(this.m=3,ye(12)):(this.m=0,ye(13)),cn(this),Tn(this)}}}catch{}finally{}};function th(u){if(!Do(u))return u.g.la();const m=Pe(u.g);if(m==="")return"";let v="";const S=m.length,L=jn(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return cn(u),Tn(u),"";u.h.i=new d.TextDecoder}for(let q=0;q<S;q++)u.h.h=!0,v+=u.h.i.decode(m[q],{stream:!(L&&q==S-1)});return m.length=0,u.h.g+=v,u.C=0,u.h.g}function Do(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function xo(u,m){var v=u.C,S=m.indexOf(`
`,v);return S==-1?Me:(v=Number(m.substring(v,S)),isNaN(v)?_e:(S+=1,S+v>m.length?Me:(m=m.slice(S,S+v),u.C=S+v,m)))}Ln.prototype.cancel=function(){this.K=!0,cn(this)};function Wn(u){u.T=Date.now()+u.H,Mr(u,u.H)}function Mr(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=$n(p(u.aa,u),m)}function ti(u){u.D&&(d.clearTimeout(u.D),u.D=null)}Ln.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(Ya(this.i,this.B),this.M!=2&&(Kn(),ye(17)),cn(this),this.m=2,Tn(this)):Mr(this,this.T-u)};function Tn(u){u.j.I==0||u.K||Bo(u.j,u)}function cn(u){ti(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,Gs(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function ei(u,m){try{var v=u.j;if(v.I!=0&&(v.g==u||ii(v.h,u))){if(!u.L&&ii(v.h,u)&&v.I==3){try{var S=v.Ba.g.parse(m)}catch{S=null}if(Array.isArray(S)&&S.length==3){var L=S;if(L[0]==0){t:if(!v.v){if(v.g)if(v.g.F+3e3<u.F)kr(v),aa(v);else break t;ir(v),ye(18)}}else v.xa=L[1],0<v.xa-v.K&&L[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=$n(p(v.Va,v),6e3));ni(v.h)<=1&&v.ta&&(v.ta=void 0)}else ui(v,11)}else if((u.L||v.g==u)&&kr(v),!C(m))for(L=v.Ba.g.parse(m),m=0;m<L.length;m++){let kt=L[m];const re=kt[0];if(!(re<=v.K))if(v.K=re,kt=kt[1],v.I==2)if(kt[0]=="c"){v.M=kt[1],v.ba=kt[2];const An=kt[3];An!=null&&(v.ka=An,v.j.info("VER="+v.ka));const ci=kt[4];ci!=null&&(v.za=ci,v.j.info("SVER="+v.za));const kn=kt[5];kn!=null&&typeof kn=="number"&&kn>0&&(S=1.5*kn,v.O=S,v.j.info("backChannelRequestTimeoutMs_="+S)),S=v;const qn=u.g;if(qn){const ar=qn.g?qn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ar){var q=S.h;q.g||ar.indexOf("spdy")==-1&&ar.indexOf("quic")==-1&&ar.indexOf("h2")==-1||(q.j=q.l,q.g=new Set,q.h&&(Xs(q,q.h),q.h=null))}if(S.G){const qr=qn.g?qn.g.getResponseHeader("X-HTTP-Session-Id"):null;qr&&(S.wa=qr,Ft(S.J,S.G,qr))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-u.F,v.j.info("Handshake RTT: "+v.T+"ms")),S=v;var rt=u;if(S.na=ko(S,S.L?S.ba:null,S.W),rt.L){$s(S.h,rt);var At=rt,fe=S.O;fe&&(At.H=fe),At.D&&(ti(At),Wn(At)),S.g=rt}else Lo(S);v.i.length>0&&oi(v)}else kt[0]!="stop"&&kt[0]!="close"||ui(v,7);else v.I==3&&(kt[0]=="stop"||kt[0]=="close"?kt[0]=="stop"?ui(v,7):rl(v):kt[0]!="noop"&&v.l&&v.l.qa(kt),v.A=0)}}Kn(4)}catch{}}var ve=class{constructor(u,m){this.g=u,this.map=m}};function Ys(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Ks(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function ni(u){return u.h?1:u.g?u.g.size:0}function ii(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function Xs(u,m){u.g?u.g.add(m):u.h=m}function $s(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}Ys.prototype.cancel=function(){if(this.i=Zs(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Zs(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const v of u.g.values())m=m.concat(v.G);return m}return P(u.i)}var No=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Or(u,m){if(u){u=u.split("&");for(let v=0;v<u.length;v++){const S=u[v].indexOf("=");let L,q=null;S>=0?(L=u[v].substring(0,S),q=u[v].substring(S+1)):L=u[v],m(L,q?decodeURIComponent(q.replace(/\+/g," ")):"")}}}function hn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof hn?(this.l=u.l,Oe(this,u.j),this.o=u.o,this.g=u.g,Zi(this,u.u),this.h=u.h,Js(this,Oo(u.i)),this.m=u.m):u&&(m=String(u).match(No))?(this.l=!1,Oe(this,m[1]||"",!0),this.o=ai(m[2]||""),this.g=ai(m[3]||"",!0),Zi(this,m[4]),this.h=ai(m[5]||"",!0),Js(this,m[6]||"",!0),this.m=ai(m[7]||"")):(this.l=!1,this.i=new Wi(null,this.l))}hn.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(Za(m,Ur,!0),":");var v=this.g;return(v||m=="file")&&(u.push("//"),(m=this.o)&&u.push(Za(m,Ur,!0),"@"),u.push(Ri(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&u.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&u.push("/"),u.push(Za(v,v.charAt(0)=="/"?Ws:Vo,!0))),(v=this.i.toString())&&u.push("?",v),(v=this.m)&&u.push("#",Za(v,Io)),u.join("")},hn.prototype.resolve=function(u){const m=Ee(this);let v=!!u.j;v?Oe(m,u.j):v=!!u.o,v?m.o=u.o:v=!!u.g,v?m.g=u.g:v=u.u!=null;var S=u.h;if(v)Zi(m,u.u);else if(v=!!u.h){if(S.charAt(0)!="/")if(this.g&&!this.h)S="/"+S;else{var L=m.h.lastIndexOf("/");L!=-1&&(S=m.h.slice(0,L+1)+S)}if(L=S,L==".."||L==".")S="";else if(L.indexOf("./")!=-1||L.indexOf("/.")!=-1){S=L.lastIndexOf("/",0)==0,L=L.split("/");const q=[];for(let rt=0;rt<L.length;){const At=L[rt++];At=="."?S&&rt==L.length&&q.push(""):At==".."?((q.length>1||q.length==1&&q[0]!="")&&q.pop(),S&&rt==L.length&&q.push("")):(q.push(At),S=!0)}S=q.join("/")}else S=L}return v?m.h=S:v=u.i.toString()!=="",v?Js(m,Oo(u.i)):v=!!u.m,v&&(m.m=u.m),m};function Ee(u){return new hn(u)}function Oe(u,m,v){u.j=v?ai(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function Zi(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function Js(u,m,v){m instanceof Wi?(u.i=m,zr(u.i,u.l)):(v||(m=Za(m,Ji)),u.i=new Wi(m,u.l))}function Ft(u,m,v){u.i.set(m,v)}function $a(u){return Ft(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function ai(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Za(u,m,v){return typeof u=="string"?(u=encodeURI(u).replace(m,tn),v&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function tn(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Ur=/[#\/\?@]/g,Vo=/[#\?:]/g,Ws=/[#\?]/g,Ji=/[#\?@]/g,Io=/#/g;function Wi(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function en(u){u.g||(u.g=new Map,u.h=0,u.i&&Or(u.i,function(m,v){u.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}r=Wi.prototype,r.add=function(u,m){en(this),this.i=null,u=ta(this,u);let v=this.g.get(u);return v||this.g.set(u,v=[]),v.push(m),this.h+=1,this};function Mo(u,m){en(u),m=ta(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function tl(u,m){return en(u),m=ta(u,m),u.g.has(m)}r.forEach=function(u,m){en(this),this.g.forEach(function(v,S){v.forEach(function(L){u.call(m,L,S,this)},this)},this)};function el(u,m){en(u);let v=[];if(typeof m=="string")tl(u,m)&&(v=v.concat(u.g.get(ta(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)v=v.concat(u[m]);return v}r.set=function(u,m){return en(this),this.i=null,u=ta(this,u),tl(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},r.get=function(u,m){return u?(u=el(this,u),u.length>0?String(u[0]):m):m};function Lr(u,m,v){Mo(u,m),v.length>0&&(u.i=null,u.g.set(ta(u,m),P(v)),u.h+=v.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let S=0;S<m.length;S++){var v=m[S];const L=Ri(v);v=el(this,v);for(let q=0;q<v.length;q++){let rt=L;v[q]!==""&&(rt+="="+Ri(v[q])),u.push(rt)}}return this.i=u.join("&")};function Oo(u){const m=new Wi;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function ta(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function zr(u,m){m&&!u.j&&(en(u),u.i=null,u.g.forEach(function(v,S){const L=S.toLowerCase();S!=L&&(Mo(this,S),Lr(this,L,v))},u)),u.j=m}function Bn(u,m){const v=new Un;if(d.Image){const S=new Image;S.onload=T(Sn,v,"TestLoadImage: loaded",!0,m,S),S.onerror=T(Sn,v,"TestLoadImage: error",!1,m,S),S.onabort=T(Sn,v,"TestLoadImage: abort",!1,m,S),S.ontimeout=T(Sn,v,"TestLoadImage: timeout",!1,m,S),d.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=u}else m(!1)}function nl(u,m){const v=new Un,S=new AbortController,L=setTimeout(()=>{S.abort(),Sn(v,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:S.signal}).then(q=>{clearTimeout(L),q.ok?Sn(v,"TestPingServer: ok",!0,m):Sn(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(L),Sn(v,"TestPingServer: error",!1,m)})}function Sn(u,m,v,S,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),S(v)}catch{}}function ea(){this.g=new To}function ri(u){this.i=u.Sb||null,this.h=u.ab||!1}b(ri,So),ri.prototype.g=function(){return new Ja(this.i,this.h)};function Ja(u,m){pe.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}b(Ja,pe),r=Ja.prototype,r.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,Pn(this)},r.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,na(this)),this.readyState=0},r.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Pn(this)),this.g&&(this.readyState=3,Pn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Br(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function Br(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}r.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?na(this):Pn(this),this.readyState==3&&Br(this)}},r.Oa=function(u){this.g&&(this.response=this.responseText=u,na(this))},r.Na=function(u){this.g&&(this.response=u,na(this))},r.ga=function(){this.g&&na(this)};function na(u){u.readyState=4,u.l=null,u.j=null,u.B=null,Pn(u)}r.setRequestHeader=function(u,m){this.A.append(u,m)},r.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,u.push(v[0]+": "+v[1]),v=m.next();return u.join(`\r
`)};function Pn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Ja.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function bn(u){let m="";return Bt(u,function(v,S){m+=S,m+=":",m+=v,m+=`\r
`}),m}function Wa(u,m,v){t:{for(S in v){var S=!1;break t}S=!0}S||(v=bn(v),typeof u=="string"?v!=null&&Ri(v):Ft(u,m,v))}function Kt(u){pe.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}b(Kt,pe);var si=/^https?$/i,il=["POST","PUT"];r=Kt.prototype,r.Fa=function(u){this.H=u},r.ea=function(u,m,v,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Qs.g(),this.g.onreadystatechange=x(p(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(q){tr(this,q);return}if(u=v||"",v=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var L in S)v.set(L,S[L]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const q of S.keys())v.set(q,S.get(q));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(v.keys()).find(q=>q.toLowerCase()=="content-type"),L=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(il,m,void 0)>=0)||S||L||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[q,rt]of v)this.g.setRequestHeader(q,rt);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(q){tr(this,q)}};function tr(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,al(u),wi(u)}function al(u){u.A||(u.A=!0,xe(u,"complete"),xe(u,"error"))}r.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,xe(this,"complete"),xe(this,"abort"),wi(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),wi(this,!0)),Kt.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?er(this):this.Xa())},r.Xa=function(){er(this)};function er(u){if(u.h&&typeof c<"u"){if(u.v&&jn(u)==4)setTimeout(u.Ca.bind(u),0);else if(xe(u,"readystatechange"),jn(u)==4){u.h=!1;try{const q=u.ca();t:switch(q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var v;if(!(v=m)){var S;if(S=q===0){let rt=String(u.D).match(No)[1]||null;!rt&&d.self&&d.self.location&&(rt=d.self.location.protocol.slice(0,-1)),S=!si.test(rt?rt.toLowerCase():"")}v=S}if(v)xe(u,"complete"),xe(u,"success");else{u.o=6;try{var L=jn(u)>2?u.g.statusText:""}catch{L=""}u.l=L+" ["+u.ca()+"]",al(u)}}finally{wi(u)}}}}function wi(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const v=u.g;u.g=null,m||xe(u,"ready");try{v.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function jn(u){return u.g?u.g.readyState:0}r.ca=function(){try{return jn(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Zc(m)}};function Pe(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Ci(u){const m={};u=(u.g&&jn(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<u.length;S++){if(C(u[S]))continue;var v=Co(u[S]);const L=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const q=m[L]||[];m[L]=q,q.push(v)}Gt(m,function(S){return S.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function li(u,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[u]||m}function ia(u){this.za=0,this.i=[],this.j=new Un,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=li("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=li("baseRetryDelayMs",5e3,u),this.Za=li("retryDelaySeedMs",1e4,u),this.Ta=li("forwardChannelMaxRetries",2,u),this.va=li("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new Ys(u&&u.concurrentRequestLimit),this.Ba=new ea,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=ia.prototype,r.ka=8,r.I=1,r.connect=function(u,m,v,S){ye(0),this.W=u,this.H=m||{},v&&S!==void 0&&(this.H.OSID=v,this.H.OAID=S),this.F=this.X,this.J=ko(this,null,this.W),oi(this)};function rl(u){if(Pr(u),u.I==3){var m=u.V++,v=Ee(u.J);if(Ft(v,"SID",u.M),Ft(v,"RID",m),Ft(v,"TYPE","terminate"),nr(u,v),m=new Ln(u,u.j,m),m.M=2,m.A=$a(Ee(v)),v=!1,d.navigator&&d.navigator.sendBeacon)try{v=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!v&&d.Image&&(new Image().src=m.A,v=!0),v||(m.g=qo(m.j,null),m.g.ea(m.A)),m.F=Date.now(),Wn(m)}jo(u)}function aa(u){u.g&&(ll(u),u.g.cancel(),u.g=null)}function Pr(u){aa(u),u.v&&(d.clearTimeout(u.v),u.v=null),kr(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function oi(u){if(!Ks(u.h)&&!u.m){u.m=!0;var m=u.Ea;vt||A(),it||(vt(),it=!0),R.add(m,u),u.D=0}}function jr(u,m){return ni(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=$n(p(u.Ea,u,m),Po(u,u.D)),u.D++,!0)}r.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const L=new Ln(this,this.j,u);let q=this.o;if(this.U&&(q?(q=I(q),ot(q,this.U)):q=this.U),this.u!==null||this.R||(L.J=q,q=null),this.S)t:{for(var m=0,v=0;v<this.i.length;v++){e:{var S=this.i[v];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break e}S=void 0}if(S===void 0)break;if(m+=S,m>4096){m=v;break t}if(m===4096||v===this.i.length-1){m=v+1;break t}}m=1e3}else m=1e3;m=Uo(this,L,m),v=Ee(this.J),Ft(v,"RID",u),Ft(v,"CVER",22),this.G&&Ft(v,"X-HTTP-Session-Id",this.G),nr(this,v),q&&(this.R?m="headers="+Ri(bn(q))+"&"+m:this.u&&Wa(v,this.u,q)),Xs(this.h,L),this.Ra&&Ft(v,"TYPE","init"),this.S?(Ft(v,"$req",m),Ft(v,"SID","null"),L.U=!0,Jn(L,v,null)):Jn(L,v,m),this.I=2}}else this.I==3&&(u?sl(this,u):this.i.length==0||Ks(this.h)||sl(this))};function sl(u,m){var v;m?v=m.l:v=u.V++;const S=Ee(u.J);Ft(S,"SID",u.M),Ft(S,"RID",v),Ft(S,"AID",u.K),nr(u,S),u.u&&u.o&&Wa(S,u.u,u.o),v=new Ln(u,u.j,v,u.D+1),u.u===null&&(v.J=u.o),m&&(u.i=m.G.concat(u.i)),m=Uo(u,v,1e3),v.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),Xs(u.h,v),Jn(v,S,m)}function nr(u,m){u.H&&Bt(u.H,function(v,S){Ft(m,S,v)}),u.l&&Bt({},function(v,S){Ft(m,S,v)})}function Uo(u,m,v){v=Math.min(u.i.length,v);const S=u.l?p(u.l.Ka,u.l,u):null;t:{var L=u.i;let At=-1;for(;;){const fe=["count="+v];At==-1?v>0?(At=L[0].g,fe.push("ofs="+At)):At=0:fe.push("ofs="+At);let kt=!0;for(let re=0;re<v;re++){var q=L[re].g;const An=L[re].map;if(q-=At,q<0)At=Math.max(0,L[re].g-100),kt=!1;else try{q="req"+q+"_"||"";try{var rt=An instanceof Map?An:Object.entries(An);for(const[ci,kn]of rt){let qn=kn;g(kn)&&(qn=$i(kn)),fe.push(q+ci+"="+encodeURIComponent(qn))}}catch(ci){throw fe.push(q+"type="+encodeURIComponent("_badmap")),ci}}catch{S&&S(An)}}if(kt){rt=fe.join("&");break t}}rt=void 0}return u=u.i.splice(0,v),m.G=u,rt}function Lo(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;vt||A(),it||(vt(),it=!0),R.add(m,u),u.A=0}}function ir(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=$n(p(u.Da,u),Po(u,u.A)),u.A++,!0)}r.Da=function(){if(this.v=null,zo(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=$n(p(this.Wa,this),u)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,ye(10),aa(this),zo(this))};function ll(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function zo(u){u.g=new Ln(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=Ee(u.na);Ft(m,"RID","rpc"),Ft(m,"SID",u.M),Ft(m,"AID",u.K),Ft(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&Ft(m,"TO",u.ia),Ft(m,"TYPE","xmlhttp"),nr(u,m),u.u&&u.o&&Wa(m,u.u,u.o),u.O&&(u.g.H=u.O);var v=u.g;u=u.ba,v.M=1,v.A=$a(Ee(m)),v.u=null,v.R=!0,Ir(v,u)}r.Va=function(){this.C!=null&&(this.C=null,aa(this),ir(this),ye(19))};function kr(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function Bo(u,m){var v=null;if(u.g==m){kr(u),ll(u),u.g=null;var S=2}else if(ii(u.h,m))v=m.G,$s(u.h,m),S=1;else return;if(u.I!=0){if(m.o)if(S==1){v=m.u?m.u.length:0,m=Date.now()-m.F;var L=u.D;S=Vr(),xe(S,new Xn(S,v)),oi(u)}else Lo(u);else if(L=m.m,L==3||L==0&&m.X>0||!(S==1&&jr(u,m)||S==2&&ir(u)))switch(v&&v.length>0&&(m=u.h,m.i=m.i.concat(v)),L){case 1:ui(u,5);break;case 4:ui(u,10);break;case 3:ui(u,6);break;default:ui(u,2)}}}function Po(u,m){let v=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(v*=2),v*m}function ui(u,m){if(u.j.info("Error code "+m),m==2){var v=p(u.bb,u),S=u.Ua;const L=!S;S=new hn(S||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Oe(S,"https"),$a(S),L?Bn(S.toString(),v):nl(S.toString(),v)}else ye(2);u.I=0,u.l&&u.l.pa(m),jo(u),Pr(u)}r.bb=function(u){u?(this.j.info("Successfully pinged google.com"),ye(2)):(this.j.info("Failed to ping google.com"),ye(1))};function jo(u){if(u.I=0,u.ja=[],u.l){const m=Zs(u.h);(m.length!=0||u.i.length!=0)&&(K(u.ja,m),K(u.ja,u.i),u.h.i.length=0,P(u.i),u.i.length=0),u.l.oa()}}function ko(u,m,v){var S=v instanceof hn?Ee(v):new hn(v);if(S.g!="")m&&(S.g=m+"."+S.g),Zi(S,S.u);else{var L=d.location;S=L.protocol,m=m?m+"."+L.hostname:L.hostname,L=+L.port;const q=new hn(null);S&&Oe(q,S),m&&(q.g=m),L&&Zi(q,L),v&&(q.h=v),S=q}return v=u.G,m=u.wa,v&&m&&Ft(S,v,m),Ft(S,"VER",u.ka),nr(u,S),S}function qo(u,m,v){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new Kt(new ri({ab:v})):new Kt(u.ma),m.Fa(u.L),m}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ho(){}r=Ho.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function ra(){}ra.prototype.g=function(u,m){return new Je(u,m)};function Je(u,m){pe.call(this),this.g=new ia(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!C(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!C(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Di(this)}b(Je,pe),Je.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Je.prototype.close=function(){rl(this.g)},Je.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var v={};v.__data__=u,u=v}else this.v&&(v={},v.__data__=$i(u),u=v);m.i.push(new ve(m.Ya++,u)),m.I==3&&oi(m)},Je.prototype.N=function(){this.g.l=null,delete this.j,rl(this.g),delete this.g,Je.Z.N.call(this)};function Go(u){Be.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const v in m){u=v;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}b(Go,Be);function Fo(){En.call(this),this.status=1}b(Fo,En);function Di(u){this.g=u}b(Di,Ho),Di.prototype.ra=function(){xe(this.g,"a")},Di.prototype.qa=function(u){xe(this.g,new Go(u))},Di.prototype.pa=function(u){xe(this.g,new Fo)},Di.prototype.oa=function(){xe(this.g,"b")},ra.prototype.createWebChannel=ra.prototype.g,Je.prototype.send=Je.prototype.o,Je.prototype.open=Je.prototype.m,Je.prototype.close=Je.prototype.close,Yv=function(){return new ra},Qv=function(){return Vr()},Fv=he,Ed={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Ka.NO_ERROR=0,Ka.TIMEOUT=8,Ka.HTTP_ERROR=6,lc=Ka,Fs.COMPLETE="complete",Gv=Fs,bo.EventType=On,On.OPEN="a",On.CLOSE="b",On.ERROR="c",On.MESSAGE="d",pe.prototype.listen=pe.prototype.J,Yl=bo,Kt.prototype.listenOnce=Kt.prototype.K,Kt.prototype.getLastError=Kt.prototype.Ha,Kt.prototype.getLastErrorCode=Kt.prototype.ya,Kt.prototype.getStatus=Kt.prototype.ca,Kt.prototype.getResponseJson=Kt.prototype.La,Kt.prototype.getResponseText=Kt.prototype.la,Kt.prototype.send=Kt.prototype.ea,Kt.prototype.setWithCredentials=Kt.prototype.Fa,Hv=Kt}).apply(typeof $u<"u"?$u:typeof self<"u"?self:typeof window<"u"?window:{});const E_="@firebase/firestore",T_="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xe{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Xe.UNAUTHENTICATED=new Xe(null),Xe.GOOGLE_CREDENTIALS=new Xe("google-credentials-uid"),Xe.FIRST_PARTY=new Xe("first-party-uid"),Xe.MOCK_USER=new Xe("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ls="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sr=new Lv("@firebase/firestore");function _s(){return Sr.logLevel}function ut(r,...e){if(Sr.logLevel<=zt.DEBUG){const i=e.map(Yd);Sr.debug(`Firestore (${Ls}): ${r}`,...i)}}function Yi(r,...e){if(Sr.logLevel<=zt.ERROR){const i=e.map(Yd);Sr.error(`Firestore (${Ls}): ${r}`,...i)}}function Cs(r,...e){if(Sr.logLevel<=zt.WARN){const i=e.map(Yd);Sr.warn(`Firestore (${Ls}): ${r}`,...i)}}function Yd(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(i){return JSON.stringify(i)})(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _t(r,e,i){let s="Unexpected state";typeof e=="string"?s=e:i=e,Kv(r,s,i)}function Kv(r,e,i){let s=`FIRESTORE (${Ls}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(i!==void 0)try{s+=" CONTEXT: "+JSON.stringify(i)}catch{s+=" CONTEXT: "+i}throw Yi(s),new Error(s)}function Ht(r,e,i,s){let o="Unexpected state";typeof i=="string"?o=i:s=i,r||Kv(e,o,s)}function bt(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class dt extends Us{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ia{constructor(){this.promise=new Promise(((e,i)=>{this.resolve=e,this.reject=i}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xv{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class CA{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable((()=>i(Xe.UNAUTHENTICATED)))}shutdown(){}}class DA{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class xA{constructor(e){this.t=e,this.currentUser=Xe.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){Ht(this.o===void 0,42304);let s=this.i;const o=_=>this.i!==s?(s=this.i,i(_)):Promise.resolve();let c=new Ia;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Ia,e.enqueueRetryable((()=>o(this.currentUser)))};const d=()=>{const _=c;e.enqueueRetryable((async()=>{await _.promise,await o(this.currentUser)}))},g=_=>{ut("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=_,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((_=>g(_))),setTimeout((()=>{if(!this.auth){const _=this.t.getImmediate({optional:!0});_?g(_):(ut("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Ia)}}),0),d()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((s=>this.i!==e?(ut("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Ht(typeof s.accessToken=="string",31837,{l:s}),new Xv(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ht(e===null||typeof e=="string",2055,{h:e}),new Xe(e)}}class NA{constructor(e,i,s){this.P=e,this.T=i,this.I=s,this.type="FirstParty",this.user=Xe.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class VA{constructor(e,i,s){this.P=e,this.T=i,this.I=s}getToken(){return Promise.resolve(new NA(this.P,this.T,this.I))}start(e,i){e.enqueueRetryable((()=>i(Xe.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class S_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class IA{constructor(e,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,cA(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,i){Ht(this.o===void 0,3512);const s=c=>{c.error!=null&&ut("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,ut("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable((()=>s(c)))};const o=c=>{ut("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>o(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?o(c):ut("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new S_(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((i=>i?(Ht(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new S_(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MA(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let s=0;s<r;s++)i[s]=Math.floor(256*Math.random());return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kd{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=MA(40);for(let c=0;c<o.length;++c)s.length<20&&o[c]<i&&(s+=e.charAt(o[c]%62))}return s}}function It(r,e){return r<e?-1:r>e?1:0}function Td(r,e){const i=Math.min(r.length,e.length);for(let s=0;s<i;s++){const o=r.charAt(s),c=e.charAt(s);if(o!==c)return ld(o)===ld(c)?It(o,c):ld(o)?1:-1}return It(r.length,e.length)}const OA=55296,UA=57343;function ld(r){const e=r.charCodeAt(0);return e>=OA&&e<=UA}function Ds(r,e,i){return r.length===e.length&&r.every(((s,o)=>i(s,e[o])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b_="__name__";class gi{constructor(e,i,s){i===void 0?i=0:i>e.length&&_t(637,{offset:i,range:e.length}),s===void 0?s=e.length-i:s>e.length-i&&_t(1746,{length:s,range:e.length-i}),this.segments=e,this.offset=i,this.len=s}get length(){return this.len}isEqual(e){return gi.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof gi?e.forEach((s=>{i.push(s)})):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,s=this.limit();i<s;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const s=Math.min(e.length,i.length);for(let o=0;o<s;o++){const c=gi.compareSegments(e.get(o),i.get(o));if(c!==0)return c}return It(e.length,i.length)}static compareSegments(e,i){const s=gi.isNumericId(e),o=gi.isNumericId(i);return s&&!o?-1:!s&&o?1:s&&o?gi.extractNumericId(e).compare(gi.extractNumericId(i)):Td(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Va.fromString(e.substring(4,e.length-2))}}class ee extends gi{construct(e,i,s){return new ee(e,i,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const s of e){if(s.indexOf("//")>=0)throw new dt(tt.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);i.push(...s.split("/").filter((o=>o.length>0)))}return new ee(i)}static emptyPath(){return new ee([])}}const LA=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Fe extends gi{construct(e,i,s){return new Fe(e,i,s)}static isValidIdentifier(e){return LA.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Fe.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===b_}static keyField(){return new Fe([b_])}static fromServerFormat(e){const i=[];let s="",o=0;const c=()=>{if(s.length===0)throw new dt(tt.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(s),s=""};let d=!1;for(;o<e.length;){const g=e[o];if(g==="\\"){if(o+1===e.length)throw new dt(tt.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const _=e[o+1];if(_!=="\\"&&_!=="."&&_!=="`")throw new dt(tt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=_,o+=2}else g==="`"?(d=!d,o++):g!=="."||d?(s+=g,o++):(c(),o++)}if(c(),d)throw new dt(tt.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Fe(i)}static emptyPath(){return new Fe([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pt{constructor(e){this.path=e}static fromPath(e){return new pt(ee.fromString(e))}static fromName(e){return new pt(ee.fromString(e).popFirst(5))}static empty(){return new pt(ee.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ee.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return ee.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new pt(new ee(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $v(r,e,i){if(!i)throw new dt(tt.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function zA(r,e,i,s){if(e===!0&&s===!0)throw new dt(tt.INVALID_ARGUMENT,`${r} and ${i} cannot be used together.`)}function A_(r){if(!pt.isDocumentKey(r))throw new dt(tt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function R_(r){if(pt.isDocumentKey(r))throw new dt(tt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function Zv(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function Xd(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":_t(12329,{type:typeof r})}function br(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new dt(tt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Xd(r);throw new dt(tt.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return r}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function we(r,e){const i={typeString:r};return e&&(i.value=e),i}function mo(r,e){if(!Zv(r))throw new dt(tt.INVALID_ARGUMENT,"JSON must be an object");let i;for(const s in e)if(e[s]){const o=e[s].typeString,c="value"in e[s]?{value:e[s].value}:void 0;if(!(s in r)){i=`JSON missing required field: '${s}'`;break}const d=r[s];if(o&&typeof d!==o){i=`JSON field '${s}' must be a ${o}.`;break}if(c!==void 0&&d!==c.value){i=`Expected '${s}' field to equal '${c.value}'`;break}}if(i)throw new dt(tt.INVALID_ARGUMENT,i);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w_=-62135596800,C_=1e6;class ne{static now(){return ne.fromMillis(Date.now())}static fromDate(e){return ne.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),s=Math.floor((e-1e3*i)*C_);return new ne(i,s)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new dt(tt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new dt(tt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<w_)throw new dt(tt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new dt(tt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/C_}_compareTo(e){return this.seconds===e.seconds?It(this.nanoseconds,e.nanoseconds):It(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ne._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(mo(e,ne._jsonSchema))return new ne(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-w_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ne._jsonSchemaVersion="firestore/timestamp/1.0",ne._jsonSchema={type:we("string",ne._jsonSchemaVersion),seconds:we("number"),nanoseconds:we("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tt{static fromTimestamp(e){return new Tt(e)}static min(){return new Tt(new ne(0,0))}static max(){return new Tt(new ne(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ao=-1;function BA(r,e){const i=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=Tt.fromTimestamp(s===1e9?new ne(i+1,0):new ne(i,s));return new Ua(o,pt.empty(),e)}function PA(r){return new Ua(r.readTime,r.key,ao)}class Ua{constructor(e,i,s){this.readTime=e,this.documentKey=i,this.largestBatchId=s}static min(){return new Ua(Tt.min(),pt.empty(),ao)}static max(){return new Ua(Tt.max(),pt.empty(),ao)}}function jA(r,e){let i=r.readTime.compareTo(e.readTime);return i!==0?i:(i=pt.comparator(r.documentKey,e.documentKey),i!==0?i:It(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kA="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class qA{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zs(r){if(r.code!==tt.FAILED_PRECONDITION||r.message!==kA)throw r;ut("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&_t(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new W(((s,o)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(s,o)},this.catchCallback=c=>{this.wrapFailure(i,c).next(s,o)}}))}toPromise(){return new Promise(((e,i)=>{this.next(e,i)}))}wrapUserFunction(e){try{const i=e();return i instanceof W?i:W.resolve(i)}catch(i){return W.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction((()=>e(i))):W.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction((()=>e(i))):W.reject(i)}static resolve(e){return new W(((i,s)=>{i(e)}))}static reject(e){return new W(((i,s)=>{s(e)}))}static waitFor(e){return new W(((i,s)=>{let o=0,c=0,d=!1;e.forEach((g=>{++o,g.next((()=>{++c,d&&c===o&&i()}),(_=>s(_)))})),d=!0,c===o&&i()}))}static or(e){let i=W.resolve(!1);for(const s of e)i=i.next((o=>o?W.resolve(o):s()));return i}static forEach(e,i){const s=[];return e.forEach(((o,c)=>{s.push(i.call(this,o,c))})),this.waitFor(s)}static mapArray(e,i){return new W(((s,o)=>{const c=e.length,d=new Array(c);let g=0;for(let _=0;_<c;_++){const p=_;i(e[p]).next((T=>{d[p]=T,++g,g===c&&s(d)}),(T=>o(T)))}}))}static doWhile(e,i){return new W(((s,o)=>{const c=()=>{e()===!0?i().next((()=>{c()}),o):s()};c()}))}}function HA(r){const e=r.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function Bs(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mc{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>i.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Mc.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $d=-1;function Oc(r){return r==null}function _c(r){return r===0&&1/r==-1/0}function GA(r){return typeof r=="number"&&Number.isInteger(r)&&!_c(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jv="";function FA(r){let e="";for(let i=0;i<r.length;i++)e.length>0&&(e=D_(e)),e=QA(r.get(i),e);return D_(e)}function QA(r,e){let i=e;const s=r.length;for(let o=0;o<s;o++){const c=r.charAt(o);switch(c){case"\0":i+="";break;case Jv:i+="";break;default:i+=c}}return i}function D_(r){return r+Jv+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x_(r){let e=0;for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&e++;return e}function ka(r,e){for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&e(i,r[i])}function Wv(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oe{constructor(e,i){this.comparator=e,this.root=i||Ge.EMPTY}insert(e,i){return new oe(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,Ge.BLACK,null,null))}remove(e){return new oe(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ge.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const s=this.comparator(e,i.key);if(s===0)return i.value;s<0?i=i.left:s>0&&(i=i.right)}return null}indexOf(e){let i=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return i+s.left.size;o<0?s=s.left:(i+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((i,s)=>(e(i,s),!1)))}toString(){const e=[];return this.inorderTraversal(((i,s)=>(e.push(`${i}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Zu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Zu(this.root,e,this.comparator,!1)}getReverseIterator(){return new Zu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Zu(this.root,e,this.comparator,!0)}}class Zu{constructor(e,i,s,o){this.isReverse=o,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=i?s(e.key,i):1,i&&o&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ge{constructor(e,i,s,o,c){this.key=e,this.value=i,this.color=s??Ge.RED,this.left=o??Ge.EMPTY,this.right=c??Ge.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,s,o,c){return new Ge(e??this.key,i??this.value,s??this.color,o??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,s){let o=this;const c=s(e,o.key);return o=c<0?o.copy(null,null,null,o.left.insert(e,i,s),null):c===0?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(e,i,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Ge.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let s,o=this;if(i(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,i),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),i(e,o.key)===0){if(o.right.isEmpty())return Ge.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,i))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ge.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ge.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw _t(43730,{key:this.key,value:this.value});if(this.right.isRed())throw _t(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw _t(27949);return e+(this.isRed()?0:1)}}Ge.EMPTY=null,Ge.RED=!0,Ge.BLACK=!1;Ge.EMPTY=new class{constructor(){this.size=0}get key(){throw _t(57766)}get value(){throw _t(16141)}get color(){throw _t(16727)}get left(){throw _t(29726)}get right(){throw _t(36894)}copy(e,i,s,o,c){return this}insert(e,i,s){return new Ge(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ie{constructor(e){this.comparator=e,this.data=new oe(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((i,s)=>(e(i),!1)))}forEachInRange(e,i){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;i(o.key)}}forEachWhile(e,i){let s;for(s=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new N_(this.data.getIterator())}getIteratorFrom(e){return new N_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach((s=>{i=i.add(s)})),i}isEqual(e){if(!(e instanceof Ie)||this.size!==e.size)return!1;const i=this.data.getIterator(),s=e.data.getIterator();for(;i.hasNext();){const o=i.getNext().key,c=s.getNext().key;if(this.comparator(o,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((i=>{e.push(i)})),e}toString(){const e=[];return this.forEach((i=>e.push(i))),"SortedSet("+e.toString()+")"}copy(e){const i=new Ie(this.comparator);return i.data=e,i}}class N_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vn{constructor(e){this.fields=e,e.sort(Fe.comparator)}static empty(){return new vn([])}unionWith(e){let i=new Ie(Fe.comparator);for(const s of this.fields)i=i.add(s);for(const s of e)i=i.add(s);return new vn(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return Ds(this.fields,e.fields,((i,s)=>i.isEqual(s)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t0 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qe{constructor(e){this.binaryString=e}static fromBase64String(e){const i=(function(o){try{return atob(o)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new t0("Invalid base64 string: "+c):c}})(e);return new Qe(i)}static fromUint8Array(e){const i=(function(o){let c="";for(let d=0;d<o.length;++d)c+=String.fromCharCode(o[d]);return c})(e);return new Qe(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const s=new Uint8Array(i.length);for(let o=0;o<i.length;o++)s[o]=i.charCodeAt(o);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return It(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Qe.EMPTY_BYTE_STRING=new Qe("");const YA=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function La(r){if(Ht(!!r,39018),typeof r=="string"){let e=0;const i=YA.exec(r);if(Ht(!!i,46558,{timestamp:r}),i[1]){let o=i[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:ge(r.seconds),nanos:ge(r.nanos)}}function ge(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function za(r){return typeof r=="string"?Qe.fromBase64String(r):Qe.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e0="server_timestamp",n0="__type__",i0="__previous_value__",a0="__local_write_time__";function Zd(r){return(r?.mapValue?.fields||{})[n0]?.stringValue===e0}function Uc(r){const e=r.mapValue.fields[i0];return Zd(e)?Uc(e):e}function ro(r){const e=La(r.mapValue.fields[a0].timestampValue);return new ne(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KA{constructor(e,i,s,o,c,d,g,_,p,T){this.databaseId=e,this.appId=i,this.persistenceKey=s,this.host=o,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=g,this.longPollingOptions=_,this.useFetchStreams=p,this.isUsingEmulator=T}}const vc="(default)";class so{constructor(e,i){this.projectId=e,this.database=i||vc}static empty(){return new so("","")}get isDefaultDatabase(){return this.database===vc}isEqual(e){return e instanceof so&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r0="__type__",XA="__max__",Ju={mapValue:{}},s0="__vector__",Ec="value";function Ba(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Zd(r)?4:ZA(r)?9007199254740991:$A(r)?10:11:_t(28295,{value:r})}function Ti(r,e){if(r===e)return!0;const i=Ba(r);if(i!==Ba(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return ro(r).isEqual(ro(e));case 3:return(function(o,c){if(typeof o.timestampValue=="string"&&typeof c.timestampValue=="string"&&o.timestampValue.length===c.timestampValue.length)return o.timestampValue===c.timestampValue;const d=La(o.timestampValue),g=La(c.timestampValue);return d.seconds===g.seconds&&d.nanos===g.nanos})(r,e);case 5:return r.stringValue===e.stringValue;case 6:return(function(o,c){return za(o.bytesValue).isEqual(za(c.bytesValue))})(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return(function(o,c){return ge(o.geoPointValue.latitude)===ge(c.geoPointValue.latitude)&&ge(o.geoPointValue.longitude)===ge(c.geoPointValue.longitude)})(r,e);case 2:return(function(o,c){if("integerValue"in o&&"integerValue"in c)return ge(o.integerValue)===ge(c.integerValue);if("doubleValue"in o&&"doubleValue"in c){const d=ge(o.doubleValue),g=ge(c.doubleValue);return d===g?_c(d)===_c(g):isNaN(d)&&isNaN(g)}return!1})(r,e);case 9:return Ds(r.arrayValue.values||[],e.arrayValue.values||[],Ti);case 10:case 11:return(function(o,c){const d=o.mapValue.fields||{},g=c.mapValue.fields||{};if(x_(d)!==x_(g))return!1;for(const _ in d)if(d.hasOwnProperty(_)&&(g[_]===void 0||!Ti(d[_],g[_])))return!1;return!0})(r,e);default:return _t(52216,{left:r})}}function lo(r,e){return(r.values||[]).find((i=>Ti(i,e)))!==void 0}function xs(r,e){if(r===e)return 0;const i=Ba(r),s=Ba(e);if(i!==s)return It(i,s);switch(i){case 0:case 9007199254740991:return 0;case 1:return It(r.booleanValue,e.booleanValue);case 2:return(function(c,d){const g=ge(c.integerValue||c.doubleValue),_=ge(d.integerValue||d.doubleValue);return g<_?-1:g>_?1:g===_?0:isNaN(g)?isNaN(_)?0:-1:1})(r,e);case 3:return V_(r.timestampValue,e.timestampValue);case 4:return V_(ro(r),ro(e));case 5:return Td(r.stringValue,e.stringValue);case 6:return(function(c,d){const g=za(c),_=za(d);return g.compareTo(_)})(r.bytesValue,e.bytesValue);case 7:return(function(c,d){const g=c.split("/"),_=d.split("/");for(let p=0;p<g.length&&p<_.length;p++){const T=It(g[p],_[p]);if(T!==0)return T}return It(g.length,_.length)})(r.referenceValue,e.referenceValue);case 8:return(function(c,d){const g=It(ge(c.latitude),ge(d.latitude));return g!==0?g:It(ge(c.longitude),ge(d.longitude))})(r.geoPointValue,e.geoPointValue);case 9:return I_(r.arrayValue,e.arrayValue);case 10:return(function(c,d){const g=c.fields||{},_=d.fields||{},p=g[Ec]?.arrayValue,T=_[Ec]?.arrayValue,b=It(p?.values?.length||0,T?.values?.length||0);return b!==0?b:I_(p,T)})(r.mapValue,e.mapValue);case 11:return(function(c,d){if(c===Ju.mapValue&&d===Ju.mapValue)return 0;if(c===Ju.mapValue)return 1;if(d===Ju.mapValue)return-1;const g=c.fields||{},_=Object.keys(g),p=d.fields||{},T=Object.keys(p);_.sort(),T.sort();for(let b=0;b<_.length&&b<T.length;++b){const x=Td(_[b],T[b]);if(x!==0)return x;const P=xs(g[_[b]],p[T[b]]);if(P!==0)return P}return It(_.length,T.length)})(r.mapValue,e.mapValue);default:throw _t(23264,{he:i})}}function V_(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return It(r,e);const i=La(r),s=La(e),o=It(i.seconds,s.seconds);return o!==0?o:It(i.nanos,s.nanos)}function I_(r,e){const i=r.values||[],s=e.values||[];for(let o=0;o<i.length&&o<s.length;++o){const c=xs(i[o],s[o]);if(c)return c}return It(i.length,s.length)}function Ns(r){return Sd(r)}function Sd(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(i){const s=La(i);return`time(${s.seconds},${s.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(i){return za(i).toBase64()})(r.bytesValue):"referenceValue"in r?(function(i){return pt.fromName(i).toString()})(r.referenceValue):"geoPointValue"in r?(function(i){return`geo(${i.latitude},${i.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(i){let s="[",o=!0;for(const c of i.values||[])o?o=!1:s+=",",s+=Sd(c);return s+"]"})(r.arrayValue):"mapValue"in r?(function(i){const s=Object.keys(i.fields||{}).sort();let o="{",c=!0;for(const d of s)c?c=!1:o+=",",o+=`${d}:${Sd(i.fields[d])}`;return o+"}"})(r.mapValue):_t(61005,{value:r})}function oc(r){switch(Ba(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Uc(r);return e?16+oc(e):16;case 5:return 2*r.stringValue.length;case 6:return za(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((o,c)=>o+oc(c)),0)})(r.arrayValue);case 10:case 11:return(function(s){let o=0;return ka(s.fields,((c,d)=>{o+=c.length+oc(d)})),o})(r.mapValue);default:throw _t(13486,{value:r})}}function bd(r){return!!r&&"integerValue"in r}function Jd(r){return!!r&&"arrayValue"in r}function M_(r){return!!r&&"nullValue"in r}function O_(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function uc(r){return!!r&&"mapValue"in r}function $A(r){return(r?.mapValue?.fields||{})[r0]?.stringValue===s0}function Zl(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const e={mapValue:{fields:{}}};return ka(r.mapValue.fields,((i,s)=>e.mapValue.fields[i]=Zl(s))),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(r.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=Zl(r.arrayValue.values[i]);return e}return{...r}}function ZA(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===XA}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class un{constructor(e){this.value=e}static empty(){return new un({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let s=0;s<e.length-1;++s)if(i=(i.mapValue.fields||{})[e.get(s)],!uc(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=Zl(i)}setAll(e){let i=Fe.emptyPath(),s={},o=[];e.forEach(((d,g)=>{if(!i.isImmediateParentOf(g)){const _=this.getFieldsMap(i);this.applyChanges(_,s,o),s={},o=[],i=g.popLast()}d?s[g.lastSegment()]=Zl(d):o.push(g.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,s,o)}delete(e){const i=this.field(e.popLast());uc(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return Ti(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=i.mapValue.fields[e.get(s)];uc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},i.mapValue.fields[e.get(s)]=o),i=o}return i.mapValue.fields}applyChanges(e,i,s){ka(i,((o,c)=>e[o]=c));for(const o of s)delete e[o]}clone(){return new un(Zl(this.value))}}function l0(r){const e=[];return ka(r.fields,((i,s)=>{const o=new Fe([i]);if(uc(s)){const c=l0(s.mapValue).fields;if(c.length===0)e.push(o);else for(const d of c)e.push(o.child(d))}else e.push(o)})),new vn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $e{constructor(e,i,s,o,c,d,g){this.key=e,this.documentType=i,this.version=s,this.readTime=o,this.createTime=c,this.data=d,this.documentState=g}static newInvalidDocument(e){return new $e(e,0,Tt.min(),Tt.min(),Tt.min(),un.empty(),0)}static newFoundDocument(e,i,s,o){return new $e(e,1,i,Tt.min(),s,o,0)}static newNoDocument(e,i){return new $e(e,2,i,Tt.min(),Tt.min(),un.empty(),0)}static newUnknownDocument(e,i){return new $e(e,3,i,Tt.min(),Tt.min(),un.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(Tt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=un.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=un.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Tt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof $e&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new $e(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tc{constructor(e,i){this.position=e,this.inclusive=i}}function U_(r,e,i){let s=0;for(let o=0;o<r.position.length;o++){const c=e[o],d=r.position[o];if(c.field.isKeyField()?s=pt.comparator(pt.fromName(d.referenceValue),i.key):s=xs(d,i.data.field(c.field)),c.dir==="desc"&&(s*=-1),s!==0)break}return s}function L_(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let i=0;i<r.position.length;i++)if(!Ti(r.position[i],e.position[i]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sc{constructor(e,i="asc"){this.field=e,this.dir=i}}function JA(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o0{}class Ve extends o0{constructor(e,i,s){super(),this.field=e,this.op=i,this.value=s}static create(e,i,s){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,s):new t2(e,i,s):i==="array-contains"?new i2(e,s):i==="in"?new a2(e,s):i==="not-in"?new r2(e,s):i==="array-contains-any"?new s2(e,s):new Ve(e,i,s)}static createKeyFieldInFilter(e,i,s){return i==="in"?new e2(e,s):new n2(e,s)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(xs(i,this.value)):i!==null&&Ba(this.value)===Ba(i)&&this.matchesComparison(xs(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return _t(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Si extends o0{constructor(e,i){super(),this.filters=e,this.op=i,this.Pe=null}static create(e,i){return new Si(e,i)}matches(e){return u0(this)?this.filters.find((i=>!i.matches(e)))===void 0:this.filters.find((i=>i.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,i)=>e.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function u0(r){return r.op==="and"}function c0(r){return WA(r)&&u0(r)}function WA(r){for(const e of r.filters)if(e instanceof Si)return!1;return!0}function Ad(r){if(r instanceof Ve)return r.field.canonicalString()+r.op.toString()+Ns(r.value);if(c0(r))return r.filters.map((e=>Ad(e))).join(",");{const e=r.filters.map((i=>Ad(i))).join(",");return`${r.op}(${e})`}}function h0(r,e){return r instanceof Ve?(function(s,o){return o instanceof Ve&&s.op===o.op&&s.field.isEqual(o.field)&&Ti(s.value,o.value)})(r,e):r instanceof Si?(function(s,o){return o instanceof Si&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce(((c,d,g)=>c&&h0(d,o.filters[g])),!0):!1})(r,e):void _t(19439)}function f0(r){return r instanceof Ve?(function(i){return`${i.field.canonicalString()} ${i.op} ${Ns(i.value)}`})(r):r instanceof Si?(function(i){return i.op.toString()+" {"+i.getFilters().map(f0).join(" ,")+"}"})(r):"Filter"}class t2 extends Ve{constructor(e,i,s){super(e,i,s),this.key=pt.fromName(s.referenceValue)}matches(e){const i=pt.comparator(e.key,this.key);return this.matchesComparison(i)}}class e2 extends Ve{constructor(e,i){super(e,"in",i),this.keys=d0("in",i)}matches(e){return this.keys.some((i=>i.isEqual(e.key)))}}class n2 extends Ve{constructor(e,i){super(e,"not-in",i),this.keys=d0("not-in",i)}matches(e){return!this.keys.some((i=>i.isEqual(e.key)))}}function d0(r,e){return(e.arrayValue?.values||[]).map((i=>pt.fromName(i.referenceValue)))}class i2 extends Ve{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return Jd(i)&&lo(i.arrayValue,this.value)}}class a2 extends Ve{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&lo(this.value.arrayValue,i)}}class r2 extends Ve{constructor(e,i){super(e,"not-in",i)}matches(e){if(lo(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&i.nullValue===void 0&&!lo(this.value.arrayValue,i)}}class s2 extends Ve{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!Jd(i)||!i.arrayValue.values)&&i.arrayValue.values.some((s=>lo(this.value.arrayValue,s)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l2{constructor(e,i=null,s=[],o=[],c=null,d=null,g=null){this.path=e,this.collectionGroup=i,this.orderBy=s,this.filters=o,this.limit=c,this.startAt=d,this.endAt=g,this.Te=null}}function z_(r,e=null,i=[],s=[],o=null,c=null,d=null){return new l2(r,e,i,s,o,c,d)}function Wd(r){const e=bt(r);if(e.Te===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map((s=>Ad(s))).join(","),i+="|ob:",i+=e.orderBy.map((s=>(function(c){return c.field.canonicalString()+c.dir})(s))).join(","),Oc(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map((s=>Ns(s))).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map((s=>Ns(s))).join(",")),e.Te=i}return e.Te}function tm(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<r.orderBy.length;i++)if(!JA(r.orderBy[i],e.orderBy[i]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let i=0;i<r.filters.length;i++)if(!h0(r.filters[i],e.filters[i]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!L_(r.startAt,e.startAt)&&L_(r.endAt,e.endAt)}function Rd(r){return pt.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lc{constructor(e,i=null,s=[],o=[],c=null,d="F",g=null,_=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=s,this.filters=o,this.limit=c,this.limitType=d,this.startAt=g,this.endAt=_,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function o2(r,e,i,s,o,c,d,g){return new Lc(r,e,i,s,o,c,d,g)}function m0(r){return new Lc(r)}function B_(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function u2(r){return r.collectionGroup!==null}function Jl(r){const e=bt(r);if(e.Ie===null){e.Ie=[];const i=new Set;for(const c of e.explicitOrderBy)e.Ie.push(c),i.add(c.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let g=new Ie(Fe.comparator);return d.filters.forEach((_=>{_.getFlattenedFilters().forEach((p=>{p.isInequality()&&(g=g.add(p.field))}))})),g})(e).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||e.Ie.push(new Sc(c,s))})),i.has(Fe.keyField().canonicalString())||e.Ie.push(new Sc(Fe.keyField(),s))}return e.Ie}function pi(r){const e=bt(r);return e.Ee||(e.Ee=c2(e,Jl(r))),e.Ee}function c2(r,e){if(r.limitType==="F")return z_(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map((o=>{const c=o.dir==="desc"?"asc":"desc";return new Sc(o.field,c)}));const i=r.endAt?new Tc(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new Tc(r.startAt.position,r.startAt.inclusive):null;return z_(r.path,r.collectionGroup,e,r.filters,r.limit,i,s)}}function wd(r,e,i){return new Lc(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,i,r.startAt,r.endAt)}function zc(r,e){return tm(pi(r),pi(e))&&r.limitType===e.limitType}function g0(r){return`${Wd(pi(r))}|lt:${r.limitType}`}function vs(r){return`Query(target=${(function(i){let s=i.path.canonicalString();return i.collectionGroup!==null&&(s+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(s+=`, filters: [${i.filters.map((o=>f0(o))).join(", ")}]`),Oc(i.limit)||(s+=", limit: "+i.limit),i.orderBy.length>0&&(s+=`, orderBy: [${i.orderBy.map((o=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(o))).join(", ")}]`),i.startAt&&(s+=", startAt: ",s+=i.startAt.inclusive?"b:":"a:",s+=i.startAt.position.map((o=>Ns(o))).join(",")),i.endAt&&(s+=", endAt: ",s+=i.endAt.inclusive?"a:":"b:",s+=i.endAt.position.map((o=>Ns(o))).join(",")),`Target(${s})`})(pi(r))}; limitType=${r.limitType})`}function Bc(r,e){return e.isFoundDocument()&&(function(s,o){const c=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(c):pt.isDocumentKey(s.path)?s.path.isEqual(c):s.path.isImmediateParentOf(c)})(r,e)&&(function(s,o){for(const c of Jl(s))if(!c.field.isKeyField()&&o.data.field(c.field)===null)return!1;return!0})(r,e)&&(function(s,o){for(const c of s.filters)if(!c.matches(o))return!1;return!0})(r,e)&&(function(s,o){return!(s.startAt&&!(function(d,g,_){const p=U_(d,g,_);return d.inclusive?p<=0:p<0})(s.startAt,Jl(s),o)||s.endAt&&!(function(d,g,_){const p=U_(d,g,_);return d.inclusive?p>=0:p>0})(s.endAt,Jl(s),o))})(r,e)}function h2(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function p0(r){return(e,i)=>{let s=!1;for(const o of Jl(r)){const c=f2(o,e,i);if(c!==0)return c;s=s||o.field.isKeyField()}return 0}}function f2(r,e,i){const s=r.field.isKeyField()?pt.comparator(e.key,i.key):(function(c,d,g){const _=d.data.field(c),p=g.data.field(c);return _!==null&&p!==null?xs(_,p):_t(42886)})(r.field,e,i);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return _t(19790,{direction:r.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wr{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),s=this.inner[i];if(s!==void 0){for(const[o,c]of s)if(this.equalsFn(o,e))return c}}has(e){return this.get(e)!==void 0}set(e,i){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,i]],void this.innerSize++;for(let c=0;c<o.length;c++)if(this.equalsFn(o[c][0],e))return void(o[c]=[e,i]);o.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),s=this.inner[i];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[i]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){ka(this.inner,((i,s)=>{for(const[o,c]of s)e(o,c)}))}isEmpty(){return Wv(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d2=new oe(pt.comparator);function Ki(){return d2}const y0=new oe(pt.comparator);function Kl(...r){let e=y0;for(const i of r)e=e.insert(i.key,i);return e}function _0(r){let e=y0;return r.forEach(((i,s)=>e=e.insert(i,s.overlayedDocument))),e}function Tr(){return Wl()}function v0(){return Wl()}function Wl(){return new wr((r=>r.toString()),((r,e)=>r.isEqual(e)))}const m2=new oe(pt.comparator),g2=new Ie(pt.comparator);function Mt(...r){let e=g2;for(const i of r)e=e.add(i);return e}const p2=new Ie(It);function y2(){return p2}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function em(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:_c(e)?"-0":e}}function E0(r){return{integerValue:""+r}}function _2(r,e){return GA(e)?E0(e):em(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pc{constructor(){this._=void 0}}function v2(r,e,i){return r instanceof bc?(function(o,c){const d={fields:{[n0]:{stringValue:e0},[a0]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return c&&Zd(c)&&(c=Uc(c)),c&&(d.fields[i0]=c),{mapValue:d}})(i,e):r instanceof oo?S0(r,e):r instanceof uo?b0(r,e):(function(o,c){const d=T0(o,c),g=P_(d)+P_(o.Ae);return bd(d)&&bd(o.Ae)?E0(g):em(o.serializer,g)})(r,e)}function E2(r,e,i){return r instanceof oo?S0(r,e):r instanceof uo?b0(r,e):i}function T0(r,e){return r instanceof Ac?(function(s){return bd(s)||(function(c){return!!c&&"doubleValue"in c})(s)})(e)?e:{integerValue:0}:null}class bc extends Pc{}class oo extends Pc{constructor(e){super(),this.elements=e}}function S0(r,e){const i=A0(e);for(const s of r.elements)i.some((o=>Ti(o,s)))||i.push(s);return{arrayValue:{values:i}}}class uo extends Pc{constructor(e){super(),this.elements=e}}function b0(r,e){let i=A0(e);for(const s of r.elements)i=i.filter((o=>!Ti(o,s)));return{arrayValue:{values:i}}}class Ac extends Pc{constructor(e,i){super(),this.serializer=e,this.Ae=i}}function P_(r){return ge(r.integerValue||r.doubleValue)}function A0(r){return Jd(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function T2(r,e){return r.field.isEqual(e.field)&&(function(s,o){return s instanceof oo&&o instanceof oo||s instanceof uo&&o instanceof uo?Ds(s.elements,o.elements,Ti):s instanceof Ac&&o instanceof Ac?Ti(s.Ae,o.Ae):s instanceof bc&&o instanceof bc})(r.transform,e.transform)}class S2{constructor(e,i){this.version=e,this.transformResults=i}}class Qn{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new Qn}static exists(e){return new Qn(void 0,e)}static updateTime(e){return new Qn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function cc(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class jc{}function R0(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new nm(r.key,Qn.none()):new go(r.key,r.data,Qn.none());{const i=r.data,s=un.empty();let o=new Ie(Fe.comparator);for(let c of e.fields)if(!o.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?s.delete(c):s.set(c,d),o=o.add(c)}return new qa(r.key,s,new vn(o.toArray()),Qn.none())}}function b2(r,e,i){r instanceof go?(function(o,c,d){const g=o.value.clone(),_=k_(o.fieldTransforms,c,d.transformResults);g.setAll(_),c.convertToFoundDocument(d.version,g).setHasCommittedMutations()})(r,e,i):r instanceof qa?(function(o,c,d){if(!cc(o.precondition,c))return void c.convertToUnknownDocument(d.version);const g=k_(o.fieldTransforms,c,d.transformResults),_=c.data;_.setAll(w0(o)),_.setAll(g),c.convertToFoundDocument(d.version,_).setHasCommittedMutations()})(r,e,i):(function(o,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,e,i)}function to(r,e,i,s){return r instanceof go?(function(c,d,g,_){if(!cc(c.precondition,d))return g;const p=c.value.clone(),T=q_(c.fieldTransforms,_,d);return p.setAll(T),d.convertToFoundDocument(d.version,p).setHasLocalMutations(),null})(r,e,i,s):r instanceof qa?(function(c,d,g,_){if(!cc(c.precondition,d))return g;const p=q_(c.fieldTransforms,_,d),T=d.data;return T.setAll(w0(c)),T.setAll(p),d.convertToFoundDocument(d.version,T).setHasLocalMutations(),g===null?null:g.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((b=>b.field)))})(r,e,i,s):(function(c,d,g){return cc(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):g})(r,e,i)}function A2(r,e){let i=null;for(const s of r.fieldTransforms){const o=e.data.field(s.field),c=T0(s.transform,o||null);c!=null&&(i===null&&(i=un.empty()),i.set(s.field,c))}return i||null}function j_(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!(function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&Ds(s,o,((c,d)=>T2(c,d)))})(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class go extends jc{constructor(e,i,s,o=[]){super(),this.key=e,this.value=i,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class qa extends jc{constructor(e,i,s,o,c=[]){super(),this.key=e,this.data=i,this.fieldMask=s,this.precondition=o,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function w0(r){const e=new Map;return r.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const s=r.data.field(i);e.set(i,s)}})),e}function k_(r,e,i){const s=new Map;Ht(r.length===i.length,32656,{Re:i.length,Ve:r.length});for(let o=0;o<i.length;o++){const c=r[o],d=c.transform,g=e.data.field(c.field);s.set(c.field,E2(d,g,i[o]))}return s}function q_(r,e,i){const s=new Map;for(const o of r){const c=o.transform,d=i.data.field(o.field);s.set(o.field,v2(c,d,e))}return s}class nm extends jc{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class R2 extends jc{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w2{constructor(e,i,s,o){this.batchId=e,this.localWriteTime=i,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,i){const s=i.mutationResults;for(let o=0;o<this.mutations.length;o++){const c=this.mutations[o];c.key.isEqual(e.key)&&b2(c,e,s[o])}}applyToLocalView(e,i){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(i=to(s,e,i,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(i=to(s,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const s=v0();return this.mutations.forEach((o=>{const c=e.get(o.key),d=c.overlayedDocument;let g=this.applyToLocalView(d,c.mutatedFields);g=i.has(o.key)?null:g;const _=R0(d,g);_!==null&&s.set(o.key,_),d.isValidDocument()||d.convertToNoDocument(Tt.min())})),s}keys(){return this.mutations.reduce(((e,i)=>e.add(i.key)),Mt())}isEqual(e){return this.batchId===e.batchId&&Ds(this.mutations,e.mutations,((i,s)=>j_(i,s)))&&Ds(this.baseMutations,e.baseMutations,((i,s)=>j_(i,s)))}}class im{constructor(e,i,s,o){this.batch=e,this.commitVersion=i,this.mutationResults=s,this.docVersions=o}static from(e,i,s){Ht(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let o=(function(){return m2})();const c=e.mutations;for(let d=0;d<c.length;d++)o=o.insert(c[d].key,s[d].version);return new im(e,i,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C2{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D2{constructor(e,i){this.count=e,this.unchangedNames=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Re,Lt;function x2(r){switch(r){case tt.OK:return _t(64938);case tt.CANCELLED:case tt.UNKNOWN:case tt.DEADLINE_EXCEEDED:case tt.RESOURCE_EXHAUSTED:case tt.INTERNAL:case tt.UNAVAILABLE:case tt.UNAUTHENTICATED:return!1;case tt.INVALID_ARGUMENT:case tt.NOT_FOUND:case tt.ALREADY_EXISTS:case tt.PERMISSION_DENIED:case tt.FAILED_PRECONDITION:case tt.ABORTED:case tt.OUT_OF_RANGE:case tt.UNIMPLEMENTED:case tt.DATA_LOSS:return!0;default:return _t(15467,{code:r})}}function C0(r){if(r===void 0)return Yi("GRPC error has no .code"),tt.UNKNOWN;switch(r){case Re.OK:return tt.OK;case Re.CANCELLED:return tt.CANCELLED;case Re.UNKNOWN:return tt.UNKNOWN;case Re.DEADLINE_EXCEEDED:return tt.DEADLINE_EXCEEDED;case Re.RESOURCE_EXHAUSTED:return tt.RESOURCE_EXHAUSTED;case Re.INTERNAL:return tt.INTERNAL;case Re.UNAVAILABLE:return tt.UNAVAILABLE;case Re.UNAUTHENTICATED:return tt.UNAUTHENTICATED;case Re.INVALID_ARGUMENT:return tt.INVALID_ARGUMENT;case Re.NOT_FOUND:return tt.NOT_FOUND;case Re.ALREADY_EXISTS:return tt.ALREADY_EXISTS;case Re.PERMISSION_DENIED:return tt.PERMISSION_DENIED;case Re.FAILED_PRECONDITION:return tt.FAILED_PRECONDITION;case Re.ABORTED:return tt.ABORTED;case Re.OUT_OF_RANGE:return tt.OUT_OF_RANGE;case Re.UNIMPLEMENTED:return tt.UNIMPLEMENTED;case Re.DATA_LOSS:return tt.DATA_LOSS;default:return _t(39323,{code:r})}}(Lt=Re||(Re={}))[Lt.OK=0]="OK",Lt[Lt.CANCELLED=1]="CANCELLED",Lt[Lt.UNKNOWN=2]="UNKNOWN",Lt[Lt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Lt[Lt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Lt[Lt.NOT_FOUND=5]="NOT_FOUND",Lt[Lt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Lt[Lt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Lt[Lt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Lt[Lt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Lt[Lt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Lt[Lt.ABORTED=10]="ABORTED",Lt[Lt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Lt[Lt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Lt[Lt.INTERNAL=13]="INTERNAL",Lt[Lt.UNAVAILABLE=14]="UNAVAILABLE",Lt[Lt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N2(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V2=new Va([4294967295,4294967295],0);function H_(r){const e=N2().encode(r),i=new qv;return i.update(e),new Uint8Array(i.digest())}function G_(r){const e=new DataView(r.buffer),i=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new Va([i,s],0),new Va([o,c],0)]}class am{constructor(e,i,s){if(this.bitmap=e,this.padding=i,this.hashCount=s,i<0||i>=8)throw new Xl(`Invalid padding: ${i}`);if(s<0)throw new Xl(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Xl(`Invalid hash count: ${s}`);if(e.length===0&&i!==0)throw new Xl(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*e.length-i,this.pe=Va.fromNumber(this.ge)}ye(e,i,s){let o=e.add(i.multiply(Va.fromNumber(s)));return o.compare(V2)===1&&(o=new Va([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const i=H_(e),[s,o]=G_(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(s,o,c);if(!this.we(d))return!1}return!0}static create(e,i,s){const o=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),d=new am(c,o,i);return s.forEach((g=>d.insert(g))),d}insert(e){if(this.ge===0)return;const i=H_(e),[s,o]=G_(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(s,o,c);this.Se(d)}}Se(e){const i=Math.floor(e/8),s=e%8;this.bitmap[i]|=1<<s}}class Xl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kc{constructor(e,i,s,o,c){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,i,s){const o=new Map;return o.set(e,po.createSynthesizedTargetChangeForCurrentChange(e,i,s)),new kc(Tt.min(),o,new oe(It),Ki(),Mt())}}class po{constructor(e,i,s,o,c){this.resumeToken=e,this.current=i,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,i,s){return new po(s,i,Mt(),Mt(),Mt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hc{constructor(e,i,s,o){this.be=e,this.removedTargetIds=i,this.key=s,this.De=o}}class D0{constructor(e,i){this.targetId=e,this.Ce=i}}class x0{constructor(e,i,s=Qe.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=i,this.resumeToken=s,this.cause=o}}class F_{constructor(){this.ve=0,this.Fe=Q_(),this.Me=Qe.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Mt(),i=Mt(),s=Mt();return this.Fe.forEach(((o,c)=>{switch(c){case 0:e=e.add(o);break;case 2:i=i.add(o);break;case 1:s=s.add(o);break;default:_t(38017,{changeType:c})}})),new po(this.Me,this.xe,e,i,s)}qe(){this.Oe=!1,this.Fe=Q_()}Qe(e,i){this.Oe=!0,this.Fe=this.Fe.insert(e,i)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Ht(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class I2{constructor(e){this.Ge=e,this.ze=new Map,this.je=Ki(),this.Je=Wu(),this.He=Wu(),this.Ye=new oe(It)}Ze(e){for(const i of e.be)e.De&&e.De.isFoundDocument()?this.Xe(i,e.De):this.et(i,e.key,e.De);for(const i of e.removedTargetIds)this.et(i,e.key,e.De)}tt(e){this.forEachTarget(e,(i=>{const s=this.nt(i);switch(e.state){case 0:this.rt(i)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(i)&&(this.it(i),s.Le(e.resumeToken));break;default:_t(56790,{state:e.state})}}))}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.ze.forEach(((s,o)=>{this.rt(o)&&i(o)}))}st(e){const i=e.targetId,s=e.Ce.count,o=this.ot(i);if(o){const c=o.target;if(Rd(c))if(s===0){const d=new pt(c.path);this.et(i,d,$e.newNoDocument(d,Tt.min()))}else Ht(s===1,20013,{expectedCount:s});else{const d=this._t(i);if(d!==s){const g=this.ut(e),_=g?this.ct(g,e,d):1;if(_!==0){this.it(i);const p=_===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,p)}}}}}ut(e){const i=e.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:c=0}=i;let d,g;try{d=za(s).toUint8Array()}catch(_){if(_ instanceof t0)return Cs("Decoding the base64 bloom filter in existence filter failed ("+_.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw _}try{g=new am(d,o,c)}catch(_){return Cs(_ instanceof Xl?"BloomFilter error: ":"Applying bloom filter failed: ",_),null}return g.ge===0?null:g}ct(e,i,s){return i.Ce.count===s-this.Pt(e,i.targetId)?0:2}Pt(e,i){const s=this.Ge.getRemoteKeysForTarget(i);let o=0;return s.forEach((c=>{const d=this.Ge.ht(),g=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;e.mightContain(g)||(this.et(i,c,null),o++)})),o}Tt(e){const i=new Map;this.ze.forEach(((c,d)=>{const g=this.ot(d);if(g){if(c.current&&Rd(g.target)){const _=new pt(g.target.path);this.It(_).has(d)||this.Et(d,_)||this.et(d,_,$e.newNoDocument(_,e))}c.Be&&(i.set(d,c.ke()),c.qe())}}));let s=Mt();this.He.forEach(((c,d)=>{let g=!0;d.forEachWhile((_=>{const p=this.ot(_);return!p||p.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)})),g&&(s=s.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(e)));const o=new kc(e,i,this.Ye,this.je,s);return this.je=Ki(),this.Je=Wu(),this.He=Wu(),this.Ye=new oe(It),o}Xe(e,i){if(!this.rt(e))return;const s=this.Et(e,i.key)?2:0;this.nt(e).Qe(i.key,s),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(e)),this.He=this.He.insert(i.key,this.dt(i.key).add(e))}et(e,i,s){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,i)?o.Qe(i,1):o.$e(i),this.He=this.He.insert(i,this.dt(i).delete(e)),this.He=this.He.insert(i,this.dt(i).add(e)),s&&(this.je=this.je.insert(i,s))}removeTarget(e){this.ze.delete(e)}_t(e){const i=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let i=this.ze.get(e);return i||(i=new F_,this.ze.set(e,i)),i}dt(e){let i=this.He.get(e);return i||(i=new Ie(It),this.He=this.He.insert(e,i)),i}It(e){let i=this.Je.get(e);return i||(i=new Ie(It),this.Je=this.Je.insert(e,i)),i}rt(e){const i=this.ot(e)!==null;return i||ut("WatchChangeAggregator","Detected inactive target",e),i}ot(e){const i=this.ze.get(e);return i&&i.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new F_),this.Ge.getRemoteKeysForTarget(e).forEach((i=>{this.et(e,i,null)}))}Et(e,i){return this.Ge.getRemoteKeysForTarget(e).has(i)}}function Wu(){return new oe(pt.comparator)}function Q_(){return new oe(pt.comparator)}const M2={asc:"ASCENDING",desc:"DESCENDING"},O2={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},U2={and:"AND",or:"OR"};class L2{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function Cd(r,e){return r.useProto3Json||Oc(e)?e:{value:e}}function Rc(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function N0(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function z2(r,e){return Rc(r,e.toTimestamp())}function yi(r){return Ht(!!r,49232),Tt.fromTimestamp((function(i){const s=La(i);return new ne(s.seconds,s.nanos)})(r))}function rm(r,e){return Dd(r,e).canonicalString()}function Dd(r,e){const i=(function(o){return new ee(["projects",o.projectId,"databases",o.database])})(r).child("documents");return e===void 0?i:i.child(e)}function V0(r){const e=ee.fromString(r);return Ht(L0(e),10190,{key:e.toString()}),e}function xd(r,e){return rm(r.databaseId,e.path)}function od(r,e){const i=V0(e);if(i.get(1)!==r.databaseId.projectId)throw new dt(tt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+r.databaseId.projectId);if(i.get(3)!==r.databaseId.database)throw new dt(tt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+r.databaseId.database);return new pt(M0(i))}function I0(r,e){return rm(r.databaseId,e)}function B2(r){const e=V0(r);return e.length===4?ee.emptyPath():M0(e)}function Nd(r){return new ee(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function M0(r){return Ht(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function Y_(r,e,i){return{name:xd(r,e),fields:i.value.mapValue.fields}}function P2(r,e){let i;if("targetChange"in e){e.targetChange;const s=(function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:_t(39313,{state:p})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],c=(function(p,T){return p.useProto3Json?(Ht(T===void 0||typeof T=="string",58123),Qe.fromBase64String(T||"")):(Ht(T===void 0||T instanceof Buffer||T instanceof Uint8Array,16193),Qe.fromUint8Array(T||new Uint8Array))})(r,e.targetChange.resumeToken),d=e.targetChange.cause,g=d&&(function(p){const T=p.code===void 0?tt.UNKNOWN:C0(p.code);return new dt(T,p.message||"")})(d);i=new x0(s,o,c,g||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=od(r,s.document.name),c=yi(s.document.updateTime),d=s.document.createTime?yi(s.document.createTime):Tt.min(),g=new un({mapValue:{fields:s.document.fields}}),_=$e.newFoundDocument(o,c,d,g),p=s.targetIds||[],T=s.removedTargetIds||[];i=new hc(p,T,_.key,_)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=od(r,s.document),c=s.readTime?yi(s.readTime):Tt.min(),d=$e.newNoDocument(o,c),g=s.removedTargetIds||[];i=new hc([],g,d.key,d)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=od(r,s.document),c=s.removedTargetIds||[];i=new hc([],c,o,null)}else{if(!("filter"in e))return _t(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:c}=s,d=new D2(o,c),g=s.targetId;i=new D0(g,d)}}return i}function j2(r,e){let i;if(e instanceof go)i={update:Y_(r,e.key,e.value)};else if(e instanceof nm)i={delete:xd(r,e.key)};else if(e instanceof qa)i={update:Y_(r,e.key,e.data),updateMask:X2(e.fieldMask)};else{if(!(e instanceof R2))return _t(16599,{Vt:e.type});i={verify:xd(r,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map((s=>(function(c,d){const g=d.transform;if(g instanceof bc)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof oo)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof uo)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof Ac)return{fieldPath:d.field.canonicalString(),increment:g.Ae};throw _t(20930,{transform:d.transform})})(0,s)))),e.precondition.isNone||(i.currentDocument=(function(o,c){return c.updateTime!==void 0?{updateTime:z2(o,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:_t(27497)})(r,e.precondition)),i}function k2(r,e){return r&&r.length>0?(Ht(e!==void 0,14353),r.map((i=>(function(o,c){let d=o.updateTime?yi(o.updateTime):yi(c);return d.isEqual(Tt.min())&&(d=yi(c)),new S2(d,o.transformResults||[])})(i,e)))):[]}function q2(r,e){return{documents:[I0(r,e.path)]}}function H2(r,e){const i={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),i.structuredQuery.from=[{collectionId:s.lastSegment()}]),i.parent=I0(r,o);const c=(function(p){if(p.length!==0)return U0(Si.create(p,"and"))})(e.filters);c&&(i.structuredQuery.where=c);const d=(function(p){if(p.length!==0)return p.map((T=>(function(x){return{field:Es(x.field),direction:Q2(x.dir)}})(T)))})(e.orderBy);d&&(i.structuredQuery.orderBy=d);const g=Cd(r,e.limit);return g!==null&&(i.structuredQuery.limit=g),e.startAt&&(i.structuredQuery.startAt=(function(p){return{before:p.inclusive,values:p.position}})(e.startAt)),e.endAt&&(i.structuredQuery.endAt=(function(p){return{before:!p.inclusive,values:p.position}})(e.endAt)),{ft:i,parent:o}}function G2(r){let e=B2(r.parent);const i=r.structuredQuery,s=i.from?i.from.length:0;let o=null;if(s>0){Ht(s===1,65062);const T=i.from[0];T.allDescendants?o=T.collectionId:e=e.child(T.collectionId)}let c=[];i.where&&(c=(function(b){const x=O0(b);return x instanceof Si&&c0(x)?x.getFilters():[x]})(i.where));let d=[];i.orderBy&&(d=(function(b){return b.map((x=>(function(K){return new Sc(Ts(K.field),(function(k){switch(k){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(K.direction))})(x)))})(i.orderBy));let g=null;i.limit&&(g=(function(b){let x;return x=typeof b=="object"?b.value:b,Oc(x)?null:x})(i.limit));let _=null;i.startAt&&(_=(function(b){const x=!!b.before,P=b.values||[];return new Tc(P,x)})(i.startAt));let p=null;return i.endAt&&(p=(function(b){const x=!b.before,P=b.values||[];return new Tc(P,x)})(i.endAt)),o2(e,o,d,c,g,"F",_,p)}function F2(r,e){const i=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return _t(28987,{purpose:o})}})(e.purpose);return i==null?null:{"goog-listen-tags":i}}function O0(r){return r.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const s=Ts(i.unaryFilter.field);return Ve.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=Ts(i.unaryFilter.field);return Ve.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=Ts(i.unaryFilter.field);return Ve.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Ts(i.unaryFilter.field);return Ve.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return _t(61313);default:return _t(60726)}})(r):r.fieldFilter!==void 0?(function(i){return Ve.create(Ts(i.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return _t(58110);default:return _t(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(i){return Si.create(i.compositeFilter.filters.map((s=>O0(s))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return _t(1026)}})(i.compositeFilter.op))})(r):_t(30097,{filter:r})}function Q2(r){return M2[r]}function Y2(r){return O2[r]}function K2(r){return U2[r]}function Es(r){return{fieldPath:r.canonicalString()}}function Ts(r){return Fe.fromServerFormat(r.fieldPath)}function U0(r){return r instanceof Ve?(function(i){if(i.op==="=="){if(O_(i.value))return{unaryFilter:{field:Es(i.field),op:"IS_NAN"}};if(M_(i.value))return{unaryFilter:{field:Es(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(O_(i.value))return{unaryFilter:{field:Es(i.field),op:"IS_NOT_NAN"}};if(M_(i.value))return{unaryFilter:{field:Es(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Es(i.field),op:Y2(i.op),value:i.value}}})(r):r instanceof Si?(function(i){const s=i.getFilters().map((o=>U0(o)));return s.length===1?s[0]:{compositeFilter:{op:K2(i.op),filters:s}}})(r):_t(54877,{filter:r})}function X2(r){const e=[];return r.fields.forEach((i=>e.push(i.canonicalString()))),{fieldPaths:e}}function L0(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Da{constructor(e,i,s,o,c=Tt.min(),d=Tt.min(),g=Qe.EMPTY_BYTE_STRING,_=null){this.target=e,this.targetId=i,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=g,this.expectedCount=_}withSequenceNumber(e){return new Da(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new Da(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Da(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Da(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $2{constructor(e){this.yt=e}}function Z2(r){const e=G2({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?wd(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J2{constructor(){this.Cn=new W2}addToCollectionParentIndex(e,i){return this.Cn.add(i),W.resolve()}getCollectionParents(e,i){return W.resolve(this.Cn.getEntries(i))}addFieldIndex(e,i){return W.resolve()}deleteFieldIndex(e,i){return W.resolve()}deleteAllFieldIndexes(e){return W.resolve()}createTargetIndexes(e,i){return W.resolve()}getDocumentsMatchingTarget(e,i){return W.resolve(null)}getIndexType(e,i){return W.resolve(0)}getFieldIndexes(e,i){return W.resolve([])}getNextCollectionGroupToUpdate(e){return W.resolve(null)}getMinOffset(e,i){return W.resolve(Ua.min())}getMinOffsetFromCollectionGroup(e,i){return W.resolve(Ua.min())}updateCollectionGroup(e,i,s){return W.resolve()}updateIndexEntries(e,i){return W.resolve()}}class W2{constructor(){this.index={}}add(e){const i=e.lastSegment(),s=e.popLast(),o=this.index[i]||new Ie(ee.comparator),c=!o.has(s);return this.index[i]=o.add(s),c}has(e){const i=e.lastSegment(),s=e.popLast(),o=this.index[i];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Ie(ee.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},z0=41943040;class on{static withCacheSize(e){return new on(e,on.DEFAULT_COLLECTION_PERCENTILE,on.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */on.DEFAULT_COLLECTION_PERCENTILE=10,on.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,on.DEFAULT=new on(z0,on.DEFAULT_COLLECTION_PERCENTILE,on.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),on.DISABLED=new on(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vs{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Vs(0)}static cr(){return new Vs(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X_="LruGarbageCollector",tR=1048576;function $_([r,e],[i,s]){const o=It(r,i);return o===0?It(e,s):o}class eR{constructor(e){this.Ir=e,this.buffer=new Ie($_),this.Er=0}dr(){return++this.Er}Ar(e){const i=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const s=this.buffer.last();$_(i,s)<0&&(this.buffer=this.buffer.delete(s).add(i))}}get maxValue(){return this.buffer.last()[0]}}class nR{constructor(e,i,s){this.garbageCollector=e,this.asyncQueue=i,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ut(X_,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){Bs(i)?ut(X_,"Ignoring IndexedDB error during garbage collection: ",i):await zs(i)}await this.Vr(3e5)}))}}class iR{constructor(e,i){this.mr=e,this.params=i}calculateTargetCount(e,i){return this.mr.gr(e).next((s=>Math.floor(i/100*s)))}nthSequenceNumber(e,i){if(i===0)return W.resolve(Mc.ce);const s=new eR(i);return this.mr.forEachTarget(e,(o=>s.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>s.Ar(o))))).next((()=>s.maxValue))}removeTargets(e,i,s){return this.mr.removeTargets(e,i,s)}removeOrphanedDocuments(e,i){return this.mr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(ut("LruGarbageCollector","Garbage collection skipped; disabled"),W.resolve(K_)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(ut("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),K_):this.yr(e,i)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,i){let s,o,c,d,g,_,p;const T=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((b=>(b>this.params.maximumSequenceNumbersToCollect?(ut("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),o=this.params.maximumSequenceNumbersToCollect):o=b,d=Date.now(),this.nthSequenceNumber(e,o)))).next((b=>(s=b,g=Date.now(),this.removeTargets(e,s,i)))).next((b=>(c=b,_=Date.now(),this.removeOrphanedDocuments(e,s)))).next((b=>(p=Date.now(),_s()<=zt.DEBUG&&ut("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-T}ms
	Determined least recently used ${o} in `+(g-d)+`ms
	Removed ${c} targets in `+(_-g)+`ms
	Removed ${b} documents in `+(p-_)+`ms
Total Duration: ${p-T}ms`),W.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:c,documentsRemoved:b}))))}}function aR(r,e){return new iR(r,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rR{constructor(){this.changes=new wr((e=>e.toString()),((e,i)=>e.isEqual(i))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,$e.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const s=this.changes.get(i);return s!==void 0?W.resolve(s):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sR{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lR{constructor(e,i,s,o){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,i){let s=null;return this.documentOverlayCache.getOverlay(e,i).next((o=>(s=o,this.remoteDocumentCache.getEntry(e,i)))).next((o=>(s!==null&&to(s.mutation,o,vn.empty(),ne.now()),o)))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next((s=>this.getLocalViewOfDocuments(e,s,Mt()).next((()=>s))))}getLocalViewOfDocuments(e,i,s=Mt()){const o=Tr();return this.populateOverlays(e,o,i).next((()=>this.computeViews(e,i,o,s).next((c=>{let d=Kl();return c.forEach(((g,_)=>{d=d.insert(g,_.overlayedDocument)})),d}))))}getOverlayedDocuments(e,i){const s=Tr();return this.populateOverlays(e,s,i).next((()=>this.computeViews(e,i,s,Mt())))}populateOverlays(e,i,s){const o=[];return s.forEach((c=>{i.has(c)||o.push(c)})),this.documentOverlayCache.getOverlays(e,o).next((c=>{c.forEach(((d,g)=>{i.set(d,g)}))}))}computeViews(e,i,s,o){let c=Ki();const d=Wl(),g=(function(){return Wl()})();return i.forEach(((_,p)=>{const T=s.get(p.key);o.has(p.key)&&(T===void 0||T.mutation instanceof qa)?c=c.insert(p.key,p):T!==void 0?(d.set(p.key,T.mutation.getFieldMask()),to(T.mutation,p,T.mutation.getFieldMask(),ne.now())):d.set(p.key,vn.empty())})),this.recalculateAndSaveOverlays(e,c).next((_=>(_.forEach(((p,T)=>d.set(p,T))),i.forEach(((p,T)=>g.set(p,new sR(T,d.get(p)??null)))),g)))}recalculateAndSaveOverlays(e,i){const s=Wl();let o=new oe(((d,g)=>d-g)),c=Mt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next((d=>{for(const g of d)g.keys().forEach((_=>{const p=i.get(_);if(p===null)return;let T=s.get(_)||vn.empty();T=g.applyToLocalView(p,T),s.set(_,T);const b=(o.get(g.batchId)||Mt()).add(_);o=o.insert(g.batchId,b)}))})).next((()=>{const d=[],g=o.getReverseIterator();for(;g.hasNext();){const _=g.getNext(),p=_.key,T=_.value,b=v0();T.forEach((x=>{if(!c.has(x)){const P=R0(i.get(x),s.get(x));P!==null&&b.set(x,P),c=c.add(x)}})),d.push(this.documentOverlayCache.saveOverlays(e,p,b))}return W.waitFor(d)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,i,s,o){return(function(d){return pt.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):u2(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,s,o):this.getDocumentsMatchingCollectionQuery(e,i,s,o)}getNextDocuments(e,i,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,s,o).next((c=>{const d=o-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,s.largestBatchId,o-c.size):W.resolve(Tr());let g=ao,_=c;return d.next((p=>W.forEach(p,((T,b)=>(g<b.largestBatchId&&(g=b.largestBatchId),c.get(T)?W.resolve():this.remoteDocumentCache.getEntry(e,T).next((x=>{_=_.insert(T,x)}))))).next((()=>this.populateOverlays(e,p,c))).next((()=>this.computeViews(e,_,p,Mt()))).next((T=>({batchId:g,changes:_0(T)})))))}))}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new pt(i)).next((s=>{let o=Kl();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(e,i,s,o){const c=i.collectionGroup;let d=Kl();return this.indexManager.getCollectionParents(e,c).next((g=>W.forEach(g,(_=>{const p=(function(b,x){return new Lc(x,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)})(i,_.child(c));return this.getDocumentsMatchingCollectionQuery(e,p,s,o).next((T=>{T.forEach(((b,x)=>{d=d.insert(b,x)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(e,i,s,o){let c;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,s.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,s,c,o)))).next((d=>{c.forEach(((_,p)=>{const T=p.getKey();d.get(T)===null&&(d=d.insert(T,$e.newInvalidDocument(T)))}));let g=Kl();return d.forEach(((_,p)=>{const T=c.get(_);T!==void 0&&to(T.mutation,p,vn.empty(),ne.now()),Bc(i,p)&&(g=g.insert(_,p))})),g}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oR{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,i){return W.resolve(this.Lr.get(i))}saveBundleMetadata(e,i){return this.Lr.set(i.id,(function(o){return{id:o.id,version:o.version,createTime:yi(o.createTime)}})(i)),W.resolve()}getNamedQuery(e,i){return W.resolve(this.kr.get(i))}saveNamedQuery(e,i){return this.kr.set(i.name,(function(o){return{name:o.name,query:Z2(o.bundledQuery),readTime:yi(o.readTime)}})(i)),W.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uR{constructor(){this.overlays=new oe(pt.comparator),this.qr=new Map}getOverlay(e,i){return W.resolve(this.overlays.get(i))}getOverlays(e,i){const s=Tr();return W.forEach(i,(o=>this.getOverlay(e,o).next((c=>{c!==null&&s.set(o,c)})))).next((()=>s))}saveOverlays(e,i,s){return s.forEach(((o,c)=>{this.St(e,i,c)})),W.resolve()}removeOverlaysForBatchId(e,i,s){const o=this.qr.get(s);return o!==void 0&&(o.forEach((c=>this.overlays=this.overlays.remove(c))),this.qr.delete(s)),W.resolve()}getOverlaysForCollection(e,i,s){const o=Tr(),c=i.length+1,d=new pt(i.child("")),g=this.overlays.getIteratorFrom(d);for(;g.hasNext();){const _=g.getNext().value,p=_.getKey();if(!i.isPrefixOf(p.path))break;p.path.length===c&&_.largestBatchId>s&&o.set(_.getKey(),_)}return W.resolve(o)}getOverlaysForCollectionGroup(e,i,s,o){let c=new oe(((p,T)=>p-T));const d=this.overlays.getIterator();for(;d.hasNext();){const p=d.getNext().value;if(p.getKey().getCollectionGroup()===i&&p.largestBatchId>s){let T=c.get(p.largestBatchId);T===null&&(T=Tr(),c=c.insert(p.largestBatchId,T)),T.set(p.getKey(),p)}}const g=Tr(),_=c.getIterator();for(;_.hasNext()&&(_.getNext().value.forEach(((p,T)=>g.set(p,T))),!(g.size()>=o)););return W.resolve(g)}St(e,i,s){const o=this.overlays.get(s.key);if(o!==null){const d=this.qr.get(o.largestBatchId).delete(s.key);this.qr.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(s.key,new C2(i,s));let c=this.qr.get(i);c===void 0&&(c=Mt(),this.qr.set(i,c)),this.qr.set(i,c.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cR{constructor(){this.sessionToken=Qe.EMPTY_BYTE_STRING}getSessionToken(e){return W.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,W.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sm{constructor(){this.Qr=new Ie(Le.$r),this.Ur=new Ie(Le.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,i){const s=new Le(e,i);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,i){e.forEach((s=>this.addReference(s,i)))}removeReference(e,i){this.Gr(new Le(e,i))}zr(e,i){e.forEach((s=>this.removeReference(s,i)))}jr(e){const i=new pt(new ee([])),s=new Le(i,e),o=new Le(i,e+1),c=[];return this.Ur.forEachInRange([s,o],(d=>{this.Gr(d),c.push(d.key)})),c}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const i=new pt(new ee([])),s=new Le(i,e),o=new Le(i,e+1);let c=Mt();return this.Ur.forEachInRange([s,o],(d=>{c=c.add(d.key)})),c}containsKey(e){const i=new Le(e,0),s=this.Qr.firstAfterOrEqual(i);return s!==null&&e.isEqual(s.key)}}class Le{constructor(e,i){this.key=e,this.Yr=i}static $r(e,i){return pt.comparator(e.key,i.key)||It(e.Yr,i.Yr)}static Kr(e,i){return It(e.Yr,i.Yr)||pt.comparator(e.key,i.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hR{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new Ie(Le.$r)}checkEmpty(e){return W.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,s,o){const c=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new w2(c,i,s,o);this.mutationQueue.push(d);for(const g of o)this.Zr=this.Zr.add(new Le(g.key,c)),this.indexManager.addToCollectionParentIndex(e,g.key.path.popLast());return W.resolve(d)}lookupMutationBatch(e,i){return W.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(e,i){const s=i+1,o=this.ei(s),c=o<0?0:o;return W.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return W.resolve(this.mutationQueue.length===0?$d:this.tr-1)}getAllMutationBatches(e){return W.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const s=new Le(i,0),o=new Le(i,Number.POSITIVE_INFINITY),c=[];return this.Zr.forEachInRange([s,o],(d=>{const g=this.Xr(d.Yr);c.push(g)})),W.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,i){let s=new Ie(It);return i.forEach((o=>{const c=new Le(o,0),d=new Le(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([c,d],(g=>{s=s.add(g.Yr)}))})),W.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,i){const s=i.path,o=s.length+1;let c=s;pt.isDocumentKey(c)||(c=c.child(""));const d=new Le(new pt(c),0);let g=new Ie(It);return this.Zr.forEachWhile((_=>{const p=_.key.path;return!!s.isPrefixOf(p)&&(p.length===o&&(g=g.add(_.Yr)),!0)}),d),W.resolve(this.ti(g))}ti(e){const i=[];return e.forEach((s=>{const o=this.Xr(s);o!==null&&i.push(o)})),i}removeMutationBatch(e,i){Ht(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return W.forEach(i.mutations,(o=>{const c=new Le(o.key,i.batchId);return s=s.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=s}))}ir(e){}containsKey(e,i){const s=new Le(i,0),o=this.Zr.firstAfterOrEqual(s);return W.resolve(i.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,W.resolve()}ni(e,i){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const i=this.ei(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fR{constructor(e){this.ri=e,this.docs=(function(){return new oe(pt.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const s=i.key,o=this.docs.get(s),c=o?o.size:0,d=this.ri(i);return this.docs=this.docs.insert(s,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const s=this.docs.get(i);return W.resolve(s?s.document.mutableCopy():$e.newInvalidDocument(i))}getEntries(e,i){let s=Ki();return i.forEach((o=>{const c=this.docs.get(o);s=s.insert(o,c?c.document.mutableCopy():$e.newInvalidDocument(o))})),W.resolve(s)}getDocumentsMatchingQuery(e,i,s,o){let c=Ki();const d=i.path,g=new pt(d.child("__id-9223372036854775808__")),_=this.docs.getIteratorFrom(g);for(;_.hasNext();){const{key:p,value:{document:T}}=_.getNext();if(!d.isPrefixOf(p.path))break;p.path.length>d.length+1||jA(PA(T),s)<=0||(o.has(T.key)||Bc(i,T))&&(c=c.insert(T.key,T.mutableCopy()))}return W.resolve(c)}getAllFromCollectionGroup(e,i,s,o){_t(9500)}ii(e,i){return W.forEach(this.docs,(s=>i(s)))}newChangeBuffer(e){return new dR(this)}getSize(e){return W.resolve(this.size)}}class dR extends rR{constructor(e){super(),this.Nr=e}applyChanges(e){const i=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?i.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(s)})),W.waitFor(i)}getFromCache(e,i){return this.Nr.getEntry(e,i)}getAllFromCache(e,i){return this.Nr.getEntries(e,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mR{constructor(e){this.persistence=e,this.si=new wr((i=>Wd(i)),tm),this.lastRemoteSnapshotVersion=Tt.min(),this.highestTargetId=0,this.oi=0,this._i=new sm,this.targetCount=0,this.ai=Vs.ur()}forEachTarget(e,i){return this.si.forEach(((s,o)=>i(o))),W.resolve()}getLastRemoteSnapshotVersion(e){return W.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return W.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),W.resolve(this.highestTargetId)}setTargetsMetadata(e,i,s){return s&&(this.lastRemoteSnapshotVersion=s),i>this.oi&&(this.oi=i),W.resolve()}Pr(e){this.si.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.ai=new Vs(i),this.highestTargetId=i),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,i){return this.Pr(i),this.targetCount+=1,W.resolve()}updateTargetData(e,i){return this.Pr(i),W.resolve()}removeTargetData(e,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,W.resolve()}removeTargets(e,i,s){let o=0;const c=[];return this.si.forEach(((d,g)=>{g.sequenceNumber<=i&&s.get(g.targetId)===null&&(this.si.delete(d),c.push(this.removeMatchingKeysForTargetId(e,g.targetId)),o++)})),W.waitFor(c).next((()=>o))}getTargetCount(e){return W.resolve(this.targetCount)}getTargetData(e,i){const s=this.si.get(i)||null;return W.resolve(s)}addMatchingKeys(e,i,s){return this._i.Wr(i,s),W.resolve()}removeMatchingKeys(e,i,s){this._i.zr(i,s);const o=this.persistence.referenceDelegate,c=[];return o&&i.forEach((d=>{c.push(o.markPotentiallyOrphaned(e,d))})),W.waitFor(c)}removeMatchingKeysForTargetId(e,i){return this._i.jr(i),W.resolve()}getMatchingKeysForTargetId(e,i){const s=this._i.Hr(i);return W.resolve(s)}containsKey(e,i){return W.resolve(this._i.containsKey(i))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B0{constructor(e,i){this.ui={},this.overlays={},this.ci=new Mc(0),this.li=!1,this.li=!0,this.hi=new cR,this.referenceDelegate=e(this),this.Pi=new mR(this),this.indexManager=new J2,this.remoteDocumentCache=(function(o){return new fR(o)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new $2(i),this.Ii=new oR(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new uR,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let s=this.ui[e.toKey()];return s||(s=new hR(i,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,i,s){ut("MemoryPersistence","Starting transaction:",e);const o=new gR(this.ci.next());return this.referenceDelegate.Ei(),s(o).next((c=>this.referenceDelegate.di(o).next((()=>c)))).toPromise().then((c=>(o.raiseOnCommittedEvent(),c)))}Ai(e,i){return W.or(Object.values(this.ui).map((s=>()=>s.containsKey(e,i))))}}class gR extends qA{constructor(e){super(),this.currentSequenceNumber=e}}class lm{constructor(e){this.persistence=e,this.Ri=new sm,this.Vi=null}static mi(e){return new lm(e)}get fi(){if(this.Vi)return this.Vi;throw _t(60996)}addReference(e,i,s){return this.Ri.addReference(s,i),this.fi.delete(s.toString()),W.resolve()}removeReference(e,i,s){return this.Ri.removeReference(s,i),this.fi.add(s.toString()),W.resolve()}markPotentiallyOrphaned(e,i){return this.fi.add(i.toString()),W.resolve()}removeTarget(e,i){this.Ri.jr(i.targetId).forEach((o=>this.fi.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,i.targetId).next((o=>{o.forEach((c=>this.fi.add(c.toString())))})).next((()=>s.removeTargetData(e,i)))}Ei(){this.Vi=new Set}di(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return W.forEach(this.fi,(s=>{const o=pt.fromPath(s);return this.gi(e,o).next((c=>{c||i.removeEntry(o,Tt.min())}))})).next((()=>(this.Vi=null,i.apply(e))))}updateLimboDocument(e,i){return this.gi(e,i).next((s=>{s?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(e){return 0}gi(e,i){return W.or([()=>W.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Ai(e,i)])}}class wc{constructor(e,i){this.persistence=e,this.pi=new wr((s=>FA(s.path)),((s,o)=>s.isEqual(o))),this.garbageCollector=aR(this,i)}static mi(e,i){return new wc(e,i)}Ei(){}di(e){return W.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}gr(e){const i=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>i.next((o=>s+o))))}wr(e){let i=0;return this.pr(e,(s=>{i++})).next((()=>i))}pr(e,i){return W.forEach(this.pi,((s,o)=>this.br(e,s,o).next((c=>c?W.resolve():i(o)))))}removeTargets(e,i,s){return this.persistence.getTargetCache().removeTargets(e,i,s)}removeOrphanedDocuments(e,i){let s=0;const o=this.persistence.getRemoteDocumentCache(),c=o.newChangeBuffer();return o.ii(e,(d=>this.br(e,d,i).next((g=>{g||(s++,c.removeEntry(d,Tt.min()))})))).next((()=>c.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,i){return this.pi.set(i,e.currentSequenceNumber),W.resolve()}removeTarget(e,i){const s=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,i,s){return this.pi.set(s,e.currentSequenceNumber),W.resolve()}removeReference(e,i,s){return this.pi.set(s,e.currentSequenceNumber),W.resolve()}updateLimboDocument(e,i){return this.pi.set(i,e.currentSequenceNumber),W.resolve()}Ti(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=oc(e.data.value)),i}br(e,i,s){return W.or([()=>this.persistence.Ai(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const o=this.pi.get(i);return W.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class om{constructor(e,i,s,o){this.targetId=e,this.fromCache=i,this.Es=s,this.ds=o}static As(e,i){let s=Mt(),o=Mt();for(const c of i.docChanges)switch(c.type){case 0:s=s.add(c.doc.key);break;case 1:o=o.add(c.doc.key)}return new om(e,i.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pR{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yR{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return lb()?8:HA(rb())>0?6:4})()}initialize(e,i){this.ps=e,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(e,i,s,o){const c={result:null};return this.ys(e,i).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ws(e,i,o,s).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new pR;return this.Ss(e,i,d).next((g=>{if(c.result=g,this.Vs)return this.bs(e,i,d,g.size)}))})).next((()=>c.result))}bs(e,i,s,o){return s.documentReadCount<this.fs?(_s()<=zt.DEBUG&&ut("QueryEngine","SDK will not create cache indexes for query:",vs(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),W.resolve()):(_s()<=zt.DEBUG&&ut("QueryEngine","Query:",vs(i),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.gs*o?(_s()<=zt.DEBUG&&ut("QueryEngine","The SDK decides to create cache indexes for query:",vs(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,pi(i))):W.resolve())}ys(e,i){if(B_(i))return W.resolve(null);let s=pi(i);return this.indexManager.getIndexType(e,s).next((o=>o===0?null:(i.limit!==null&&o===1&&(i=wd(i,null,"F"),s=pi(i)),this.indexManager.getDocumentsMatchingTarget(e,s).next((c=>{const d=Mt(...c);return this.ps.getDocuments(e,d).next((g=>this.indexManager.getMinOffset(e,s).next((_=>{const p=this.Ds(i,g);return this.Cs(i,p,d,_.readTime)?this.ys(e,wd(i,null,"F")):this.vs(e,p,i,_)}))))})))))}ws(e,i,s,o){return B_(i)||o.isEqual(Tt.min())?W.resolve(null):this.ps.getDocuments(e,s).next((c=>{const d=this.Ds(i,c);return this.Cs(i,d,s,o)?W.resolve(null):(_s()<=zt.DEBUG&&ut("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),vs(i)),this.vs(e,d,i,BA(o,ao)).next((g=>g)))}))}Ds(e,i){let s=new Ie(p0(e));return i.forEach(((o,c)=>{Bc(e,c)&&(s=s.add(c))})),s}Cs(e,i,s,o){if(e.limit===null)return!1;if(s.size!==i.size)return!0;const c=e.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(o)>0)}Ss(e,i,s){return _s()<=zt.DEBUG&&ut("QueryEngine","Using full collection scan to execute query:",vs(i)),this.ps.getDocumentsMatchingQuery(e,i,Ua.min(),s)}vs(e,i,s,o){return this.ps.getDocumentsMatchingQuery(e,s,o).next((c=>(i.forEach((d=>{c=c.insert(d.key,d)})),c)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const um="LocalStore",_R=3e8;class vR{constructor(e,i,s,o){this.persistence=e,this.Fs=i,this.serializer=o,this.Ms=new oe(It),this.xs=new wr((c=>Wd(c)),tm),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new lR(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>e.collect(i,this.Ms)))}}function ER(r,e,i,s){return new vR(r,e,i,s)}async function P0(r,e){const i=bt(r);return await i.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return i.mutationQueue.getAllMutationBatches(s).next((c=>(o=c,i.Bs(e),i.mutationQueue.getAllMutationBatches(s)))).next((c=>{const d=[],g=[];let _=Mt();for(const p of o){d.push(p.batchId);for(const T of p.mutations)_=_.add(T.key)}for(const p of c){g.push(p.batchId);for(const T of p.mutations)_=_.add(T.key)}return i.localDocuments.getDocuments(s,_).next((p=>({Ls:p,removedBatchIds:d,addedBatchIds:g})))}))}))}function TR(r,e){const i=bt(r);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const o=e.batch.keys(),c=i.Ns.newChangeBuffer({trackRemovals:!0});return(function(g,_,p,T){const b=p.batch,x=b.keys();let P=W.resolve();return x.forEach((K=>{P=P.next((()=>T.getEntry(_,K))).next((F=>{const k=p.docVersions.get(K);Ht(k!==null,48541),F.version.compareTo(k)<0&&(b.applyToRemoteDocument(F,p),F.isValidDocument()&&(F.setReadTime(p.commitVersion),T.addEntry(F)))}))})),P.next((()=>g.mutationQueue.removeMutationBatch(_,b)))})(i,s,e,c).next((()=>c.apply(s))).next((()=>i.mutationQueue.performConsistencyCheck(s))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(g){let _=Mt();for(let p=0;p<g.mutationResults.length;++p)g.mutationResults[p].transformResults.length>0&&(_=_.add(g.batch.mutations[p].key));return _})(e)))).next((()=>i.localDocuments.getDocuments(s,o)))}))}function j0(r){const e=bt(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>e.Pi.getLastRemoteSnapshotVersion(i)))}function SR(r,e){const i=bt(r),s=e.snapshotVersion;let o=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=i.Ns.newChangeBuffer({trackRemovals:!0});o=i.Ms;const g=[];e.targetChanges.forEach(((T,b)=>{const x=o.get(b);if(!x)return;g.push(i.Pi.removeMatchingKeys(c,T.removedDocuments,b).next((()=>i.Pi.addMatchingKeys(c,T.addedDocuments,b))));let P=x.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(b)!==null?P=P.withResumeToken(Qe.EMPTY_BYTE_STRING,Tt.min()).withLastLimboFreeSnapshotVersion(Tt.min()):T.resumeToken.approximateByteSize()>0&&(P=P.withResumeToken(T.resumeToken,s)),o=o.insert(b,P),(function(F,k,et){return F.resumeToken.approximateByteSize()===0||k.snapshotVersion.toMicroseconds()-F.snapshotVersion.toMicroseconds()>=_R?!0:et.addedDocuments.size+et.modifiedDocuments.size+et.removedDocuments.size>0})(x,P,T)&&g.push(i.Pi.updateTargetData(c,P))}));let _=Ki(),p=Mt();if(e.documentUpdates.forEach((T=>{e.resolvedLimboDocuments.has(T)&&g.push(i.persistence.referenceDelegate.updateLimboDocument(c,T))})),g.push(bR(c,d,e.documentUpdates).next((T=>{_=T.ks,p=T.qs}))),!s.isEqual(Tt.min())){const T=i.Pi.getLastRemoteSnapshotVersion(c).next((b=>i.Pi.setTargetsMetadata(c,c.currentSequenceNumber,s)));g.push(T)}return W.waitFor(g).next((()=>d.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,_,p))).next((()=>_))})).then((c=>(i.Ms=o,c)))}function bR(r,e,i){let s=Mt(),o=Mt();return i.forEach((c=>s=s.add(c))),e.getEntries(r,s).next((c=>{let d=Ki();return i.forEach(((g,_)=>{const p=c.get(g);_.isFoundDocument()!==p.isFoundDocument()&&(o=o.add(g)),_.isNoDocument()&&_.version.isEqual(Tt.min())?(e.removeEntry(g,_.readTime),d=d.insert(g,_)):!p.isValidDocument()||_.version.compareTo(p.version)>0||_.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(_),d=d.insert(g,_)):ut(um,"Ignoring outdated watch update for ",g,". Current version:",p.version," Watch version:",_.version)})),{ks:d,qs:o}}))}function AR(r,e){const i=bt(r);return i.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=$d),i.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function RR(r,e){const i=bt(r);return i.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return i.Pi.getTargetData(s,e).next((c=>c?(o=c,W.resolve(o)):i.Pi.allocateTargetId(s).next((d=>(o=new Da(e,d,"TargetPurposeListen",s.currentSequenceNumber),i.Pi.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=i.Ms.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(s.targetId,s),i.xs.set(e,s.targetId)),s}))}async function Vd(r,e,i){const s=bt(r),o=s.Ms.get(e),c=i?"readwrite":"readwrite-primary";try{i||await s.persistence.runTransaction("Release target",c,(d=>s.persistence.referenceDelegate.removeTarget(d,o)))}catch(d){if(!Bs(d))throw d;ut(um,`Failed to update sequence numbers for target ${e}: ${d}`)}s.Ms=s.Ms.remove(e),s.xs.delete(o.target)}function Z_(r,e,i){const s=bt(r);let o=Tt.min(),c=Mt();return s.persistence.runTransaction("Execute query","readwrite",(d=>(function(_,p,T){const b=bt(_),x=b.xs.get(T);return x!==void 0?W.resolve(b.Ms.get(x)):b.Pi.getTargetData(p,T)})(s,d,pi(e)).next((g=>{if(g)return o=g.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(d,g.targetId).next((_=>{c=_}))})).next((()=>s.Fs.getDocumentsMatchingQuery(d,e,i?o:Tt.min(),i?c:Mt()))).next((g=>(wR(s,h2(e),g),{documents:g,Qs:c})))))}function wR(r,e,i){let s=r.Os.get(e)||Tt.min();i.forEach(((o,c)=>{c.readTime.compareTo(s)>0&&(s=c.readTime)})),r.Os.set(e,s)}class J_{constructor(){this.activeTargetIds=y2()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class CR{constructor(){this.Mo=new J_,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,s){}addLocalQueryTarget(e,i=!0){return i&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,i,s){this.xo[e]=i}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new J_,Promise.resolve()}handleUserChange(e,i,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DR{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W_="ConnectivityMonitor";class tv{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ut(W_,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ut(W_,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let tc=null;function Id(){return tc===null?tc=(function(){return 268435456+Math.round(2147483648*Math.random())})():tc++,"0x"+tc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ud="RestConnection",xR={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class NR{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+e.host,this.Ko=`projects/${s}/databases/${o}`,this.Wo=this.databaseId.database===vc?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Go(e,i,s,o,c){const d=Id(),g=this.zo(e,i.toUriEncodedString());ut(ud,`Sending RPC '${e}' ${d}:`,g,s);const _={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(_,o,c);const{host:p}=new URL(g),T=Fd(p);return this.Jo(e,g,_,s,T).then((b=>(ut(ud,`Received RPC '${e}' ${d}: `,b),b)),(b=>{throw Cs(ud,`RPC '${e}' ${d} failed with error: `,b,"url: ",g,"request:",s),b}))}Ho(e,i,s,o,c,d){return this.Go(e,i,s,o,c)}jo(e,i,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Ls})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((o,c)=>e[c]=o)),s&&s.headers.forEach(((o,c)=>e[c]=o))}zo(e,i){const s=xR[e];return`${this.Uo}/v1/${i}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VR{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ke="WebChannelConnection";class IR extends NR{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,i,s,o,c){const d=Id();return new Promise(((g,_)=>{const p=new Hv;p.setWithCredentials(!0),p.listenOnce(Gv.COMPLETE,(()=>{try{switch(p.getLastErrorCode()){case lc.NO_ERROR:const b=p.getResponseJson();ut(Ke,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(b)),g(b);break;case lc.TIMEOUT:ut(Ke,`RPC '${e}' ${d} timed out`),_(new dt(tt.DEADLINE_EXCEEDED,"Request time out"));break;case lc.HTTP_ERROR:const x=p.getStatus();if(ut(Ke,`RPC '${e}' ${d} failed with status:`,x,"response text:",p.getResponseText()),x>0){let P=p.getResponseJson();Array.isArray(P)&&(P=P[0]);const K=P?.error;if(K&&K.status&&K.message){const F=(function(et){const nt=et.toLowerCase().replace(/_/g,"-");return Object.values(tt).indexOf(nt)>=0?nt:tt.UNKNOWN})(K.status);_(new dt(F,K.message))}else _(new dt(tt.UNKNOWN,"Server responded with status "+p.getStatus()))}else _(new dt(tt.UNAVAILABLE,"Connection failed."));break;default:_t(9055,{l_:e,streamId:d,h_:p.getLastErrorCode(),P_:p.getLastError()})}}finally{ut(Ke,`RPC '${e}' ${d} completed.`)}}));const T=JSON.stringify(o);ut(Ke,`RPC '${e}' ${d} sending request:`,o),p.send(i,"POST",T,s,15)}))}T_(e,i,s){const o=Id(),c=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=Yv(),g=Qv(),_={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(_.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(_.useFetchStreams=!0),this.jo(_.initMessageHeaders,i,s),_.encodeInitMessageHeaders=!0;const T=c.join("");ut(Ke,`Creating RPC '${e}' stream ${o}: ${T}`,_);const b=d.createWebChannel(T,_);this.I_(b);let x=!1,P=!1;const K=new VR({Yo:k=>{P?ut(Ke,`Not sending because RPC '${e}' stream ${o} is closed:`,k):(x||(ut(Ke,`Opening RPC '${e}' stream ${o} transport.`),b.open(),x=!0),ut(Ke,`RPC '${e}' stream ${o} sending:`,k),b.send(k))},Zo:()=>b.close()}),F=(k,et,nt)=>{k.listen(et,(st=>{try{nt(st)}catch(at){setTimeout((()=>{throw at}),0)}}))};return F(b,Yl.EventType.OPEN,(()=>{P||(ut(Ke,`RPC '${e}' stream ${o} transport opened.`),K.o_())})),F(b,Yl.EventType.CLOSE,(()=>{P||(P=!0,ut(Ke,`RPC '${e}' stream ${o} transport closed`),K.a_(),this.E_(b))})),F(b,Yl.EventType.ERROR,(k=>{P||(P=!0,Cs(Ke,`RPC '${e}' stream ${o} transport errored. Name:`,k.name,"Message:",k.message),K.a_(new dt(tt.UNAVAILABLE,"The operation could not be completed")))})),F(b,Yl.EventType.MESSAGE,(k=>{if(!P){const et=k.data[0];Ht(!!et,16349);const nt=et,st=nt?.error||nt[0]?.error;if(st){ut(Ke,`RPC '${e}' stream ${o} received error:`,st);const at=st.status;let vt=(function(A){const w=Re[A];if(w!==void 0)return C0(w)})(at),it=st.message;vt===void 0&&(vt=tt.INTERNAL,it="Unknown error status: "+at+" with message "+st.message),P=!0,K.a_(new dt(vt,it)),b.close()}else ut(Ke,`RPC '${e}' stream ${o} received:`,et),K.u_(et)}})),F(g,Fv.STAT_EVENT,(k=>{k.stat===Ed.PROXY?ut(Ke,`RPC '${e}' stream ${o} detected buffering proxy`):k.stat===Ed.NOPROXY&&ut(Ke,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{K.__()}),0),K}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((i=>i===e))}}function cd(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qc(r){return new L2(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k0{constructor(e,i,s=1e3,o=1.5,c=6e4){this.Mi=e,this.timerId=i,this.d_=s,this.A_=o,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const i=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,i-s);o>0&&ut("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ev="PersistentStream";class q0{constructor(e,i,s,o,c,d,g,_){this.Mi=e,this.S_=s,this.b_=o,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=g,this.listener=_,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new k0(e,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():i&&i.code===tt.RESOURCE_EXHAUSTED?(Yi(i.toString()),Yi("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===tt.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(i)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.D_===i&&this.G_(s,o)}),(s=>{e((()=>{const o=new dt(tt.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)}))}))}G_(e,i){const s=this.W_(this.D_);this.stream=this.j_(e,i),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{s((()=>this.z_(o)))})),this.stream.onMessage((o=>{s((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ut(ev,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return i=>{this.Mi.enqueueAndForget((()=>this.D_===e?i():(ut(ev,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class MR extends q0{constructor(e,i,s,o,c,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,s,o,d),this.serializer=c}j_(e,i){return this.connection.T_("Listen",e,i)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const i=P2(this.serializer,e),s=(function(c){if(!("targetChange"in c))return Tt.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?Tt.min():d.readTime?yi(d.readTime):Tt.min()})(e);return this.listener.H_(i,s)}Y_(e){const i={};i.database=Nd(this.serializer),i.addTarget=(function(c,d){let g;const _=d.target;if(g=Rd(_)?{documents:q2(c,_)}:{query:H2(c,_).ft},g.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){g.resumeToken=N0(c,d.resumeToken);const p=Cd(c,d.expectedCount);p!==null&&(g.expectedCount=p)}else if(d.snapshotVersion.compareTo(Tt.min())>0){g.readTime=Rc(c,d.snapshotVersion.toTimestamp());const p=Cd(c,d.expectedCount);p!==null&&(g.expectedCount=p)}return g})(this.serializer,e);const s=F2(this.serializer,e);s&&(i.labels=s),this.q_(i)}Z_(e){const i={};i.database=Nd(this.serializer),i.removeTarget=e,this.q_(i)}}class OR extends q0{constructor(e,i,s,o,c,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,s,o,d),this.serializer=c}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,i){return this.connection.T_("Write",e,i)}J_(e){return Ht(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ht(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Ht(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const i=k2(e.writeResults,e.commitTime),s=yi(e.commitTime);return this.listener.na(s,i)}ra(){const e={};e.database=Nd(this.serializer),this.q_(e)}ea(e){const i={streamToken:this.lastStreamToken,writes:e.map((s=>j2(this.serializer,s)))};this.q_(i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UR{}class LR extends UR{constructor(e,i,s,o){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new dt(tt.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,i,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Go(e,Dd(i,s),o,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===tt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new dt(tt.UNKNOWN,c.toString())}))}Ho(e,i,s,o,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,g])=>this.connection.Ho(e,Dd(i,s),o,d,g,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===tt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new dt(tt.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class zR{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Yi(i),this.aa=!1):ut("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ar="RemoteStore";class BR{constructor(e,i,s,o,c){this.localStore=e,this.datastore=i,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=c,this.Aa.Oo((d=>{s.enqueueAndForget((async()=>{Cr(this)&&(ut(Ar,"Restarting streams for network reachability change."),await(async function(_){const p=bt(_);p.Ea.add(4),await yo(p),p.Ra.set("Unknown"),p.Ea.delete(4),await Hc(p)})(this))}))})),this.Ra=new zR(s,o)}}async function Hc(r){if(Cr(r))for(const e of r.da)await e(!0)}async function yo(r){for(const e of r.da)await e(!1)}function H0(r,e){const i=bt(r);i.Ia.has(e.targetId)||(i.Ia.set(e.targetId,e),dm(i)?fm(i):Ps(i).O_()&&hm(i,e))}function cm(r,e){const i=bt(r),s=Ps(i);i.Ia.delete(e),s.O_()&&G0(i,e),i.Ia.size===0&&(s.O_()?s.L_():Cr(i)&&i.Ra.set("Unknown"))}function hm(r,e){if(r.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Tt.min())>0){const i=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}Ps(r).Y_(e)}function G0(r,e){r.Va.Ue(e),Ps(r).Z_(e)}function fm(r){r.Va=new I2({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),At:e=>r.Ia.get(e)||null,ht:()=>r.datastore.serializer.databaseId}),Ps(r).start(),r.Ra.ua()}function dm(r){return Cr(r)&&!Ps(r).x_()&&r.Ia.size>0}function Cr(r){return bt(r).Ea.size===0}function F0(r){r.Va=void 0}async function PR(r){r.Ra.set("Online")}async function jR(r){r.Ia.forEach(((e,i)=>{hm(r,e)}))}async function kR(r,e){F0(r),dm(r)?(r.Ra.ha(e),fm(r)):r.Ra.set("Unknown")}async function qR(r,e,i){if(r.Ra.set("Online"),e instanceof x0&&e.state===2&&e.cause)try{await(async function(o,c){const d=c.cause;for(const g of c.targetIds)o.Ia.has(g)&&(await o.remoteSyncer.rejectListen(g,d),o.Ia.delete(g),o.Va.removeTarget(g))})(r,e)}catch(s){ut(Ar,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Cc(r,s)}else if(e instanceof hc?r.Va.Ze(e):e instanceof D0?r.Va.st(e):r.Va.tt(e),!i.isEqual(Tt.min()))try{const s=await j0(r.localStore);i.compareTo(s)>=0&&await(function(c,d){const g=c.Va.Tt(d);return g.targetChanges.forEach(((_,p)=>{if(_.resumeToken.approximateByteSize()>0){const T=c.Ia.get(p);T&&c.Ia.set(p,T.withResumeToken(_.resumeToken,d))}})),g.targetMismatches.forEach(((_,p)=>{const T=c.Ia.get(_);if(!T)return;c.Ia.set(_,T.withResumeToken(Qe.EMPTY_BYTE_STRING,T.snapshotVersion)),G0(c,_);const b=new Da(T.target,_,p,T.sequenceNumber);hm(c,b)})),c.remoteSyncer.applyRemoteEvent(g)})(r,i)}catch(s){ut(Ar,"Failed to raise snapshot:",s),await Cc(r,s)}}async function Cc(r,e,i){if(!Bs(e))throw e;r.Ea.add(1),await yo(r),r.Ra.set("Offline"),i||(i=()=>j0(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{ut(Ar,"Retrying IndexedDB access"),await i(),r.Ea.delete(1),await Hc(r)}))}function Q0(r,e){return e().catch((i=>Cc(r,i,e)))}async function Gc(r){const e=bt(r),i=Pa(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:$d;for(;HR(e);)try{const o=await AR(e.localStore,s);if(o===null){e.Ta.length===0&&i.L_();break}s=o.batchId,GR(e,o)}catch(o){await Cc(e,o)}Y0(e)&&K0(e)}function HR(r){return Cr(r)&&r.Ta.length<10}function GR(r,e){r.Ta.push(e);const i=Pa(r);i.O_()&&i.X_&&i.ea(e.mutations)}function Y0(r){return Cr(r)&&!Pa(r).x_()&&r.Ta.length>0}function K0(r){Pa(r).start()}async function FR(r){Pa(r).ra()}async function QR(r){const e=Pa(r);for(const i of r.Ta)e.ea(i.mutations)}async function YR(r,e,i){const s=r.Ta.shift(),o=im.from(s,e,i);await Q0(r,(()=>r.remoteSyncer.applySuccessfulWrite(o))),await Gc(r)}async function KR(r,e){e&&Pa(r).X_&&await(async function(s,o){if((function(d){return x2(d)&&d!==tt.ABORTED})(o.code)){const c=s.Ta.shift();Pa(s).B_(),await Q0(s,(()=>s.remoteSyncer.rejectFailedWrite(c.batchId,o))),await Gc(s)}})(r,e),Y0(r)&&K0(r)}async function nv(r,e){const i=bt(r);i.asyncQueue.verifyOperationInProgress(),ut(Ar,"RemoteStore received new credentials");const s=Cr(i);i.Ea.add(3),await yo(i),s&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.Ea.delete(3),await Hc(i)}async function XR(r,e){const i=bt(r);e?(i.Ea.delete(2),await Hc(i)):e||(i.Ea.add(2),await yo(i),i.Ra.set("Unknown"))}function Ps(r){return r.ma||(r.ma=(function(i,s,o){const c=bt(i);return c.sa(),new MR(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(r.datastore,r.asyncQueue,{Xo:PR.bind(null,r),t_:jR.bind(null,r),r_:kR.bind(null,r),H_:qR.bind(null,r)}),r.da.push((async e=>{e?(r.ma.B_(),dm(r)?fm(r):r.Ra.set("Unknown")):(await r.ma.stop(),F0(r))}))),r.ma}function Pa(r){return r.fa||(r.fa=(function(i,s,o){const c=bt(i);return c.sa(),new OR(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:FR.bind(null,r),r_:KR.bind(null,r),ta:QR.bind(null,r),na:YR.bind(null,r)}),r.da.push((async e=>{e?(r.fa.B_(),await Gc(r)):(await r.fa.stop(),r.Ta.length>0&&(ut(Ar,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mm{constructor(e,i,s,o,c){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=s,this.op=o,this.removalCallback=c,this.deferred=new Ia,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,i,s,o,c){const d=Date.now()+s,g=new mm(e,i,d,o,c);return g.start(s),g}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new dt(tt.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function gm(r,e){if(Yi("AsyncQueue",`${e}: ${r}`),Bs(r))return new dt(tt.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class As{static emptySet(e){return new As(e.comparator)}constructor(e){this.comparator=e?(i,s)=>e(i,s)||pt.comparator(i.key,s.key):(i,s)=>pt.comparator(i.key,s.key),this.keyedMap=Kl(),this.sortedSet=new oe(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((i,s)=>(e(i),!1)))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof As)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;i.hasNext();){const o=i.getNext().key,c=s.getNext().key;if(!o.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach((i=>{e.push(i.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const s=new As;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=i,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iv{constructor(){this.ga=new oe(pt.comparator)}track(e){const i=e.doc.key,s=this.ga.get(i);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(i,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(i,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(i,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(i):e.type===1&&s.type===2?this.ga=this.ga.insert(i,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):_t(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(i,e)}ya(){const e=[];return this.ga.inorderTraversal(((i,s)=>{e.push(s)})),e}}class Is{constructor(e,i,s,o,c,d,g,_,p){this.query=e,this.docs=i,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=g,this.excludesMetadataChanges=_,this.hasCachedResults=p}static fromInitialDocuments(e,i,s,o,c){const d=[];return i.forEach((g=>{d.push({type:0,doc:g})})),new Is(e,i,As.emptySet(i),d,s,o,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&zc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,s=e.docChanges;if(i.length!==s.length)return!1;for(let o=0;o<i.length;o++)if(i[o].type!==s[o].type||!i[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $R{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class ZR{constructor(){this.queries=av(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,s){const o=bt(i),c=o.queries;o.queries=av(),c.forEach(((d,g)=>{for(const _ of g.Sa)_.onError(s)}))})(this,new dt(tt.ABORTED,"Firestore shutting down"))}}function av(){return new wr((r=>g0(r)),zc)}async function JR(r,e){const i=bt(r);let s=3;const o=e.query;let c=i.queries.get(o);c?!c.ba()&&e.Da()&&(s=2):(c=new $R,s=e.Da()?0:1);try{switch(s){case 0:c.wa=await i.onListen(o,!0);break;case 1:c.wa=await i.onListen(o,!1);break;case 2:await i.onFirstRemoteStoreListen(o)}}catch(d){const g=gm(d,`Initialization of query '${vs(e.query)}' failed`);return void e.onError(g)}i.queries.set(o,c),c.Sa.push(e),e.va(i.onlineState),c.wa&&e.Fa(c.wa)&&pm(i)}async function WR(r,e){const i=bt(r),s=e.query;let o=3;const c=i.queries.get(s);if(c){const d=c.Sa.indexOf(e);d>=0&&(c.Sa.splice(d,1),c.Sa.length===0?o=e.Da()?0:1:!c.ba()&&e.Da()&&(o=2))}switch(o){case 0:return i.queries.delete(s),i.onUnlisten(s,!0);case 1:return i.queries.delete(s),i.onUnlisten(s,!1);case 2:return i.onLastRemoteStoreUnlisten(s);default:return}}function tw(r,e){const i=bt(r);let s=!1;for(const o of e){const c=o.query,d=i.queries.get(c);if(d){for(const g of d.Sa)g.Fa(o)&&(s=!0);d.wa=o}}s&&pm(i)}function ew(r,e,i){const s=bt(r),o=s.queries.get(e);if(o)for(const c of o.Sa)c.onError(i);s.queries.delete(e)}function pm(r){r.Ca.forEach((e=>{e.next()}))}var Md,rv;(rv=Md||(Md={})).Ma="default",rv.Cache="cache";class nw{constructor(e,i,s){this.query=e,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new Is(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),i=!0):this.La(e,this.onlineState)&&(this.ka(e),i=!0),this.Na=e,i}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),i=!0),i}La(e,i){if(!e.fromCache||!this.Da())return!0;const s=i!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(e){e=Is.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Md.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X0{constructor(e){this.key=e}}class $0{constructor(e){this.key=e}}class iw{constructor(e,i){this.query=e,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Mt(),this.mutatedKeys=Mt(),this.eu=p0(e),this.tu=new As(this.eu)}get nu(){return this.Ya}ru(e,i){const s=i?i.iu:new iv,o=i?i.tu:this.tu;let c=i?i.mutatedKeys:this.mutatedKeys,d=o,g=!1;const _=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,p=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((T,b)=>{const x=o.get(T),P=Bc(this.query,b)?b:null,K=!!x&&this.mutatedKeys.has(x.key),F=!!P&&(P.hasLocalMutations||this.mutatedKeys.has(P.key)&&P.hasCommittedMutations);let k=!1;x&&P?x.data.isEqual(P.data)?K!==F&&(s.track({type:3,doc:P}),k=!0):this.su(x,P)||(s.track({type:2,doc:P}),k=!0,(_&&this.eu(P,_)>0||p&&this.eu(P,p)<0)&&(g=!0)):!x&&P?(s.track({type:0,doc:P}),k=!0):x&&!P&&(s.track({type:1,doc:x}),k=!0,(_||p)&&(g=!0)),k&&(P?(d=d.add(P),c=F?c.add(T):c.delete(T)):(d=d.delete(T),c=c.delete(T)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const T=this.query.limitType==="F"?d.last():d.first();d=d.delete(T.key),c=c.delete(T.key),s.track({type:1,doc:T})}return{tu:d,iu:s,Cs:g,mutatedKeys:c}}su(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,s,o){const c=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const d=e.iu.ya();d.sort(((T,b)=>(function(P,K){const F=k=>{switch(k){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return _t(20277,{Rt:k})}};return F(P)-F(K)})(T.type,b.type)||this.eu(T.doc,b.doc))),this.ou(s),o=o??!1;const g=i&&!o?this._u():[],_=this.Xa.size===0&&this.current&&!o?1:0,p=_!==this.Za;return this.Za=_,d.length!==0||p?{snapshot:new Is(this.query,e.tu,c,d,e.mutatedKeys,_===0,p,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:g}:{au:g}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new iv,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((i=>this.Ya=this.Ya.add(i))),e.modifiedDocuments.forEach((i=>{})),e.removedDocuments.forEach((i=>this.Ya=this.Ya.delete(i))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Mt(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const i=[];return e.forEach((s=>{this.Xa.has(s)||i.push(new $0(s))})),this.Xa.forEach((s=>{e.has(s)||i.push(new X0(s))})),i}cu(e){this.Ya=e.Qs,this.Xa=Mt();const i=this.ru(e.documents);return this.applyChanges(i,!0)}lu(){return Is.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const ym="SyncEngine";class aw{constructor(e,i,s){this.query=e,this.targetId=i,this.view=s}}class rw{constructor(e){this.key=e,this.hu=!1}}class sw{constructor(e,i,s,o,c,d){this.localStore=e,this.remoteStore=i,this.eventManager=s,this.sharedClientState=o,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new wr((g=>g0(g)),zc),this.Iu=new Map,this.Eu=new Set,this.du=new oe(pt.comparator),this.Au=new Map,this.Ru=new sm,this.Vu={},this.mu=new Map,this.fu=Vs.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function lw(r,e,i=!0){const s=nE(r);let o;const c=s.Tu.get(e);return c?(s.sharedClientState.addLocalQueryTarget(c.targetId),o=c.view.lu()):o=await Z0(s,e,i,!0),o}async function ow(r,e){const i=nE(r);await Z0(i,e,!0,!1)}async function Z0(r,e,i,s){const o=await RR(r.localStore,pi(e)),c=o.targetId,d=r.sharedClientState.addLocalQueryTarget(c,i);let g;return s&&(g=await uw(r,e,c,d==="current",o.resumeToken)),r.isPrimaryClient&&i&&H0(r.remoteStore,o),g}async function uw(r,e,i,s,o){r.pu=(b,x,P)=>(async function(F,k,et,nt){let st=k.view.ru(et);st.Cs&&(st=await Z_(F.localStore,k.query,!1).then((({documents:R})=>k.view.ru(R,st))));const at=nt&&nt.targetChanges.get(k.targetId),vt=nt&&nt.targetMismatches.get(k.targetId)!=null,it=k.view.applyChanges(st,F.isPrimaryClient,at,vt);return lv(F,k.targetId,it.au),it.snapshot})(r,b,x,P);const c=await Z_(r.localStore,e,!0),d=new iw(e,c.Qs),g=d.ru(c.documents),_=po.createSynthesizedTargetChangeForCurrentChange(i,s&&r.onlineState!=="Offline",o),p=d.applyChanges(g,r.isPrimaryClient,_);lv(r,i,p.au);const T=new aw(e,i,d);return r.Tu.set(e,T),r.Iu.has(i)?r.Iu.get(i).push(e):r.Iu.set(i,[e]),p.snapshot}async function cw(r,e,i){const s=bt(r),o=s.Tu.get(e),c=s.Iu.get(o.targetId);if(c.length>1)return s.Iu.set(o.targetId,c.filter((d=>!zc(d,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await Vd(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),i&&cm(s.remoteStore,o.targetId),Od(s,o.targetId)})).catch(zs)):(Od(s,o.targetId),await Vd(s.localStore,o.targetId,!0))}async function hw(r,e){const i=bt(r),s=i.Tu.get(e),o=i.Iu.get(s.targetId);i.isPrimaryClient&&o.length===1&&(i.sharedClientState.removeLocalQueryTarget(s.targetId),cm(i.remoteStore,s.targetId))}async function fw(r,e,i){const s=vw(r);try{const o=await(function(d,g){const _=bt(d),p=ne.now(),T=g.reduce(((P,K)=>P.add(K.key)),Mt());let b,x;return _.persistence.runTransaction("Locally write mutations","readwrite",(P=>{let K=Ki(),F=Mt();return _.Ns.getEntries(P,T).next((k=>{K=k,K.forEach(((et,nt)=>{nt.isValidDocument()||(F=F.add(et))}))})).next((()=>_.localDocuments.getOverlayedDocuments(P,K))).next((k=>{b=k;const et=[];for(const nt of g){const st=A2(nt,b.get(nt.key).overlayedDocument);st!=null&&et.push(new qa(nt.key,st,l0(st.value.mapValue),Qn.exists(!0)))}return _.mutationQueue.addMutationBatch(P,p,et,g)})).next((k=>{x=k;const et=k.applyToLocalDocumentSet(b,F);return _.documentOverlayCache.saveOverlays(P,k.batchId,et)}))})).then((()=>({batchId:x.batchId,changes:_0(b)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),(function(d,g,_){let p=d.Vu[d.currentUser.toKey()];p||(p=new oe(It)),p=p.insert(g,_),d.Vu[d.currentUser.toKey()]=p})(s,o.batchId,i),await _o(s,o.changes),await Gc(s.remoteStore)}catch(o){const c=gm(o,"Failed to persist write");i.reject(c)}}async function J0(r,e){const i=bt(r);try{const s=await SR(i.localStore,e);e.targetChanges.forEach(((o,c)=>{const d=i.Au.get(c);d&&(Ht(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?d.hu=!0:o.modifiedDocuments.size>0?Ht(d.hu,14607):o.removedDocuments.size>0&&(Ht(d.hu,42227),d.hu=!1))})),await _o(i,s,e)}catch(s){await zs(s)}}function sv(r,e,i){const s=bt(r);if(s.isPrimaryClient&&i===0||!s.isPrimaryClient&&i===1){const o=[];s.Tu.forEach(((c,d)=>{const g=d.view.va(e);g.snapshot&&o.push(g.snapshot)})),(function(d,g){const _=bt(d);_.onlineState=g;let p=!1;_.queries.forEach(((T,b)=>{for(const x of b.Sa)x.va(g)&&(p=!0)})),p&&pm(_)})(s.eventManager,e),o.length&&s.Pu.H_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function dw(r,e,i){const s=bt(r);s.sharedClientState.updateQueryState(e,"rejected",i);const o=s.Au.get(e),c=o&&o.key;if(c){let d=new oe(pt.comparator);d=d.insert(c,$e.newNoDocument(c,Tt.min()));const g=Mt().add(c),_=new kc(Tt.min(),new Map,new oe(It),d,g);await J0(s,_),s.du=s.du.remove(c),s.Au.delete(e),_m(s)}else await Vd(s.localStore,e,!1).then((()=>Od(s,e,i))).catch(zs)}async function mw(r,e){const i=bt(r),s=e.batch.batchId;try{const o=await TR(i.localStore,e);tE(i,s,null),W0(i,s),i.sharedClientState.updateMutationState(s,"acknowledged"),await _o(i,o)}catch(o){await zs(o)}}async function gw(r,e,i){const s=bt(r);try{const o=await(function(d,g){const _=bt(d);return _.persistence.runTransaction("Reject batch","readwrite-primary",(p=>{let T;return _.mutationQueue.lookupMutationBatch(p,g).next((b=>(Ht(b!==null,37113),T=b.keys(),_.mutationQueue.removeMutationBatch(p,b)))).next((()=>_.mutationQueue.performConsistencyCheck(p))).next((()=>_.documentOverlayCache.removeOverlaysForBatchId(p,T,g))).next((()=>_.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,T))).next((()=>_.localDocuments.getDocuments(p,T)))}))})(s.localStore,e);tE(s,e,i),W0(s,e),s.sharedClientState.updateMutationState(e,"rejected",i),await _o(s,o)}catch(o){await zs(o)}}function W0(r,e){(r.mu.get(e)||[]).forEach((i=>{i.resolve()})),r.mu.delete(e)}function tE(r,e,i){const s=bt(r);let o=s.Vu[s.currentUser.toKey()];if(o){const c=o.get(e);c&&(i?c.reject(i):c.resolve(),o=o.remove(e)),s.Vu[s.currentUser.toKey()]=o}}function Od(r,e,i=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.Iu.get(e))r.Tu.delete(s),i&&r.Pu.yu(s,i);r.Iu.delete(e),r.isPrimaryClient&&r.Ru.jr(e).forEach((s=>{r.Ru.containsKey(s)||eE(r,s)}))}function eE(r,e){r.Eu.delete(e.path.canonicalString());const i=r.du.get(e);i!==null&&(cm(r.remoteStore,i),r.du=r.du.remove(e),r.Au.delete(i),_m(r))}function lv(r,e,i){for(const s of i)s instanceof X0?(r.Ru.addReference(s.key,e),pw(r,s)):s instanceof $0?(ut(ym,"Document no longer in limbo: "+s.key),r.Ru.removeReference(s.key,e),r.Ru.containsKey(s.key)||eE(r,s.key)):_t(19791,{wu:s})}function pw(r,e){const i=e.key,s=i.path.canonicalString();r.du.get(i)||r.Eu.has(s)||(ut(ym,"New document in limbo: "+i),r.Eu.add(s),_m(r))}function _m(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const e=r.Eu.values().next().value;r.Eu.delete(e);const i=new pt(ee.fromString(e)),s=r.fu.next();r.Au.set(s,new rw(i)),r.du=r.du.insert(i,s),H0(r.remoteStore,new Da(pi(m0(i.path)),s,"TargetPurposeLimboResolution",Mc.ce))}}async function _o(r,e,i){const s=bt(r),o=[],c=[],d=[];s.Tu.isEmpty()||(s.Tu.forEach(((g,_)=>{d.push(s.pu(_,e,i).then((p=>{if((p||i)&&s.isPrimaryClient){const T=p?!p.fromCache:i?.targetChanges.get(_.targetId)?.current;s.sharedClientState.updateQueryState(_.targetId,T?"current":"not-current")}if(p){o.push(p);const T=om.As(_.targetId,p);c.push(T)}})))})),await Promise.all(d),s.Pu.H_(o),await(async function(_,p){const T=bt(_);try{await T.persistence.runTransaction("notifyLocalViewChanges","readwrite",(b=>W.forEach(p,(x=>W.forEach(x.Es,(P=>T.persistence.referenceDelegate.addReference(b,x.targetId,P))).next((()=>W.forEach(x.ds,(P=>T.persistence.referenceDelegate.removeReference(b,x.targetId,P)))))))))}catch(b){if(!Bs(b))throw b;ut(um,"Failed to update sequence numbers: "+b)}for(const b of p){const x=b.targetId;if(!b.fromCache){const P=T.Ms.get(x),K=P.snapshotVersion,F=P.withLastLimboFreeSnapshotVersion(K);T.Ms=T.Ms.insert(x,F)}}})(s.localStore,c))}async function yw(r,e){const i=bt(r);if(!i.currentUser.isEqual(e)){ut(ym,"User change. New user:",e.toKey());const s=await P0(i.localStore,e);i.currentUser=e,(function(c,d){c.mu.forEach((g=>{g.forEach((_=>{_.reject(new dt(tt.CANCELLED,d))}))})),c.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await _o(i,s.Ls)}}function _w(r,e){const i=bt(r),s=i.Au.get(e);if(s&&s.hu)return Mt().add(s.key);{let o=Mt();const c=i.Iu.get(e);if(!c)return o;for(const d of c){const g=i.Tu.get(d);o=o.unionWith(g.view.nu)}return o}}function nE(r){const e=bt(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=J0.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=_w.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=dw.bind(null,e),e.Pu.H_=tw.bind(null,e.eventManager),e.Pu.yu=ew.bind(null,e.eventManager),e}function vw(r){const e=bt(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=mw.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=gw.bind(null,e),e}class Dc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=qc(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,i){return null}Mu(e,i){return null}vu(e){return ER(this.persistence,new yR,e.initialUser,this.serializer)}Cu(e){return new B0(lm.mi,this.serializer)}Du(e){return new CR}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Dc.provider={build:()=>new Dc};class Ew extends Dc{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,i){Ht(this.persistence.referenceDelegate instanceof wc,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new nR(s,e.asyncQueue,i)}Cu(e){const i=this.cacheSizeBytes!==void 0?on.withCacheSize(this.cacheSizeBytes):on.DEFAULT;return new B0((s=>wc.mi(s,i)),this.serializer)}}class Ud{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>sv(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=yw.bind(null,this.syncEngine),await XR(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new ZR})()}createDatastore(e){const i=qc(e.databaseInfo.databaseId),s=(function(c){return new IR(c)})(e.databaseInfo);return(function(c,d,g,_){return new LR(c,d,g,_)})(e.authCredentials,e.appCheckCredentials,s,i)}createRemoteStore(e){return(function(s,o,c,d,g){return new BR(s,o,c,d,g)})(this.localStore,this.datastore,e.asyncQueue,(i=>sv(this.syncEngine,i,0)),(function(){return tv.v()?new tv:new DR})())}createSyncEngine(e,i){return(function(o,c,d,g,_,p,T){const b=new sw(o,c,d,g,_,p);return T&&(b.gu=!0),b})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const s=bt(i);ut(Ar,"RemoteStore shutting down."),s.Ea.add(5),await yo(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Ud.provider={build:()=>new Ud};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tw{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Yi("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,i){setTimeout((()=>{this.muted||e(i)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ja="FirestoreClient";class Sw{constructor(e,i,s,o,c){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=s,this.databaseInfo=o,this.user=Xe.UNAUTHENTICATED,this.clientId=Kd.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(s,(async d=>{ut(ja,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(s,(d=>(ut(ja,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ia;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const s=gm(i,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function hd(r,e){r.asyncQueue.verifyOperationInProgress(),ut(ja,"Initializing OfflineComponentProvider");const i=r.configuration;await e.initialize(i);let s=i.initialUser;r.setCredentialChangeListener((async o=>{s.isEqual(o)||(await P0(e.localStore,o),s=o)})),e.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=e}async function ov(r,e){r.asyncQueue.verifyOperationInProgress();const i=await bw(r);ut(ja,"Initializing OnlineComponentProvider"),await e.initialize(i,r.configuration),r.setCredentialChangeListener((s=>nv(e.remoteStore,s))),r.setAppCheckTokenChangeListener(((s,o)=>nv(e.remoteStore,o))),r._onlineComponents=e}async function bw(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){ut(ja,"Using user provided OfflineComponentProvider");try{await hd(r,r._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!(function(o){return o.name==="FirebaseError"?o.code===tt.FAILED_PRECONDITION||o.code===tt.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(i))throw i;Cs("Error using user provided cache. Falling back to memory cache: "+i),await hd(r,new Dc)}}else ut(ja,"Using default OfflineComponentProvider"),await hd(r,new Ew(void 0));return r._offlineComponents}async function iE(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(ut(ja,"Using user provided OnlineComponentProvider"),await ov(r,r._uninitializedComponentsProvider._online)):(ut(ja,"Using default OnlineComponentProvider"),await ov(r,new Ud))),r._onlineComponents}function Aw(r){return iE(r).then((e=>e.syncEngine))}async function Rw(r){const e=await iE(r),i=e.eventManager;return i.onListen=lw.bind(null,e.syncEngine),i.onUnlisten=cw.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=ow.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=hw.bind(null,e.syncEngine),i}function ww(r,e,i={}){const s=new Ia;return r.asyncQueue.enqueueAndForget((async()=>(function(c,d,g,_,p){const T=new Tw({next:x=>{T.Nu(),d.enqueueAndForget((()=>WR(c,b))),x.fromCache&&_.source==="server"?p.reject(new dt(tt.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(x)},error:x=>p.reject(x)}),b=new nw(g,T,{includeMetadataChanges:!0,qa:!0});return JR(c,b)})(await Rw(r),r.asyncQueue,e,i,s))),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aE(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uv=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rE="firestore.googleapis.com",cv=!0;class hv{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new dt(tt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=rE,this.ssl=cv}else this.host=e.host,this.ssl=e.ssl??cv;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=z0;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<tR)throw new dt(tt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}zA("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=aE(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new dt(tt.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new dt(tt.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new dt(tt.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,o){return s.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Fc{constructor(e,i,s,o){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new hv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new dt(tt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new dt(tt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new hv(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new CA;switch(s.type){case"firstParty":return new VA(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new dt(tt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const s=uv.get(i);s&&(ut("ComponentProvider","Removing Datastore"),uv.delete(i),s.terminate())})(this),Promise.resolve()}}function Cw(r,e,i,s={}){r=br(r,Fc);const o=Fd(e),c=r._getSettings(),d={...c,emulatorOptions:r._getEmulatorOptions()},g=`${e}:${i}`;o&&(tb(`https://${g}`),ab("Firestore",!0)),c.host!==rE&&c.host!==g&&Cs("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const _={...c,host:g,ssl:o,emulatorOptions:s};if(!gc(_,d)&&(r._setSettings(_),s.mockUserToken)){let p,T;if(typeof s.mockUserToken=="string")p=s.mockUserToken,T=Xe.MOCK_USER;else{p=eb(s.mockUserToken,r._app?.options.projectId);const b=s.mockUserToken.sub||s.mockUserToken.user_id;if(!b)throw new dt(tt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");T=new Xe(b)}r._authCredentials=new DA(new Xv(p,T))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qc{constructor(e,i,s){this.converter=i,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Qc(this.firestore,e,this._query)}}class ze{constructor(e,i,s){this.converter=i,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ma(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ze(this.firestore,e,this._key)}toJSON(){return{type:ze._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,i,s){if(mo(i,ze._jsonSchema))return new ze(e,s||null,new pt(ee.fromString(i.referencePath)))}}ze._jsonSchemaVersion="firestore/documentReference/1.0",ze._jsonSchema={type:we("string",ze._jsonSchemaVersion),referencePath:we("string")};class Ma extends Qc{constructor(e,i,s){super(e,i,m0(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ze(this.firestore,null,new pt(e))}withConverter(e){return new Ma(this.firestore,e,this._path)}}function fv(r,e,...i){if(r=Oa(r),$v("collection","path",e),r instanceof Fc){const s=ee.fromString(e,...i);return R_(s),new Ma(r,null,s)}{if(!(r instanceof ze||r instanceof Ma))throw new dt(tt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(ee.fromString(e,...i));return R_(s),new Ma(r.firestore,null,s)}}function Ld(r,e,...i){if(r=Oa(r),arguments.length===1&&(e=Kd.newId()),$v("doc","path",e),r instanceof Fc){const s=ee.fromString(e,...i);return A_(s),new ze(r,null,new pt(s))}{if(!(r instanceof ze||r instanceof Ma))throw new dt(tt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(ee.fromString(e,...i));return A_(s),new ze(r.firestore,r instanceof Ma?r.converter:null,new pt(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dv="AsyncQueue";class mv{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new k0(this,"async_queue_retry"),this._c=()=>{const s=cd();s&&ut(dv,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const i=cd();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const i=cd();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new Ia;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Bs(e))throw e;ut(dv,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const i=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,Yi("INTERNAL UNHANDLED ERROR: ",gv(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=i,i}enqueueAfterDelay(e,i,s){this.uc(),this.oc.indexOf(e)>-1&&(i=0);const o=mm.createAndSchedule(this,e,i,s,(c=>this.hc(c)));return this.tc.push(o),o}uc(){this.nc&&_t(47125,{Pc:gv(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const i of this.tc)if(i.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((i,s)=>i.targetTimeMs-s.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const i=this.tc.indexOf(e);this.tc.splice(i,1)}}function gv(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}class vo extends Fc{constructor(e,i,s,o){super(e,i,s,o),this.type="firestore",this._queue=new mv,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new mv(e),this._firestoreClient=void 0,await e}}}function Dw(r,e){const i=typeof r=="object"?r:mA(),s=typeof r=="string"?r:vc,o=uA(i,"firestore").getImmediate({identifier:s});if(!o._initialized){const c=JS("firestore");c&&Cw(o,...c)}return o}function sE(r){if(r._terminated)throw new dt(tt.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||xw(r),r._firestoreClient}function xw(r){const e=r._freezeSettings(),i=(function(o,c,d,g){return new KA(o,c,d,g.host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,aE(g.experimentalLongPollingOptions),g.useFetchStreams,g.isUsingEmulator)})(r._databaseId,r._app?.options.appId||"",r._persistenceKey,e);r._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),r._firestoreClient=new Sw(r._authCredentials,r._appCheckCredentials,r._queue,i,r._componentsProvider&&(function(o){const c=o?._online.build();return{_offline:o?._offline.build(c),_online:c}})(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Mn(Qe.fromBase64String(e))}catch(i){throw new dt(tt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new Mn(Qe.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Mn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(mo(e,Mn._jsonSchema))return Mn.fromBase64String(e.bytes)}}Mn._jsonSchemaVersion="firestore/bytes/1.0",Mn._jsonSchema={type:we("string",Mn._jsonSchemaVersion),bytes:we("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yc{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new dt(tt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Fe(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vm{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _i{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new dt(tt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new dt(tt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return It(this._lat,e._lat)||It(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:_i._jsonSchemaVersion}}static fromJSON(e){if(mo(e,_i._jsonSchema))return new _i(e.latitude,e.longitude)}}_i._jsonSchemaVersion="firestore/geoPoint/1.0",_i._jsonSchema={type:we("string",_i._jsonSchemaVersion),latitude:we("number"),longitude:we("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vi{constructor(e){this._values=(e||[]).map((i=>i))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,o){if(s.length!==o.length)return!1;for(let c=0;c<s.length;++c)if(s[c]!==o[c])return!1;return!0})(this._values,e._values)}toJSON(){return{type:vi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(mo(e,vi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((i=>typeof i=="number")))return new vi(e.vectorValues);throw new dt(tt.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}vi._jsonSchemaVersion="firestore/vectorValue/1.0",vi._jsonSchema={type:we("string",vi._jsonSchemaVersion),vectorValues:we("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nw=/^__.*__$/;class Vw{constructor(e,i,s){this.data=e,this.fieldMask=i,this.fieldTransforms=s}toMutation(e,i){return this.fieldMask!==null?new qa(e,this.data,this.fieldMask,i,this.fieldTransforms):new go(e,this.data,i,this.fieldTransforms)}}class lE{constructor(e,i,s){this.data=e,this.fieldMask=i,this.fieldTransforms=s}toMutation(e,i){return new qa(e,this.data,this.fieldMask,i,this.fieldTransforms)}}function oE(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw _t(40011,{Ac:r})}}class Em{constructor(e,i,s,o,c,d){this.settings=e,this.databaseId=i,this.serializer=s,this.ignoreUndefinedProperties=o,c===void 0&&this.Rc(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Em({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const i=this.path?.child(e),s=this.Vc({path:i,fc:!1});return s.gc(e),s}yc(e){const i=this.path?.child(e),s=this.Vc({path:i,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return xc(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((i=>e.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>e.isPrefixOf(i.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(oE(this.Ac)&&Nw.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class Iw{constructor(e,i,s){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=s||qc(e)}Cc(e,i,s,o=!1){return new Em({Ac:e,methodName:i,Dc:s,path:Fe.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function uE(r){const e=r._freezeSettings(),i=qc(r._databaseId);return new Iw(r._databaseId,!!e.ignoreUndefinedProperties,i)}function Mw(r,e,i,s,o,c={}){const d=r.Cc(c.merge||c.mergeFields?2:0,e,i,o);Tm("Data must be an object, but it was:",d,s);const g=cE(s,d);let _,p;if(c.merge)_=new vn(d.fieldMask),p=d.fieldTransforms;else if(c.mergeFields){const T=[];for(const b of c.mergeFields){const x=zd(e,b,i);if(!d.contains(x))throw new dt(tt.INVALID_ARGUMENT,`Field '${x}' is specified in your field mask but missing from your input data.`);fE(T,x)||T.push(x)}_=new vn(T),p=d.fieldTransforms.filter((b=>_.covers(b.field)))}else _=null,p=d.fieldTransforms;return new Vw(new un(g),_,p)}class Kc extends vm{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Kc}}function Ow(r,e,i,s){const o=r.Cc(1,e,i);Tm("Data must be an object, but it was:",o,s);const c=[],d=un.empty();ka(s,((_,p)=>{const T=Sm(e,_,i);p=Oa(p);const b=o.yc(T);if(p instanceof Kc)c.push(T);else{const x=Xc(p,b);x!=null&&(c.push(T),d.set(T,x))}}));const g=new vn(c);return new lE(d,g,o.fieldTransforms)}function Uw(r,e,i,s,o,c){const d=r.Cc(1,e,i),g=[zd(e,s,i)],_=[o];if(c.length%2!=0)throw new dt(tt.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let x=0;x<c.length;x+=2)g.push(zd(e,c[x])),_.push(c[x+1]);const p=[],T=un.empty();for(let x=g.length-1;x>=0;--x)if(!fE(p,g[x])){const P=g[x];let K=_[x];K=Oa(K);const F=d.yc(P);if(K instanceof Kc)p.push(P);else{const k=Xc(K,F);k!=null&&(p.push(P),T.set(P,k))}}const b=new vn(p);return new lE(T,b,d.fieldTransforms)}function Xc(r,e){if(hE(r=Oa(r)))return Tm("Unsupported field value:",e,r),cE(r,e);if(r instanceof vm)return(function(s,o){if(!oE(o.Ac))throw o.Sc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${s._methodName}() is not currently supported inside arrays`);const c=s._toFieldTransform(o);c&&o.fieldTransforms.push(c)})(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(s,o){const c=[];let d=0;for(const g of s){let _=Xc(g,o.wc(d));_==null&&(_={nullValue:"NULL_VALUE"}),c.push(_),d++}return{arrayValue:{values:c}}})(r,e)}return(function(s,o){if((s=Oa(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return _2(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const c=ne.fromDate(s);return{timestampValue:Rc(o.serializer,c)}}if(s instanceof ne){const c=new ne(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Rc(o.serializer,c)}}if(s instanceof _i)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Mn)return{bytesValue:N0(o.serializer,s._byteString)};if(s instanceof ze){const c=o.databaseId,d=s.firestore._databaseId;if(!d.isEqual(c))throw o.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:rm(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof vi)return(function(d,g){return{mapValue:{fields:{[r0]:{stringValue:s0},[Ec]:{arrayValue:{values:d.toArray().map((p=>{if(typeof p!="number")throw g.Sc("VectorValues must only contain numeric values.");return em(g.serializer,p)}))}}}}}})(s,o);throw o.Sc(`Unsupported field value: ${Xd(s)}`)})(r,e)}function cE(r,e){const i={};return Wv(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ka(r,((s,o)=>{const c=Xc(o,e.mc(s));c!=null&&(i[s]=c)})),{mapValue:{fields:i}}}function hE(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof ne||r instanceof _i||r instanceof Mn||r instanceof ze||r instanceof vm||r instanceof vi)}function Tm(r,e,i){if(!hE(i)||!Zv(i)){const s=Xd(i);throw s==="an object"?e.Sc(r+" a custom object"):e.Sc(r+" "+s)}}function zd(r,e,i){if((e=Oa(e))instanceof Yc)return e._internalPath;if(typeof e=="string")return Sm(r,e);throw xc("Field path arguments must be of type string or ",r,!1,void 0,i)}const Lw=new RegExp("[~\\*/\\[\\]]");function Sm(r,e,i){if(e.search(Lw)>=0)throw xc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,i);try{return new Yc(...e.split("."))._internalPath}catch{throw xc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,i)}}function xc(r,e,i,s,o){const c=s&&!s.isEmpty(),d=o!==void 0;let g=`Function ${e}() called with invalid data`;i&&(g+=" (via `toFirestore()`)"),g+=". ";let _="";return(c||d)&&(_+=" (found",c&&(_+=` in field ${s}`),d&&(_+=` in document ${o}`),_+=")"),new dt(tt.INVALID_ARGUMENT,g+r+_)}function fE(r,e){return r.some((i=>i.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dE{constructor(e,i,s,o,c){this._firestore=e,this._userDataWriter=i,this._key=s,this._document=o,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new ze(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new zw(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const i=this._document.data.field(mE("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class zw extends dE{data(){return super.data()}}function mE(r,e){return typeof e=="string"?Sm(r,e):e instanceof Yc?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bw(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new dt(tt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Pw{convertValue(e,i="none"){switch(Ba(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ge(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(za(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw _t(62114,{value:e})}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const s={};return ka(e,((o,c)=>{s[o]=this.convertValue(c,i)})),s}convertVectorValue(e){const i=e.fields?.[Ec].arrayValue?.values?.map((s=>ge(s.doubleValue)));return new vi(i)}convertGeoPoint(e){return new _i(ge(e.latitude),ge(e.longitude))}convertArray(e,i){return(e.values||[]).map((s=>this.convertValue(s,i)))}convertServerTimestamp(e,i){switch(i){case"previous":const s=Uc(e);return s==null?null:this.convertValue(s,i);case"estimate":return this.convertTimestamp(ro(e));default:return null}}convertTimestamp(e){const i=La(e);return new ne(i.seconds,i.nanos)}convertDocumentKey(e,i){const s=ee.fromString(e);Ht(L0(s),9688,{name:e});const o=new so(s.get(1),s.get(3)),c=new pt(s.popFirst(5));return o.isEqual(i)||Yi(`Document ${c} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jw(r,e,i){let s;return s=r?r.toFirestore(e):e,s}class ec{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Rs extends dE{constructor(e,i,s,o,c,d){super(e,i,s,o,d),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new fc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const s=this._document.data.field(mE("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new dt(tt.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,i={};return i.type=Rs._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}Rs._jsonSchemaVersion="firestore/documentSnapshot/1.0",Rs._jsonSchema={type:we("string",Rs._jsonSchemaVersion),bundleSource:we("string","DocumentSnapshot"),bundleName:we("string"),bundle:we("string")};class fc extends Rs{data(e={}){return super.data(e)}}class ws{constructor(e,i,s,o){this._firestore=e,this._userDataWriter=i,this._snapshot=o,this.metadata=new ec(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach((i=>e.push(i))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach((s=>{e.call(i,new fc(this._firestore,this._userDataWriter,s.key,s,new ec(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new dt(tt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(o,c){if(o._snapshot.oldDocs.isEmpty()){let d=0;return o._snapshot.docChanges.map((g=>{const _=new fc(o._firestore,o._userDataWriter,g.doc.key,g.doc,new ec(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter);return g.doc,{type:"added",doc:_,oldIndex:-1,newIndex:d++}}))}{let d=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((g=>c||g.type!==3)).map((g=>{const _=new fc(o._firestore,o._userDataWriter,g.doc.key,g.doc,new ec(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter);let p=-1,T=-1;return g.type!==0&&(p=d.indexOf(g.doc.key),d=d.delete(g.doc.key)),g.type!==1&&(d=d.add(g.doc),T=d.indexOf(g.doc.key)),{type:kw(g.type),doc:_,oldIndex:p,newIndex:T}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new dt(tt.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=ws._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Kd.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],s=[],o=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),s.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),o.push(c.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function kw(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return _t(61501,{type:r})}}ws._jsonSchemaVersion="firestore/querySnapshot/1.0",ws._jsonSchema={type:we("string",ws._jsonSchemaVersion),bundleSource:we("string","QuerySnapshot"),bundleName:we("string"),bundle:we("string")};class qw extends Pw{constructor(e){super(),this.firestore=e}convertBytes(e){return new Mn(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new ze(this.firestore,null,i)}}function Hw(r){r=br(r,Qc);const e=br(r.firestore,vo),i=sE(e),s=new qw(e);return Bw(r._query),ww(i,r._query).then((o=>new ws(e,s,r,o)))}function Gw(r,e,i,...s){r=br(r,ze);const o=br(r.firestore,vo),c=uE(o);let d;return d=typeof(e=Oa(e))=="string"||e instanceof Yc?Uw(c,"updateDoc",r._key,e,i,s):Ow(c,"updateDoc",r._key,e),bm(o,[d.toMutation(r._key,Qn.exists(!0))])}function Fw(r){return bm(br(r.firestore,vo),[new nm(r._key,Qn.none())])}function Qw(r,e){const i=br(r.firestore,vo),s=Ld(r),o=jw(r.converter,e);return bm(i,[Mw(uE(r.firestore),"addDoc",s._key,o,r.converter!==null,{}).toMutation(s._key,Qn.exists(!1))]).then((()=>s))}function bm(r,e){return(function(s,o){const c=new Ia;return s.asyncQueue.enqueueAndForget((async()=>fw(await Aw(s),o,c))),c.promise})(sE(r),e)}(function(e,i=!0){(function(o){Ls=o})(dA),yc(new no("firestore",((s,{instanceIdentifier:o,options:c})=>{const d=s.getProvider("app").getImmediate(),g=new vo(new xA(s.getProvider("auth-internal")),new IA(d,s.getProvider("app-check-internal")),(function(p,T){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new dt(tt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new so(p.options.projectId,T)})(d,o),d);return c={useFetchStreams:i,...c},g._setSettings(c),g}),"PUBLIC").setMultipleInstances(!0)),bs(E_,T_,e),bs(E_,T_,"esm2020")})();const Yw={apiKey:"AIzaSyA0iZSxZnxQbJQ7Klm9ylwiLIluzx9BZLY",authDomain:"react-movie-7f54e.firebaseapp.com",projectId:"react-movie-7f54e",storageBucket:"react-movie-7f54e.firebasestorage.app",messagingSenderId:"175515459943",appId:"1:175515459943:web:6e74d94bbbcd30102ecfc2"},Kw=Pv(Yw),nc=Dw(Kw),ic="watchlist";function Xw(){const[r,e]=G.useState([]),[i,s]=G.useState(null),[o,c]=G.useState(!0),d=Vc(),[g,_]=G.useState({message:"",type:"success",isVisible:!1}),p=(F,k="success")=>{_({message:F,type:k,isVisible:!0})},T=()=>{_(F=>({...F,isVisible:!1}))},b=async()=>{c(!0);try{const k=(await Hw(fv(nc,ic))).docs.map(et=>({id:et.id,...et.data()}));e(k)}catch(F){console.error("Error fetching documents: ",F)}finally{c(!1)}};G.useEffect(()=>{b()},[]);const x=async F=>{try{if(F.id){const k=Ld(nc,ic,F.id),{id:et,...nt}=F;await Gw(k,nt),p("Perubahan film berhasil disimpan!","success")}else await Qw(fv(nc,ic),F),p("Film baru berhasil ditambahkan!","success");b()}catch(k){console.error("Error saving movie: ",k),p("Gagal menyimpan data ke Firebase.","error")}s(null)},P=async F=>{if(window.confirm("Yakin ingin menghapus film ini?"))try{await Fw(Ld(nc,ic,F)),b(),p("Film berhasil dihapus dari daftar.","success")}catch(k){console.error("Error deleting movie: ",k),p("Gagal menghapus data dari Firebase.","error")}},K=F=>{d(`/add/${F.id}`)};return Q.jsxs("div",{className:"app-container",children:[Q.jsx(AS,{movieCount:r.length}),Q.jsx("main",{className:"main-content",children:Q.jsxs(F1,{children:[Q.jsx(ac,{path:"/",element:Q.jsx(zS,{movies:r,deleteMovie:P,startEdit:K,isLoading:o})}),Q.jsx(ac,{path:"/add",element:Q.jsx(l_,{saveMovie:x,movies:r,editingMovie:i,setEditingMovie:s,showToast:p})}),Q.jsx(ac,{path:"/add/:id",element:Q.jsx(l_,{saveMovie:x,movies:r,editingMovie:i,setEditingMovie:s,showToast:p})})]})}),Q.jsx(kS,{message:g.message,type:g.type,isVisible:g.isVisible,onClose:T})]})}function $w(){return Q.jsx(mS,{basename:"/react-movie/",children:Q.jsx(Xw,{})})}t1.createRoot(document.getElementById("root")).render(Q.jsx(G.StrictMode,{children:Q.jsx($w,{})}));
